"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[551],{302:(b,E,a)=>{a.d(E,{F:()=>h});var t=a(1090),e=a(2598),m=a(177),T=a(2940),k=a(4207);function D(o,p){if(1&o&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&o){const u=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,u.msgs.Target,u.lang))}}function C(o,p){if(1&o&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&o){const u=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,u.msgs.Rank,u.lang))}}function g(o,p){1&o&&(e.j41(0,"th"),e.EFF(1,"Inherit"),e.k0s())}function I(o,p){1&o&&(e.j41(0,"th"),e.EFF(1,"Lvl"),e.k0s())}const l=function(o,p){return{extra:o,unique:p}};function _(o,p){if(1&o&&e.nrm(0,"tr",4),2&o){const u=p.$implicit,f=e.XpG();e.Y8G("hasTarget",f.hasTarget)("hasRank",f.hasRank)("hasInherit",f.hasInherit)("hasLearned",!1)("hasLvl",f.hasLvl)("skillLvl",u.level)("data",u)("ngClass",e.l_i(8,l,u.rank>70&&u.rank<90,u.rank>90))}}function c(o,p){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s()()),2&o){const u=e.XpG();e.R7$(1),e.BMQ("colspan",u.skillHeaderLen),e.R7$(1),e.SpI("No ",u.title," Found")}}let h=(()=>{class o{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.lang="en",this.skillHeaderLen=5,this.msgs=t.vf}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(u=>this.compendium.getSkill(u));for(const u of this.skills)u.level=this.skillLevels[u.name];this.elemOrder&&this.skills.sort((u,f)=>200*(u.level-f.level)+this.elemOrder[u.element]-this.elemOrder[f.element])}static{this.\u0275fac=function(f){return new(f||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels",lang:"lang"},features:[e.OA$],decls:26,vars:24,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(f,d){1&f&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"translateComp"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translateComp"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translateComp"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translateComp"),e.k0s(),e.DNE(18,D,3,4,"th",2),e.DNE(19,C,3,4,"th",2),e.DNE(20,g,2,0,"th",2),e.DNE(21,I,2,0,"th",2),e.k0s()(),e.j41(22,"tbody"),e.DNE(23,_,1,11,"tr",3),e.DNE(24,c,3,2,"tr",2),e.nrm(25,"tr"),e.k0s()()),2&f&&(e.R7$(3),e.BMQ("colSpan",d.skillHeaderLen),e.R7$(1),e.JRh(d.title),e.R7$(3),e.JRh(e.i5U(8,12,d.msgs.Elem,d.lang)),e.R7$(3),e.JRh(e.i5U(11,15,d.msgs.Name,d.lang)),e.R7$(3),e.JRh(e.i5U(14,18,d.msgs.Cost,d.lang)),e.R7$(3),e.JRh(e.i5U(17,21,d.msgs.Effect,d.lang)),e.R7$(2),e.Y8G("ngIf",d.hasTarget),e.R7$(1),e.Y8G("ngIf",d.hasRank),e.R7$(1),e.Y8G("ngIf",d.hasInherit),e.R7$(1),e.Y8G("ngIf",d.hasLvl),e.R7$(2),e.Y8G("ngForOf",d.skills),e.R7$(1),e.Y8G("ngIf",!d.skills.length))},dependencies:[m.YU,m.Sq,m.bT,T.t,k.uz],encapsulation:2,changeDetection:0})}}return o})()},7346:(b,E,a)=>{a.d(E,{qm:()=>L});var t=a(2598),e=a(3885),m=a(6661),T=a(177),k=a(8935),D=a(9108),C=a(361);const g=["class","app-fusion-trio-table-row"];function I(i,F){if(1&i){const n=t.RV6();t.j41(0,"tr")(1,"th",1),t.bIt("click",function(){t.eBV(n);const r=t.XpG();return t.Njj(r.toggleShowing.emit(r.showIndex))}),t.EFF(2," Show "),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"a",2),t.EFF(11),t.k0s()(),t.j41(12,"td",3),t.EFF(13),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(1),t.xc7("height",1,"em"),t.R7$(3),t.JRh(n.trio.minPrice),t.R7$(2),t.JRh(n.trio.demon.race),t.R7$(2),t.JRh(n.trio.demon.currLvl),t.R7$(2),t.FCK("routerLink","",n.baseUrl,"/",n.trio.demon.name,""),t.R7$(1),t.JRh(n.trio.demon.name),t.R7$(1),t.xc7("color","#666"),t.R7$(1),t.SpI("",n.trio.fusions.length," recipes hidden")}}function l(i,F){if(1&i&&(t.qex(0),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"a",2),t.EFF(7),t.k0s()(),t.bVm()),2&i){const n=t.XpG().$implicit,s=t.XpG(3);t.R7$(2),t.JRh(n.race),t.R7$(2),t.JRh(n.currLvl),t.R7$(2),t.FCK("routerLink","",s.baseUrl,"/",n.name,""),t.R7$(1),t.JRh(n.name)}}function _(i,F){if(1&i&&(t.qex(0),t.DNE(1,l,8,5,"ng-container",0),t.bVm()),2&i){const n=F.$implicit,s=t.XpG(3);t.R7$(1),t.Y8G("ngIf",s.trio.demon!==n)}}const c=function(i,F,n){return[i,F,n]};function h(i,F){if(1&i&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"a",2),t.EFF(9),t.k0s()(),t.DNE(10,_,2,1,"ng-container",5),t.k0s()),2&i){const n=F.$implicit,s=t.XpG(2);t.R7$(2),t.JRh(n.price),t.R7$(2),t.JRh(s.trio.demon.race),t.R7$(2),t.JRh(s.trio.demon.currLvl),t.R7$(2),t.FCK("routerLink","",s.baseUrl,"/",s.trio.demon.name,""),t.R7$(1),t.JRh(s.trio.demon.name),t.R7$(1),t.Y8G("ngForOf",t.sMw(7,c,n.d1,n.d2,n.d3))}}function o(i,F){if(1&i){const n=t.RV6();t.qex(0),t.j41(1,"tr")(2,"th",4),t.bIt("click",function(){t.eBV(n);const r=t.XpG();return t.Njj(r.toggleShowing.emit(r.showIndex))}),t.EFF(3," Hide "),t.k0s()(),t.DNE(4,h,11,11,"tr",5),t.bVm()}if(2&i){const n=t.XpG();t.R7$(2),t.xc7("height",1,"em"),t.BMQ("rowspan",n.trio.fusions.length+1),t.R7$(2),t.Y8G("ngForOf",n.trio.fusions)}}const p=["class","app-fusion-trio-table-header"],u=function(i){return["sortable",i]};function f(i,F){1&i&&(t.j41(0,"tbody")(1,"tr")(2,"td",8),t.EFF(3,"No fusions found!"),t.k0s()()())}function d(i,F){if(1&i){const n=t.RV6();t.j41(0,"tbody",9),t.bIt("toggleShowing",function(r){t.eBV(n);const R=t.XpG();return t.Njj(R.toggleShowing(r))}),t.k0s()}if(2&i){const n=F.$implicit,s=F.index,r=t.XpG();t.Y8G("trio",n)("showing",r.showing[s])("showIndex",s)}}let v=(()=>{class i{constructor(){this.baseUrl="../../..",this.toggleShowing=new t.bkB}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["tbody",8,"app-fusion-trio-table-row"]],inputs:{trio:"trio",showing:"showing",showIndex:"showIndex",baseUrl:"baseUrl"},outputs:{toggleShowing:"toggleShowing"},attrs:g,decls:2,vars:2,consts:[[4,"ngIf"],[1,"nav",3,"click"],[3,"routerLink"],["colspan","6"],[1,"nav","active",3,"click"],[4,"ngFor","ngForOf"]],template:function(s,r){1&s&&(t.DNE(0,I,14,11,"tr",0),t.DNE(1,o,5,4,"ng-container",0)),2&s&&(t.Y8G("ngIf",!r.showing),t.R7$(1),t.Y8G("ngIf",r.showing))},dependencies:[T.Sq,T.bT,k.Wk],encapsulation:2,changeDetection:0})}}return i})(),O=(()=>{class i extends m.O{constructor(){super(...arguments),this.hideAll=new t.bkB}toggleHideAll(){this.hideAll.emit(!0)}static{this.\u0275fac=function(){let n;return function(r){return(n||(n=t.xGo(i)))(r||i)}}()}static{this.\u0275cmp=t.VBU({type:i,selectors:[["tfoot",8,"app-fusion-trio-table-header"]],inputs:{title:"title",leftHeader:"leftHeader"},outputs:{hideAll:"hideAll"},features:[t.Vt3],attrs:p,decls:35,vars:24,consts:[["colspan","11",1,"title"],["rowspan","2",1,"sortable",3,"click"],["rowSpan","2",3,"ngClass","click"],["colspan","3"],[3,"ngClass","click"]],template:function(s,r){1&s&&(t.j41(0,"tr")(1,"th",0),t.EFF(2),t.k0s()(),t.j41(3,"tr")(4,"th",1),t.bIt("click",function(){return r.toggleHideAll()}),t.EFF(5,"Hide All"),t.k0s(),t.j41(6,"th",2),t.bIt("click",function(){return r.nextSortFunIndex(1)}),t.EFF(7,"Price"),t.k0s(),t.j41(8,"th",3),t.EFF(9),t.k0s(),t.j41(10,"th",3),t.EFF(11,"Ingredient 2"),t.k0s(),t.j41(12,"th",3),t.EFF(13,"Ingredient 3"),t.k0s()(),t.j41(14,"tr")(15,"th",4),t.bIt("click",function(){return r.nextSortFunIndex(2)}),t.EFF(16,"Race"),t.k0s(),t.j41(17,"th",4),t.bIt("click",function(){return r.nextSortFunIndex(3)}),t.EFF(18,"Lvl"),t.j41(19,"span"),t.EFF(20,"--"),t.k0s()(),t.j41(21,"th",4),t.bIt("click",function(){return r.nextSortFunIndex(4)}),t.EFF(22,"Name"),t.k0s(),t.j41(23,"th"),t.EFF(24,"Race"),t.k0s(),t.j41(25,"th"),t.EFF(26,"Lvl"),t.k0s(),t.j41(27,"th"),t.EFF(28,"Name"),t.k0s(),t.j41(29,"th"),t.EFF(30,"Race"),t.k0s(),t.j41(31,"th"),t.EFF(32,"Lvl"),t.k0s(),t.j41(33,"th"),t.EFF(34,"Name"),t.k0s()()),2&s&&(t.R7$(2),t.JRh(r.title),t.R7$(2),t.xc7("width",8,"%"),t.R7$(2),t.xc7("width",8,"%"),t.Y8G("ngClass",t.eq3(16,u,r.sortDirClass(1))),t.R7$(2),t.xc7("width",28,"%"),t.R7$(1),t.JRh(r.leftHeader),t.R7$(1),t.xc7("width",28,"%"),t.R7$(2),t.xc7("width",28,"%"),t.R7$(3),t.Y8G("ngClass",t.eq3(18,u,r.sortDirClass(2))),t.R7$(2),t.Y8G("ngClass",t.eq3(20,u,r.sortDirClass(3))),t.R7$(4),t.Y8G("ngClass",t.eq3(22,u,r.sortDirClass(4))))},dependencies:[T.YU],styles:["span[_ngcontent-%COMP%]{color:transparent}"],changeDetection:0})}}return i})(),L=(()=>{class i extends m.r{constructor(n){super(),this.changeDetector=n,this.title="Fusion Trio Table",this.leftHeader="Ingredient 1",this.showing=[],this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}toggleShowing(n){this.showing[n]=!this.showing[n]}toggleHideAll(){for(let n=0;n<this.showing.length;n++)this.showing[n]=!1}nextSortFuns(){this.sortFuns=[],this.raceOrder&&(this.sortFuns.push((n,s)=>n.minPrice-s.minPrice,(n,s)=>n.minPrice-s.minPrice,(n,s)=>200*(this.raceOrder[n.demon.race]-this.raceOrder[s.demon.race])+n.demon.currLvl-s.demon.currLvl,(n,s)=>n.demon.currLvl-s.demon.currLvl,(n,s)=>n.demon.name.localeCompare(s.demon.name)),this.sort())}getSortFun(n){return this.sortFuns[n]}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-fusion-trio-table"]],inputs:{title:"title",leftHeader:"leftHeader",raceOrder:"raceOrder"},features:[t.Jv_([e.P]),t.Vt3],decls:9,vars:9,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-fusion-trio-table-header",3,"title","leftHeader","sortFunIndex","hideAll","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-fusion-trio-table-header",3,"title","leftHeader"],["hiddenHeader",""],[4,"ngIf"],["class","app-fusion-trio-table-row",3,"trio","showing","showIndex","toggleShowing",4,"ngFor","ngForOf"],["colspan","11"],[1,"app-fusion-trio-table-row",3,"trio","showing","showIndex","toggleShowing"]],template:function(s,r){1&s&&(t.j41(0,"div")(1,"table",0)(2,"tfoot",1,2),t.bIt("hideAll",function(){return r.toggleHideAll()})("sortFunIndexChanged",function(P){return r.sortFunIndex=P}),t.k0s()(),t.j41(4,"table",3),t.nrm(5,"tfoot",4,5),t.DNE(7,f,4,0,"tbody",6),t.DNE(8,d,1,3,"tbody",7),t.k0s()()),2&s&&(t.R7$(2),t.Y8G("title",r.title)("leftHeader",r.leftHeader)("sortFunIndex",r.sortFunIndex),t.R7$(3),t.xc7("visibility","collapse"),t.Y8G("title",r.title)("leftHeader",r.leftHeader),t.R7$(2),t.Y8G("ngIf",!r.rowData.length),t.R7$(1),t.Y8G("ngForOf",r.rowData))},dependencies:[T.Sq,T.bT,D.a,C.N,O,v],encapsulation:2,changeDetection:0})}}return i})()},6188:(b,E,a)=>{a.d(E,{X:()=>C});var t=a(6947),e=a(4660),m=a(2598),T=a(8935),k=a(8696),D=a(7346);let C=(()=>{class g{constructor(l,_,c,h){this.route=l,this.currentDemonService=_,this.changeDetectorRef=c,this.fusionTrioService=h,this.subscriptions=[],this.fissionTrios=[],this.toDemonTrio=o=>(0,e.f7)(o,this.compendium),this.sortDemonTrio=(o,p)=>o.price-p.price}ngOnInit(){this.pairCalculator=this.fusionTrioService.fissionCalculator,this.calculator=this.fusionTrioService.triFissionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(l=>{this.compendium=l,this.checkFissions()})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(l=>{this.chart=l,this.checkFissions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(l=>{this.currentDemon=l,this.checkFissions()}))}ngOnDestroy(){for(const l of this.subscriptions)l.unsubscribe()}checkFissions(){this.compendium&&this.chart&&this.currentDemon&&(this.changeDetectorRef.markForCheck(),this.getFissions())}getFissions(){const _=this.calculator.getFusions(this.currentDemon,this.compendium,this.chart).map(this.toDemonTrio),c={};for(const h of _)for(const o of[h.d1.name,h.d2.name,h.d3.name])c[o]||(c[o]=[]),c[o].push(h);for(const h of Object.values(c))h.sort(this.sortDemonTrio);this.fissionTrios=Object.entries(c).map(h=>({demon:this.compendium.getDemon(h[0]),minPrice:h[1][0].price,fusions:h[1]}))}static{this.\u0275fac=function(_){return new(_||g)(m.rXU(T.nX),m.rXU(k.i),m.rXU(m.gRc),m.rXU(t.eG))}}static{this.\u0275cmp=m.VBU({type:g,selectors:[["app-triple-fission-table"]],decls:1,vars:3,consts:[[3,"title","raceOrder","rowData"]],template:function(_,c){1&_&&m.nrm(0,"app-fusion-trio-table",0),2&_&&m.Y8G("title","Ingredient 1 x Ingredient 2 x Ingredient 3 = "+c.currentDemon)("raceOrder",c.chart.raceOrder)("rowData",c.fissionTrios)},dependencies:[D.qm],encapsulation:2,changeDetection:0})}}return g})()},131:(b,E,a)=>{a.d(E,{W:()=>C});var t=a(6947),e=a(4660),m=a(2598),T=a(8935),k=a(8696),D=a(7346);let C=(()=>{class g{constructor(l,_,c,h){this.route=l,this.currentDemonService=_,this.changeDetectorRef=c,this.fusionTrioService=h,this.subscriptions=[],this.fusionTrios=[],this.toDemonTrio=o=>(0,e.OY)(o,this.compendium),this.sortDemonTrio=(o,p)=>o.price-p.price}ngOnInit(){this.pairCalculator=this.fusionTrioService.fusionCalculator,this.calculator=this.fusionTrioService.triFusionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(l=>{this.compendium=l,this.checkFusions()})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(l=>{this.chart=l,this.checkFusions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(l=>{this.currentDemon=l,this.checkFusions()}))}ngOnDestroy(){for(const l of this.subscriptions)l.unsubscribe()}checkFusions(){this.compendium&&this.chart&&this.currentDemon&&(this.changeDetectorRef.markForCheck(),this.getFusions())}getFusions(){const _=this.calculator.getFusions(this.currentDemon,this.compendium,this.chart).map(this.toDemonTrio),c={};for(const h of _)c[h.d3.name]||(c[h.d3.name]=[]),c[h.d3.name].push(h);for(const h of Object.values(c))h.sort(this.sortDemonTrio);this.fusionTrios=Object.entries(c).map(h=>({demon:this.compendium.getDemon(h[0]),minPrice:h[1][0].price,fusions:h[1]}))}static{this.\u0275fac=function(_){return new(_||g)(m.rXU(T.nX),m.rXU(k.i),m.rXU(m.gRc),m.rXU(t.eG))}}static{this.\u0275cmp=m.VBU({type:g,selectors:[["app-triple-fusion-table"]],decls:1,vars:4,consts:[[3,"title","raceOrder","leftHeader","rowData"]],template:function(_,c){1&_&&m.nrm(0,"app-fusion-trio-table",0),2&_&&m.Y8G("title","Result = Lvl "+c.compendium.getDemon(c.currentDemon).currLvl+" "+c.currentDemon+" x Ingredient 2 x Ingredient 3")("raceOrder",c.chart.raceOrder)("leftHeader","Result")("rowData",c.fusionTrios)},dependencies:[D.qm],encapsulation:2,changeDetection:0})}}return g})()}}]);