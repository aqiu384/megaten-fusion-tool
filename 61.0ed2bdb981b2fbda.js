"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[61],{3687:(w,q,c)=>{c.d(q,{d:()=>_});var n=c(4769),e=c(6593),E=c(6814);function O(g,T){if(1&g){const a=n.EpF();n.TgZ(0,"tr")(1,"td")(2,"label"),n._uU(3),n.TgZ(4,"input",3),n.NdJ("change",function(){const f=n.CHM(a).$implicit,v=n.oxw();return n.KtG(v.toggledName.emit(f.name))}),n.qZA()()()()}if(2&g){const a=T.$implicit;n.xp6(3),n.hij("",a.name.split(",").join(", ")," "),n.xp6(1),n.Q6J("checked",a.included)}}let _=(()=>{var g;class T{constructor(u){this.title=u,this.dlcTitle="Included DLC Demons",this.langEn=!0,this.toggledName=new n.vpe}set appTitle(u){this.title.setTitle((this.langEn?"Fusion Settings - ":"\u5408\u4f53\u8a2d\u5b9a ")+u)}}return(g=T).\u0275fac=function(u){return new(u||g)(n.Y36(e.Dx))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-demon-dlc-settings"]],inputs:{dlcDemons:"dlcDemons",dlcTitle:"dlcTitle",langEn:"langEn",appTitle:"appTitle"},outputs:{toggledName:"toggledName"},decls:10,vars:2,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(u,p){1&u&&(n.ynx(0),n.TgZ(1,"h2"),n._uU(2),n.qZA(),n.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th",1),n._uU(7,"DLC"),n.qZA()()(),n.TgZ(8,"tbody"),n.YNc(9,O,5,2,"tr",2),n.qZA()(),n.BQk()),2&u&&(n.xp6(2),n.Oqu(p.dlcTitle),n.xp6(7),n.Q6J("ngForOf",p.dlcDemons))},dependencies:[E.sg],encapsulation:2,changeDetection:0}),T})()},8615:(w,q,c)=>{c.d(q,{R:()=>f});var _,n=c(4769),e=c(6593),E=c(4487),O=c(6814);function g(v,m){if(1&v&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&v){const r=m.$implicit,h=n.oxw();n.xp6(1),n.Oqu(r.slice(0,h.nameCut))}}function T(v,m){if(1&v&&(n.TgZ(0,"td",4),n._uU(1),n.qZA()),2&v){const r=m.$implicit,h=n.oxw(2);n.Q6J("ngClass",r.slice(0,4)),n.xp6(1),n.Oqu(r.slice(4,h.nameCut+4))}}function a(v,m){if(1&v&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.qZA(),n.YNc(3,T,2,2,"td",3),n.TgZ(4,"th"),n._uU(5),n.qZA()()),2&v){const r=m.$implicit;n.xp6(2),n.Oqu(r[0]),n.xp6(1),n.Q6J("ngForOf",r.slice(1,r.length-1)),n.xp6(2),n.Oqu(r[r.length-1])}}function u(v,m){if(1&v&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&v){const r=m.$implicit,h=n.oxw();n.xp6(1),n.Oqu(r.slice(0,h.nameCut))}}function p(v,m){if(1&v&&(n.TgZ(0,"tr")(1,"th",0),n._uU(2),n.qZA()()),2&v){const r=n.oxw();n.xp6(1),n.uIk("colspan",r.table[0].length),n.xp6(1),n.AsE("",r.appName," ",r.tripTitle,"")}}class f{constructor(m,r){this.title2=m,this.route=r,this.normTitle="Normal Fusions",this.tripTitle="",this.isPersona=!1,this.filterDarks=!0,this.langEn=!0,this.subscriptions=[],this.table=[],this.nameCut=4}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(m=>{this.appName=m.appName||"Shin Megami Tensei",this.nameCut=this.langEn?4:2,this.title2.setTitle(this.langEn?`Fusion Chart - ${this.appName} Fusion Calculator`:`\u5408\u4f53\u8868 ${this.appName} \u5408\u4f53\u30a2\u30d7\u30ea`)}))}ngOnChanges(){this.normChart&&this.fillFusionChart()}ngOnDestroy(){for(const m of this.subscriptions)m.unsubscribe()}fillFusionChart(){const m="noneNone",h=f.RESULT_COLORS.reduce((y,[S,F])=>F.reduce((P,Q)=>(P[Q]=S,P),y),{}),b=this.normChart.elementDemons;let A=[],x=this.normChart.races,M=[];this.filterDarks&&(A=this.normChart.races.filter(y=>this.normChart.getLightDark(y)>0),x=this.normChart.races.filter(y=>0===this.normChart.getLightDark(y)),M=this.normChart.races.filter(y=>-1===this.normChart.getLightDark(y)),0===M.length&&A.length>0&&(A=this.normChart.races.filter(y=>this.normChart.getLightDark(y)>-1),x=[],M=this.normChart.races.filter(y=>this.normChart.getLightDark(y)<-1)));const B=A.length-M.length,U=A.concat(x,b),j=M.length?M.concat(Array(U.length-M.length).fill("")):U,$=this.mitaTable?U:A.concat(x,Array(b.length).fill("")),G=this.mitaTable||M.length?Array(B).fill("").concat(M,x,b):U;this.table=[[""].concat(U,[""])];for(let y=0;y<G.length;y++){const S=Array(U.length+2).fill("empt-"),F=G[y],P=$[y],Q=-1!==b.indexOf(F),H=-1!==b.indexOf(P);this.table.push(S),S[0]=F,S[S.length-1]=P;for(let D=y;D<U.length;D++){const k=U[D],Z=-1!==b.indexOf(k);if(Z&&H){const L=b.indexOf(P),K=b.indexOf(k),I=this.mitaTable[L][K-L-1];S[D+1]=I?(h[I]||"norm")+I:m}else if(Z&&P){const L=this.normChart.getElemFusions(k)[P];S[D+1]=L?(h[L]||"rank")+(L>0?"+":"")+L.toString():m}else if(k&&P){const L=this.isPersona&&k===P?k:this.normChart.getRaceFusion(k,P);S[D+1]=L?(h[L]||(k===P?"elem":"norm"))+L:m}}if(this.tripChart)for(let D=0;D<=y-B;D++){const k=j[D];if(k&&Q){const Z=this.tripChart.getElemFusions(F)[k];S[D+1]=Z?(h[Z]||"rank")+(Z>0?"+":"")+Z.toString():m}else if(k&&F){const Z=this.tripChart.getRaceFusion(k,F);S[D+1]=Z?(h[Z]||(k===F?"elem":"trip"))+Z:m}}if(-1!==F.indexOf(" x ")){const[D,k]=F.split(" x "),Z=D.slice(0,3)+"x"+k.slice(0,3);S[0]=Z,S[S.length-1]=Z}else if(-1!==F.indexOf(" ")){const D=F.split(" ")[0];S[0]=D,S[S.length-1]=D}}for(let y=0;y<this.table[0].length;y++){const S=this.table[0][y];if(-1!==S.indexOf(" x ")){const[F,P]=S.split(" x ");this.table[0][y]=F.slice(0,2)+P.slice(0,2)}}this.table.push([""].concat(j,[""]))}}(_=f).RESULT_COLORS=Object.entries({oran:["-2","Erthys","Gnome","Saki","Saki Mitama","Random","\u30a2\u30fc\u30b7\u30fc\u30ba","\u30ce\u30fc\u30e0","\u30b5\u30ad\u30df\u30bf\u30de"],redd:["-1","Flaemis","Salamander","Ara ","Ara Mitama","Fiend","\u30d5\u30ec\u30a4\u30df\u30fc\u30ba","\u30b5\u30e9\u30de\u30f3\u30c0\u30fc","\u30a2\u30e9\u30df\u30bf\u30de"],gree:["1","Aeros","Sylph","Kusi","Kusi Mitama","UMA","\u30a8\u30a2\u30ed\u30b9","\u30b7\u30eb\u30ad\u30fc","\u30af\u30b7\u30df\u30bf\u30de"],blue:["2","Aquans","Undine","Nigi","Nigi Mitama","Enigma","\u30a2\u30af\u30a2\u30f3\u30ba","\u30a6\u30f3\u30c7\u30a3\u30fc\u30cd","\u30cb\u30ae\u30df\u30bf\u30de"]}),_.\u0275fac=function(m){return new(m||_)(n.Y36(e.Dx),n.Y36(E.gz))},_.\u0275cmp=n.Xpm({type:_,selectors:[["app-fusion-chart"]],inputs:{normChart:"normChart",tripChart:"tripChart",mitaTable:"mitaTable",normTitle:"normTitle",tripTitle:"tripTitle",isPersona:"isPersona",filterDarks:"filterDarks",langEn:"langEn",counter:"counter"},features:[n.TTD],decls:12,vars:7,consts:[[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(m,r){1&m&&(n.TgZ(0,"table")(1,"tbody")(2,"tr")(3,"th",0),n._uU(4),n.qZA()(),n.TgZ(5,"tr"),n.YNc(6,g,2,1,"th",1),n.qZA(),n.YNc(7,a,6,3,"tr",1),n.TgZ(8,"tr"),n.YNc(9,u,2,1,"th",1),n.qZA(),n.YNc(10,p,3,3,"tr",2),n.qZA(),n._UZ(11,"tbody"),n.qZA()),2&m&&(n.xp6(3),n.uIk("colspan",r.table[0].length),n.xp6(1),n.AsE("",r.appName," ",r.normTitle,""),n.xp6(2),n.Q6J("ngForOf",r.table[0]),n.xp6(1),n.Q6J("ngForOf",r.table.slice(1,r.table.length-1)),n.xp6(2),n.Q6J("ngForOf",r.table[r.table.length-1]),n.xp6(1),n.Q6J("ngIf",r.tripTitle))},dependencies:[O.mk,O.sg,O.O5],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto;white-space:nowrap}td.elem[_ngcontent-%COMP%]{color:#0f0}td.trip[_ngcontent-%COMP%]{color:#d3d3d3}td.oran[_ngcontent-%COMP%]{color:orange}td.redd[_ngcontent-%COMP%]{color:red}td.gree[_ngcontent-%COMP%]{color:#0f0}td.blue[_ngcontent-%COMP%]{color:#0ff}td.none[_ngcontent-%COMP%]{color:transparent}td.empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0})},9052:(w,q,c)=>{c.d(q,{m:()=>O});var n=c(7548),e=c(4769),E=c(8615);let O=(()=>{var _;class g{constructor(a,u){this.changeDetectorRef=a,this.fusionTrioService=u,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(a=>{this.normChart=a.normalChart,this.tripChart=a.tripleChart}))}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}}return(_=g).\u0275fac=function(a){return new(a||_)(e.Y36(e.sBO),e.Y36(n.Ir))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-triple-fusion-chart"]],decls:1,vars:4,consts:[[3,"normChart","tripChart","normTitle","tripTitle"]],template:function(a,u){1&a&&e._UZ(0,"app-fusion-chart",0),2&a&&e.Q6J("normChart",u.normChart)("tripChart",u.tripChart)("normTitle","Normal Fusions")("tripTitle","Triple Fusions")},dependencies:[E.R],encapsulation:2,changeDetection:0}),g})()},3186:(w,q,c)=>{c.d(q,{f:()=>e});var n=c(4769);let e=(()=>{var E;class O{constructor(g,T){this.changeDetector2=g,this.fusionDataService2=T,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService2.compendium.subscribe(g=>{this.changeDetector2.markForCheck(),this.compendium=g,this._dlcDemons=Object.assign({},this.compendium.dlcDemons),this.dlcDemons=Object.entries(this._dlcDemons).map(([T,a])=>({name:T,included:a}))}))}ngOnDestroy(){for(const g of this.subscriptions)g.unsubscribe()}toggleName(g){this._dlcDemons[g]=!this._dlcDemons[g],this.fusionDataService2.nextDlcDemons(this._dlcDemons)}}return(E=O).\u0275fac=function(g){n.$Z()},E.\u0275dir=n.lG2({type:E}),O})()},2812:(w,q,c)=>{c.d(q,{t:()=>e});var n=c(6262);class e extends n.g{constructor(O,_,g){super(),this.elementDemons=[],this.lvlModifier=.5,this.initCharts(O,g)}initCharts(O,_){const g=O.races,T=O.table,a=[];for(let u=0;u<g.length;u++)a.push(T[u].slice(_?0:u,_?u+1:g.length)),_||(a[u][0]="-");this.races=g,this.lvlModifier=_?4.25:.5,this.fissionChart=n.g.loadFissionTableJson(g,this.elementDemons,a),this.fusionChart=n.g.loadFusionTableJson(g,a),this.elementChart={}}}},8054:(w,q,c)=>{c.d(q,{V:()=>Ze});var n=c(4487),e=c(4769),E=c(6814),O=c(5390);const _=function(){return{title:"Shadow List",link:"shadows"}},g=function(){return{title:"QR Code Generator",link:"qrcodes"}},T=function(t,l){return[t,l]};let a=(()=>{var t;class l{}return(t=l).\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-pq2-compendium"]],decls:1,vars:8,consts:[[3,"ngClass","mainList","otherLinks"]],template:function(s,i){1&s&&e._UZ(0,"app-demon-compendium",0),2&s&&e.Q6J("ngClass","pq2")("mainList","persona")("otherLinks",e.WLB(5,T,e.DdM(3,_),e.DdM(4,g)))},dependencies:[E.mk,O.e],styles:[".pq2 div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:center;color:transparent}.pq2 div.element-icon.phy{background-image:url(/assets/images/p5/phys.png)}.pq2 div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.pq2 div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.pq2 div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.pq2 div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.pq2 div.element-icon.psy{background-image:url(/assets/images/p5/psy.png)}.pq2 div.element-icon.nuk{background-image:url(/assets/images/p5/nuke.png)}.pq2 div.element-icon.ble{background-image:url(/assets/images/p5/bless.png)}.pq2 div.element-icon.cur{background-image:url(/assets/images/p5/curse.png)}.pq2 div.element-icon.mag{background-image:url(/assets/images/p5/almighty.png)}.pq2 div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.pq2 div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.pq2 div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.pq2 div.element-icon.def{background-image:url(/assets/images/p5/support.png)}.pq2 div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.pq2 div.element-icon.nav{background-image:url(/assets/images/p5/trait.png)}.pq2 div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.pq2 th.title,.pq2 th.nav.active,.pq2 th.nav.active a{color:#fff;background-color:#ff4800}.pq div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:center;color:transparent}.pq div.element-icon.cut{background-image:url(/assets/images/p5/sword.png)}.pq div.element-icon.bas{background-image:url(/assets/images/p5/phys.png)}.pq div.element-icon.sta{background-image:url(/assets/images/p5/gun.png)}.pq div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.pq div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.pq div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.pq div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.pq div.element-icon.lig{background-image:url(/assets/images/p5/bless.png)}.pq div.element-icon.dar{background-image:url(/assets/images/p5/curse.png)}.pq div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.pq div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.pq div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.pq div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.pq div.element-icon.nav{background-image:url(/assets/images/p5/trait.png)}.pq div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.pq th.title,.pq th.nav.active,.pq th.nav.active a{color:#000;background-color:#aa1ca9}\n"],encapsulation:2,changeDetection:0}),l})();var u=c(1032),p=c(6593),f=c(2026),v=c(4101);let m=(()=>{var t;class l extends u.l{constructor(s,i,d,C){super(s,d,C),this.showAllies=!i.snapshot.data.showShadows,this.showEnemies=!this.showAllies,this.compConfig=C.compConfig,this.defaultSortFun=(J,R)=>200*(this.compConfig.raceOrder[J.race]-this.compConfig.raceOrder[R.race])+R.lvl-J.lvl,this.appName=`List of Personas - ${C.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Shadows - ${C.appName}`,this.statHeaders=this.compConfig.enemyStats,this.resistHeaders=this.compConfig.enemyResists,this.inheritOrder=null)}}return(t=l).\u0275fac=function(s){return new(s||t)(e.Y36(p.Dx),e.Y36(n.gz),e.Y36(e.sBO),e.Y36(f.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-demon-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(s,i){1&s&&(e._UZ(0,"app-smt-demon-list",0),e.ALo(1,"async")),2&s&&e.Q6J("isEnemy",i.showEnemies)("raceOrder",i.compConfig.raceOrder)("statHeaders",i.statHeaders)("resistHeaders",i.resistHeaders)("inheritOrder",i.inheritOrder)("rowData",e.lcZ(1,6,i.demons))},dependencies:[v.Q,E.Ov],encapsulation:2,changeDetection:0}),l})();var r=c(4330),h=c(3934);let b=(()=>{var t;class l extends r.e{constructor(s,i,d){super(s,i,d),this.appName=`List of Skills - ${d.appName}`,this.compConfig=d.compConfig,this.defaultSortFun=(C,J)=>1e4*(this.compConfig.elemOrder[C.element]-this.compConfig.elemOrder[J.element])+C.rank-J.rank}}return(t=l).\u0275fac=function(s){return new(s||t)(e.Y36(p.Dx),e.Y36(e.sBO),e.Y36(f.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-skill-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(s,i){1&s&&(e._UZ(0,"app-smt-skill-list",0),e.ALo(1,"async")),2&s&&e.Q6J("elemOrder",i.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Skill Card")("rowData",e.lcZ(1,6,i.skills))},dependencies:[h.J,E.Ov],encapsulation:2,changeDetection:0}),l})();var A=c(7880),x=c(8520),M=c(755),B=c(4069),U=c(8711),j=c(1009);let $=(()=>{var t;class l{}return(t=l).\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:19,vars:14,consts:[[3,"title","statHeaders","stats"],[1,"entry-table"],["colspan","2",1,"title"],[3,"resistHeaders","resists","ailmentHeaders","ailments"],[3,"hasTarget","hasLvl","elemOrder","compendium","skillLevels"]],template:function(s,i){1&s&&(e._UZ(0,"app-demon-stats",0),e.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),e._uU(5,"Appearances"),e.qZA()(),e.TgZ(6,"tr")(7,"th"),e._uU(8,"Areas"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Drops"),e.qZA()()(),e.TgZ(11,"tbody")(12,"tr")(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()()(),e._UZ(17,"app-demon-resists",3)(18,"app-demon-skills",4)),2&s&&(e.Q6J("title","Lvl "+i.demon.lvl+" "+i.demon.race+" "+i.demon.name)("statHeaders",i.compConfig.enemyStats)("stats",i.demon.stats),e.xp6(14),e.Oqu(i.demon.area),e.xp6(2),e.Oqu(i.demon.drop),e.xp6(1),e.Q6J("resistHeaders",i.compConfig.enemyResists)("resists",i.demon.resists)("ailmentHeaders",i.compConfig.ailmentElems)("ailments",i.demon.ailments),e.xp6(1),e.Q6J("hasTarget",!0)("hasLvl",!1)("elemOrder",i.compConfig.elemOrder)("compendium",i.compendium)("skillLevels",i.demon.skills))},dependencies:[x.O,j.I,M.n],encapsulation:2,changeDetection:0}),l})();function G(t,l){if(1&t&&(e.ynx(0),e._UZ(1,"app-demon-stats",2)(2,"app-demon-skills",3)(3,"app-smt-fusions",4),e.BQk()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("title","Lvl "+o.demon.lvl+" "+o.demon.race+" "+o.demon.name)("price",o.demon.price)("statHeaders",o.compConfig.baseStats)("stats",o.demon.stats),e.xp6(1),e.Q6J("hasTarget",!0)("elemOrder",o.compConfig.elemOrder)("compendium",o.compendium)("skillLevels",o.demon.skills),e.xp6(1),e.Q6J("hasTripleFusion",!0)("excludedDlc","excluded"===o.demon.fusion)}}function y(t,l){if(1&t&&e._UZ(0,"app-demon-missing",5),2&t){const o=e.oxw();e.Q6J("name",o.name)}}function S(t,l){if(1&t&&e._UZ(0,"app-demon-entry",1),2&t){const o=e.oxw();e.Q6J("name",o.name)("demon",o.demon)("compConfig",o.compConfig)("compendium",o.compendium)}}function F(t,l){if(1&t&&e._UZ(0,"app-enemy-entry",1),2&t){const o=e.oxw();e.Q6J("name",o.name)("demon",o.demon)("compConfig",o.compConfig)("compendium",o.compendium)}}let P=(()=>{var t;class l{}return(t=l).\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","price","statHeaders","stats"],[3,"hasTarget","elemOrder","compendium","skillLevels"],[3,"hasTripleFusion","excludedDlc"],[3,"name"]],template:function(s,i){1&s&&(e.YNc(0,G,4,10,"ng-container",0),e.YNc(1,y,1,1,"app-demon-missing",1)),2&s&&(e.Q6J("ngIf",i.demon),e.xp6(1),e.Q6J("ngIf",!i.demon))},dependencies:[E.O5,A.t,x.O,M.n,B.O],encapsulation:2,changeDetection:0}),l})(),Q=(()=>{var t;class l{constructor(s,i,d,C){this.route=s,this.title=i,this.currentDemonService=d,this.fusionDataService=C,this.subscriptions=[],this.appName="Test App",this.appName=C.appName,this.compConfig=C.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(s=>{this.compendium=s,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(s=>{this.name=s,this.getDemonEntry()})),this.route.params.subscribe(s=>{this.currentDemonService.nextCurrentDemon(s.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}}return(t=l).\u0275fac=function(s){return new(s||t)(e.Y36(n.gz),e.Y36(p.Dx),e.Y36(U.s),e.Y36(f.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium"]],template:function(s,i){1&s&&(e.YNc(0,S,1,4,"app-demon-entry",0),e.YNc(1,F,1,4,"app-enemy-entry",0)),2&s&&(e.Q6J("ngIf",!i.demon||!i.demon.isEnemy),e.xp6(1),e.Q6J("ngIf",i.demon&&i.demon.isEnemy))},dependencies:[E.O5,P,$],encapsulation:2,changeDetection:0}),l})();const H=Array(24).fill(0);function D(t,l){return t.split("").map(o=>o.charCodeAt(0)).concat(Array(l-t.length).fill(0))}H[0]=4,H[2]=50,H[4]=50,H[6]=50,H[7]=50,H[8]=50,H[12]=50,H[16]=50,H[20]=50;const k=[].concat(D("aqiu384.github.io",21),D("https://youtu.be/b1KfNEPKncQ",33)),Z="kitaro",L="bancho",W=[].concat(D(Z,17),D(L,17)),X=[].concat(D(Z,29),D(L,29)),V=[].concat(D(Z,17),D(L,17),D("renren",17),D("hamuko",17)),z=[].concat([34,50],Array(36).fill(31),[31,0,31,0,0,0,1,128]),ee=[].concat([34,50],Array(54).fill(31),[31,0,1,0]);var N=c(95);let oe=(()=>{var t;class l{constructor(){this.byteArray=[],this.errorLvl="L",this.typeNum=10,this.qrFactory=qrcode(this.typeNum,this.errorLvl),this.qrImg=null}ngOnChanges(){this.createQrcode()}createQrcode(){this.qrFactory=qrcode(this.typeNum,this.errorLvl),this.qrFactory.addData(this.byteArray.map(s=>String.fromCharCode(s)).join("")),this.qrFactory.make(),this.qrImg=this.qrFactory.createImgTag(5)}}return(t=l).\u0275fac=function(s){return new(s||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-qrcode"]],inputs:{byteArray:"byteArray",errorLvl:"errorLvl",typeNum:"typeNum"},features:[e.TTD],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(s,i){1&s&&e._UZ(0,"div",0),2&s&&e.Q6J("innerHtml",i.qrImg,e.oJD)},encapsulation:2,changeDetection:0}),l})();var ie=c(2173);function re(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.index;e.Q6J("value",o+1),e.xp6(1),e.Oqu(o+1)}}function ae(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.index;e.Q6J("value",o+1),e.xp6(1),e.Oqu(o+1)}}function le(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.index;e.Q6J("value",o+1),e.xp6(1),e.Oqu(o+1)}}function ce(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function me(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.Q6J("value",o.name),e.xp6(1),e.Oqu(o.name)}}function pe(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function ue(t,l){if(1&t&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&t){const o=l.$implicit;e.Q6J("value",o.name),e.xp6(1),e.Oqu(o.name)}}function he(t,l){if(1&t&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"skillCostToString"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.BQk()),2&t){const o=l.$implicit;e.xp6(1),e.Udp("color",o.cost?null:"transparent"),e.xp6(1),e.Oqu(e.lcZ(3,5,o.cost)),e.xp6(3),e.Oqu(o.effect),e.xp6(2),e.Oqu(o.target)}}function de(t,l){1&t&&(e.TgZ(0,"td"),e._uU(1,"-"),e.qZA(),e.TgZ(2,"td"),e._uU(3,"-"),e.qZA(),e.TgZ(4,"td"),e._uU(5,"-"),e.qZA())}const ge=function(t){return{unique:t}};function fe(t,l){if(1&t){const o=e.EpF();e.ynx(0,18),e.TgZ(1,"tr",19)(2,"td")(3,"select",20),e.NdJ("change",function(){const d=e.CHM(o).$implicit,C=e.oxw();return e.KtG(d.controls.name.setValue(C.skills[d.controls.elem.value][0].name))}),e.TgZ(4,"option",21),e._uU(5,"-"),e.qZA(),e.YNc(6,pe,2,2,"option",9),e.qZA()(),e.TgZ(7,"td")(8,"select",22),e.YNc(9,ue,2,2,"option",9),e.qZA()(),e.YNc(10,he,8,7,"ng-container",23),e.YNc(11,de,6,0,"ng-template",null,24,e.W1O),e.qZA(),e.BQk()}if(2&t){const o=l.$implicit,s=l.index,i=e.MAs(12),d=e.oxw();e.Q6J("formGroupName",s),e.xp6(1),e.Q6J("ngClass",e.VKq(6,ge,(d.compendium.getSkill(o.controls.name.value)||d.blankSkill).rank>90)),e.xp6(5),e.Q6J("ngForOf",d.elems),e.xp6(3),e.Q6J("ngForOf",d.skills[o.controls.elem.value]),e.xp6(1),e.Q6J("ngIf",d.compendium.getSkill(o.controls.name.value))("ngIfElse",i)}}let Ce=(()=>{var t;class l{constructor(s){this.fb=s,this.defaultRace="Fool",this.defaultDemon="Slime",this.demons={},this.skills={},this.dcodes={},this.scodes={},this.range99=Array(99),this.range299=Array(299),this.price=0,this.blankSkill={code:0,cost:0,level:0,rank:0,target:"Self",name:"-",element:"-",inherit:"-",effect:"-",learnedBy:[],transfer:[]},this.createForm()}ngOnChanges(){this.initDropdowns()}createForm(){const s=[];for(let i=0;i<6;i++)s.push(this.fb.group({elem:"-",name:"-"}));this.form=this.fb.group({language:"eng",lvl:1,hp:1,mp:1,race:this.defaultRace,demon:this.defaultDemon,skills:this.fb.array(s)}),this.form.valueChanges.subscribe(i=>{if(this.form.valid){const d=this.compendium.getDemon(i.demon),C=i.skills.map(Y=>this.compendium.getSkill(Y.name)||this.blankSkill),J={language:i.language,demonCode:d.code,lvl:parseInt(i.lvl,10),exp:-1,hp:parseInt(i.hp,10),mp:parseInt(i.mp,10),skillCodes:C.map(Y=>Y.code)},R=J.skillCodes.reduce((Y,Ae)=>0!==Ae?Y+1:Y,0);this.price=10*Math.floor((800+120*J.lvl)*(1+.25*R)/10),this.passBytes=function te(t,l){return l&&l.includes("2")?function se(t){const l=H.slice(),o=Array(25).fill(0),s=t.lvl,i=Math.floor((((-.0479755766*s+9.28700353)*s+71.9694228)*s-81.1026214)*s+.120783542),d=t.exp<0?i:t.exp;"jpn"!==t.language&&(l[6]=256-l[6]),o[0]=t.demonCode%256,o[1]=2*t.lvl+Math.floor(t.demonCode/256),o[2]=d%256,o[3]=Math.floor(d/256)%256,o[4]=Math.floor(d/65536);for(let C=0;C<6;C++)o[6+2*C]=t.skillCodes[C]%256,o[6+2*C+1]=Math.floor(t.skillCodes[C]/256);return o[22]=10*t.hp%256,o[23]=10*t.mp%16*16+Math.floor(t.hp/25.6),o[24]=Math.floor(t.mp/1.6),[].concat(l,k,V,ee,o,Array(21).fill(0))}(t):function ne(t){const l="jpn"===t.language?W:X,o=Array(30).fill(0),s=t.lvl,i=Math.floor((((-.07600161*s+14.0603287)*s-.02256972)*s+.59031556)*s-1.87981906),d=t.exp<0?i:t.exp;o[0]=t.demonCode,o[2]=t.lvl,o[6]=d%256,o[7]=Math.floor(d/256)%256,o[8]=Math.floor(d/65536);for(let C=0;C<6;C++)o[10+2*C]=t.skillCodes[C]%256,o[10+2*C+1]=Math.floor(t.skillCodes[C]/256);return o[26]=10*t.hp%256,o[27]=Math.floor(t.hp/25.6),o[28]=10*t.mp%256,o[29]=Math.floor(t.mp/25.6),[].concat(H,k,l,z,o,Array(40).fill(0))}(t)}(J,this.compConfig.appTitle)}})}initDropdowns(){if(this.demons={},this.skills={"-":[this.blankSkill]},this.dcodes={},this.scodes={0:this.blankSkill},this.compConfig&&this.compendium){for(const s of this.compendium.allDemons.filter(i=>i.code))this.demons[s.race]||(this.demons[s.race]=[]),this.demons[s.race].push(s),this.dcodes[s.code]=s;for(const s of this.compendium.allSkills.filter(i=>i.code))this.skills[s.element]||(this.skills[s.element]=[]),this.skills[s.element].push(s),this.scodes[s.code]=s;for(const s of Object.values(this.demons))s.sort((i,d)=>d.lvl-i.lvl);for(const s of Object.values(this.skills))s.sort((i,d)=>i.rank-d.rank);this.races=this.compConfig.races.filter(s=>this.demons[s]),this.elems=this.compConfig.skillElems.filter(s=>this.skills[s]),this.setDefaultValues(this.defaultDemon)}}changeRace(s){const i=this.demons[s][0];this.form.controls.demon.setValue(i.name),this.setDefaultValues(i.name)}setDefaultValues(s){const i=Array(6).fill(this.blankSkill),d=this.compendium.getDemon(s);let C=0;for(const[J,R]of Object.entries(d.skills))0===R&&(i[C++]=this.compendium.getSkill(J));this.form.patchValue({lvl:Math.floor(d.lvl),hp:d.stats[0],mp:d.stats[1],race:d.race,demon:d.name,skills:i.map(J=>({elem:J.element,name:J.name}))})}}return(t=l).\u0275fac=function(s){return new(s||t)(e.Y36(N.qu))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-password-generator"]],inputs:{defaultRace:"defaultRace",defaultDemon:"defaultDemon",compendium:"compendium",compConfig:"compConfig"},features:[e.TTD],decls:69,vars:9,consts:[[3,"formGroup"],[1,"entry-table"],["colspan","2",1,"title"],[3,"byteArray"],["colspan","7",1,"title"],["formControlName","language"],["value","jpn"],["value","eng"],["formControlName","lvl"],[3,"value",4,"ngFor","ngForOf"],["formControlName","hp"],["formControlName","mp"],["formControlName","race",3,"change"],["formControlName","demon",3,"change"],["formArrayName","skills",1,"list-table"],["colspan","5",1,"title"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],[3,"ngClass"],["formControlName","elem",3,"change"],["value","-"],["formControlName","name"],[4,"ngIf","ngIfElse"],["noEntry",""]],template:function(s,i){1&s&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"QR Code Generator"),e.qZA(),e.TgZ(3,"table",1)(4,"tr")(5,"th",2),e._uU(6,"QR Code"),e.qZA()(),e.TgZ(7,"tr")(8,"td"),e._UZ(9,"app-qrcode",3),e.qZA()()(),e.TgZ(10,"table",1)(11,"tr")(12,"th",4),e._uU(13,"Persona Entry"),e.qZA()(),e.TgZ(14,"tr")(15,"th"),e._uU(16,"Price"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Language"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Level"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"HP"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"MP"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Race"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Demon"),e.qZA()(),e.TgZ(29,"tr")(30,"td"),e._uU(31),e.qZA(),e.TgZ(32,"td")(33,"select",5)(34,"option",6),e._uU(35,"Japanese"),e.qZA(),e.TgZ(36,"option",7),e._uU(37,"English"),e.qZA()()(),e.TgZ(38,"td")(39,"select",8),e.YNc(40,re,2,2,"option",9),e.qZA()(),e.TgZ(41,"td")(42,"select",10),e.YNc(43,ae,2,2,"option",9),e.qZA()(),e.TgZ(44,"td")(45,"select",11),e.YNc(46,le,2,2,"option",9),e.qZA()(),e.TgZ(47,"td")(48,"select",12),e.NdJ("change",function(){return i.changeRace(i.form.controls.race.value)}),e.YNc(49,ce,2,2,"option",9),e.qZA()(),e.TgZ(50,"td")(51,"select",13),e.NdJ("change",function(){return i.setDefaultValues(i.form.controls.demon.value)}),e.YNc(52,me,2,2,"option",9),e.qZA()()()(),e.TgZ(53,"table",14)(54,"tr")(55,"th",15),e._uU(56,"Learned Skills"),e.qZA()(),e.TgZ(57,"tr")(58,"th"),e._uU(59,"Element"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Name"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"Cost"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"Effect"),e.qZA(),e.TgZ(66,"th"),e._uU(67,"Target"),e.qZA()(),e.YNc(68,fe,13,8,"ng-container",16),e.qZA()()),2&s&&(e.Q6J("formGroup",i.form),e.xp6(9),e.Q6J("byteArray",i.passBytes),e.xp6(22),e.Oqu(i.price),e.xp6(9),e.Q6J("ngForOf",i.range99),e.xp6(3),e.Q6J("ngForOf",i.range299),e.xp6(3),e.Q6J("ngForOf",i.range99),e.xp6(3),e.Q6J("ngForOf",i.races),e.xp6(3),e.Q6J("ngForOf",i.demons[i.form.controls.race.value]),e.xp6(16),e.Q6J("ngForOf",i.form.controls.skills.controls))},dependencies:[E.mk,E.sg,E.O5,N._Y,N.YN,N.Kr,N.EJ,N.JJ,N.JL,N.sg,N.u,N.x0,N.CE,oe,ie.tq],styles:["td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{width:95%;border-width:3px}input.ng-valid[_ngcontent-%COMP%]{border-color:#0f0}input.ng-invalid[_ngcontent-%COMP%]{border-color:red}"],changeDetection:0}),l})(),_e=(()=>{var t;class l{constructor(s,i){this.fusionDataService=s,this.title=i,this.subscriptions=[],this.compConfig=this.fusionDataService.compConfig}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`QR Code Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(s=>{this.compendium=s}))}unsubscribeAll(){for(const s of this.subscriptions)s.unsubscribe()}}return(t=l).\u0275fac=function(s){return new(s||t)(e.Y36(f.Y),e.Y36(p.Dx))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-password-generator-container"]],decls:1,vars:2,consts:[[3,"compendium","compConfig"]],template:function(s,i){1&s&&e._UZ(0,"app-password-generator",0),2&s&&e.Q6J("compendium",i.compendium)("compConfig",i.compConfig)},dependencies:[Ce],encapsulation:2,changeDetection:0}),l})();var ve=c(3186),De=c(3687);let Te=(()=>{var t;class l extends ve.f{constructor(s,i){super(s,i),this.changeDetector=s,this.fusionDataService=i,this.appTitle=i.appName}}return(t=l).\u0275fac=function(s){return new(s||t)(e.Y36(e.sBO),e.Y36(f.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-demon-dlc-settings-container"]],features:[e.qOj],decls:1,vars:3,consts:[[3,"dlcDemons","appTitle","dlcTitle","toggledName"]],template:function(s,i){1&s&&(e.TgZ(0,"app-demon-dlc-settings",0),e.NdJ("toggledName",function(C){return i.toggleName(C)}),e.qZA()),2&s&&e.Q6J("dlcDemons",i.dlcDemons)("appTitle",i.appTitle)("dlcTitle","Included DLC Personas")},dependencies:[De.d],encapsulation:2,changeDetection:0}),l})();var Ee=c(5657),Oe=c(4689),ye=c(6857),be=c(4170);const ke=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:a,data:{fusionTool:"chart"},children:[{path:"chart",component:c(9052).m}]},{path:"",component:a,children:[{path:"personas/:demonName",component:Q,children:[{path:"fissions/triple",component:ye.p},{path:"fusions/triple",component:be.n},{path:"fissions",component:Ee.t},{path:"fusions",component:Oe.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"shadows/:demonName",component:Q},{path:"personas",component:m},{path:"shadows",component:m,data:{showShadows:!0}},{path:"skills",component:b},{path:"qrcodes",component:_e},{path:"settings",component:Te}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let Ze=(()=>{var t;class l{}return(t=l).\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[n.Bz.forChild(ke),n.Bz]}),l})()},2026:(w,q,c)=>{c.d(q,{Y:()=>g});var n=c(5619);class e{constructor(a){this.compConfig=a,this.specialRecipes={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const a={},u={},p={},f={},v={};if(this._dlcDemons={},this.compConfig.dlcData){Object.assign(this.compConfig.demonData,this.compConfig.dlcData);for(const m of Object.keys(this.compConfig.dlcData))this._dlcDemons[m]=!1}for(const[m,r]of Object.entries(this.compConfig.demonData)){const h=Object.values(r.skills).reduce((A,x)=>0===x?A+1:A,0),b=10*Math.floor((800+120*r.lvl)*(1+.25*h)/10);a[m]={name:m,race:r.race,lvl:r.lvl,currLvl:r.lvl,price:b,inherits:0,stats:r.stats.slice(0,2),skills:r.skills,resists:[],ailments:[],code:r.code||0,fusion:r.fusion||"normal",prereq:r.prereq||""}}for(const[m,r]of Object.entries(this.compConfig.enemyData))u[m]={name:m,race:r.race,lvl:r.lvl,currLvl:r.lvl,price:0,inherits:0,stats:r.stats,resists:r.resists.split("").map(h=>this.compConfig.resistCodes[h]),ailments:r.ailments.split("").map(h=>this.compConfig.resistCodes[h]),skills:r.skills.reduce((h,b)=>(h[b]=0,h),{}),area:r.area,drop:r.drops.join(", "),code:0,fusion:"normal",isEnemy:!0};for(const[m,r]of Object.entries(this.compConfig.specialRecipes))f[m]=r,a[m].fusion="special";for(const[m,r]of Object.entries(this.compConfig.skillData))p[m]={name:m,element:r.elem,cost:r.cost||0,rank:r.unique?91:r.cost/100||1,effect:r.effect,target:r.target||"Self",learnedBy:[],transfer:[],code:r.code||0,level:0},r.card&&(p[m].transfer=r.card.split(", ").map(h=>({demon:h,level:0})));for(const m of this.compConfig.races)v[m]={};for(const m of Object.values(a).sort((r,h)=>r.lvl-h.lvl)){"party"!==m.fusion&&(v[m.race][m.lvl]=m.name);for(const[r,h]of Object.entries(m.skills))p[r].learnedBy.push({demon:m.name,level:h})}this.demons=a,this.enemies=u,this.skills=p,this.specialRecipes=f,this.invertedDemons=v}updateDerivedData(){const a=Object.assign({},this.demons),u=[],p={},f={};for(const r of Object.values(this.skills))r.learnedBy.length<1?r.rank=99:u.push(r);for(const r of this.compConfig.races)p[r]=[],f[r]=[];for(const[r,h]of Object.entries(this.demons))"party"!==h.fusion&&(p[h.race].push(h.lvl),this.specialRecipes.hasOwnProperty(r)||f[h.race].push(h.lvl));for(const r of this.compConfig.races)p[r].sort((h,b)=>h-b),f[r].sort((h,b)=>h-b);for(const[r,h]of Object.entries(this._dlcDemons))for(const b of r.split(",")){if(!h){const{race:A,lvl:x}=this.demons[b];delete a[b],p[A]=p[A].filter(M=>M!==x),f[A]=f[A].filter(M=>M!==x)}this.demons[b].fusion=h?"normal":"excluded"}const v=Object.keys(a).map(r=>a[r]),m=Object.keys(this.enemies).map(r=>this.enemies[r]);this._allDemons=m.concat(v),this._allSkills=u,this.allIngredients=p,this.allResults=f}get dlcDemons(){return this._dlcDemons}set dlcDemons(a){this._dlcDemons=a,this.updateDerivedData()}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(a=>this.demons[a])}getDemon(a){return this.demons[a]||this.enemies[a]}getSkill(a){return this.skills[a]}getSkills(a){const u=this.compConfig.elemOrder,p=a.map(f=>this.skills[f]);return p.sort((f,v)=>1e4*(u[f.element]-u[v.element])+f.rank-v.rank),p}getIngredientDemonLvls(a){return this.allIngredients[a]||[]}getResultDemonLvls(a){return this.allResults[a]||[]}getSpecialNameEntries(a){return this.specialRecipes[a]||[]}getSpecialNamePairs(a){return[]}reverseLookupDemon(a,u){return this.invertedDemons[a][u]}reverseLookupSpecial(a){return[]}isElementDemon(a){return!1}}var E=c(2812),O=c(7548),_=c(4769);let g=(()=>{var T;class a{constructor(p){this.fissionCalculator=O.Bz,this.fusionCalculator=O.wC,this.triFissionCalculator=O.nL,this.triFusionCalculator=O.RD,this.compConfig=p,this.appName=p.appTitle+" Fusion Calculator",this._compendium=new e(this.compConfig),this._compendium$=new n.X(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new E.t(p.normalTable,p.races),this._fusionChart$=new n.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._tripleChart=new E.t(p.normalTable,p.races,!0),this._squareChart$=new n.X({normalChart:this._fusionChart,tripleChart:this._tripleChart,raceOrder:p.raceOrder}),this.squareChart=this._squareChart$.asObservable();const f=JSON.parse(localStorage.getItem(p.settingsKey));f&&f.version&&f.version>=p.settingsVersion&&this.nextDlcDemons(f.dlcDemons),window.addEventListener("storage",this.onStorageUpdated.bind(this))}nextDlcDemons(p){localStorage.setItem(this.compConfig.settingsKey,JSON.stringify({version:this.compConfig.settingsVersion,dlcDemons:p})),this._compendium.dlcDemons=p,this._compendium$.next(this._compendium)}onStorageUpdated(p){p.key===this.compConfig.settingsKey&&(this._compendium.dlcDemons=JSON.parse(p.newValue).dlcDemons,this._compendium$.next(this._compendium))}}return(T=a).\u0275fac=function(p){return new(p||T)(_.LFG(O.I7))},T.\u0275prov=_.Yz7({token:T,factory:T.\u0275fac}),a})()},159:(w,q,c)=>{c.d(q,{G:()=>T});var n=c(95),e=c(6814),E=c(6208),O=c(8325),_=c(8054),g=c(4769);let T=(()=>{var a;class u{static forRoot(){return{ngModule:u}}}return(a=u).\u0275fac=function(f){return new(f||a)},a.\u0275mod=g.oAB({type:a}),a.\u0275inj=g.cJS({imports:[e.ez,E.m,n.UX,O.a,_.V]}),u})()},5429:w=>{w.exports=JSON.parse('{"races":["Fool","Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Justice","Hermit","Fortune","Strength","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement"],"table":[["Fool","Empress","Devil","Magician","Temperance","Justice","Death","Hierophant","Strength","Priestess","Lovers","Justice","Magician","Chariot","Death","Strength","Hanged","Lovers","Emperor","Hermit","Star"],["Chariot","Magician","Chariot","Justice","Hanged","Priestess","Fortune","Priestess","Emperor","Devil","Justice","Hierophant","Hermit","Hanged","Star","Chariot","Temperance","Death","Emperor","Star","Empress"],["Sun","Justice","Priestess","Temperance","Empress","Star","Emperor","Hierophant","Death","Strength","Magician","Justice","Lovers","Strength","Star","Lovers","Fortune","Magician","Hanged","Chariot","Hermit"],["Magician","Hermit","Justice","Empress","Justice","Magician","Temperance","Death","Star","Strength","Hermit","Chariot","Devil","Lovers","Priestess","Priestess","Emperor","Hierophant","Priestess","Chariot","Fortune"],["Star","Moon","Empress","Hanged","Emperor","Hermit","Fortune","Strength","Priestess","Hierophant","Star","Star","Strength","Hierophant","Devil","Justice","Lovers","Hermit","Temperance","Magician","Chariot"],["Judgement","Fortune","Death","Tower","Lovers","Hierophant","Strength","Star","Hanged","Lovers","Strength","Chariot","Fortune","Empress","Chariot","Emperor","Devil","Lovers","Hermit","Hanged","Temperance"],["Emperor","Chariot","Fool","Temperance","Devil","Moon","Lovers","Devil","Empress","Chariot","Justice","Magician","Death","Emperor","Hanged","Empress","Chariot","Hierophant","Magician","Star","Hanged"],["Sun","Judgement  ","Sun","Priestess","Hermit","Hanged","Hierophant","Chariot","Magician","Star","Priestess","Lovers","Fortune","Temperance","Strength","Magician","Empress","Emperor","Justice","Lovers","-"],["Hermit","Fool","Magician","Moon","Empress","Sun","Judgement","Fool","Justice","Fortune","Priestess","Emperor","Lovers","Hermit","Lovers","Hierophant","Fortune","Temperance","Empress","Devil","-"],["Lovers","Strength","Tower","Judgement","Chariot","Star","Hanged","Emperor","Strength","Hermit","Chariot","Priestess","Death","Fortune","Priestess","Hanged","Emperor","Justice","Hierophant","Death","Magician"],["Emperor","Hanged","Hierophant","Strength","Sun","Strength","Tower","Lovers","Priestess","Hanged","Fortune","Temperance","Emperor","Star","Empress","Hanged","Temperance","Devil","Lovers","Hanged","Devil"],["Justice","Sun","Fortune","Hierophant","Chariot","Magician","Hermit","Death","Tower","Devil","Moon","Strength","Star","Devil","Fortune","Priestess","Hermit","Empress","Hierophant","Empress","-"],["Devil","Hermit","Death","Star","Fortune","Tower","Sun","Devil","Lovers","Fool","Justice","Empress","Hanged","Justice","Death","Temperance","Hierophant","Fortune","Strength","Hierophant","Priestess"],["Temperance","Emperor","Lovers","Fortune","Hierophant","Chariot","Priestess","Magician","Temperance","Moon","Fool","Lovers","Tower","Death","Emperor","Hermit","Priestess","Chariot","Devil","Justice","-"],["Hanged","Tower","Star","Devil","Justice","Priestess","Strength","Moon","Emperor","Sun","Death","Tower","Hierophant","Moon","Temperance","Emperor","Strength","Hierophant","Chariot","Magician","Death"],["Moon","Empress","Emperor","Tower","Fool","Star","Sun","Temperance","Fortune","Priestess","Hermit","Hanged","Chariot","Strength","Magician","Devil","Death","Strength","Star","Fortune","Lovers"],["Judgement","Temperance","Hanged","Chariot","Hermit","Devil","Magician","Emperor","Moon","Death","Sun","Fool","Priestess","Star","Lovers","Fool","Tower","Hanged","Magician","Hermit","Hierophant"],["Strength","Fool","Moon","Sun","Temperance","Fortune","Hermit","Empress","Hierophant","Justice","Devil","Judgement","Moon","Temperance","Chariot","Death","Priestess","Star","Fortune","Empress","Strength"],["Fortune","Lovers","Devil","Priestess","Tower","Strength","Death","Justice","Hanged","Empress","Fool","Star","Temperance","Sun","Death","Hierophant","Judgement","Magician","Moon","Empress","Justice"],["Tower","Death","Fool","Justice","Moon","Hermit","Star","Strength","Hierophant","Fortune","Magician","Emperor","Temperance","Empress","Empress","Fool","Devil","Tower","Judgement","Sun","Emperor"],["Moon","Emperor","Strength","Fool","Sun","Temperance","Devil","-","-","Magician","Empress","-","Hermit","-","Hierophant","Tower","Fortune","Hanged","Priestess","Lovers","Judgement"]]}')}}]);