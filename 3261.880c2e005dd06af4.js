"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[3261],{9436:(G,T,c)=>{c.d(T,{d:()=>m});var E=c(1090),e=c(2598),R=c(177),g=c(4207);function k(o,a){if(1&o&&(e.j41(0,"th",4),e.EFF(1,"Inheritable Skills"),e.k0s()),2&o){const r=e.XpG();e.BMQ("colspan",r.inheritHeaders.length)}}function $(o,a){if(1&o&&(e.j41(0,"th",4),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&o){const r=e.XpG();e.BMQ("colspan",r.inheritHeaders.length),e.R7$(1),e.SpI(" ",e.i5U(2,2,r.msgs.SkillAffinities,r.lang)," ")}}function b(o,a){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const r=e.XpG().$implicit;e.R7$(1),e.JRh(r)}}function I(o,a){if(1&o&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&o){const r=e.XpG().$implicit;e.ZvI("element-icon ",r,""),e.R7$(1),e.JRh(r)}}function y(o,a){if(1&o&&(e.j41(0,"th"),e.DNE(1,b,2,1,"ng-container",3),e.DNE(2,I,2,4,"div",5),e.k0s()),2&o){const r=e.XpG();e.xc7("width",100/r.inheritHeaders.length,"%"),e.R7$(1),e.Y8G("ngIf",!r.hasIcons),e.R7$(1),e.Y8G("ngIf",r.hasIcons)}}function v(o,a){if(1&o&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&o){const r=a.$implicit;e.xc7("color",r?null:"transparent"),e.R7$(1),e.SpI(" ",r?"yes":"no"," ")}}function p(o,a){if(1&o&&(e.j41(0,"tr"),e.DNE(1,v,2,3,"td",6),e.k0s()),2&o){const r=e.XpG();e.R7$(1),e.Y8G("ngForOf",r.inherits)}}function d(o,a){if(1&o&&(e.j41(0,"td"),e.nI1(1,"roundInheritPercent"),e.EFF(2),e.k0s()),2&o){const r=a.$implicit;e.ZvI("affinity",e.bMT(1,4,r),""),e.R7$(2),e.SpI(" ",r,"% ")}}function f(o,a){if(1&o&&(e.j41(0,"tr"),e.DNE(1,d,3,6,"td",7),e.k0s()),2&o){const r=e.XpG();e.R7$(1),e.Y8G("ngForOf",r.inherits)}}function u(o,a){if(1&o&&(e.j41(0,"td"),e.EFF(1),e.nI1(2,"affinityToString"),e.k0s()),2&o){const r=a.$implicit;e.ZvI("affinity",r,""),e.R7$(1),e.SpI(" ",e.bMT(2,4,r)," ")}}function h(o,a){if(1&o&&(e.j41(0,"tr"),e.DNE(1,u,3,6,"td",7),e.k0s()),2&o){const r=e.XpG();e.R7$(1),e.Y8G("ngForOf",r.inherits)}}let m=(()=>{class o{constructor(){this.inheritHeaders=[],this.inherits=[],this.hasChance=!1,this.hasIcons=!0,this.hasLvls=!1,this.lang="en",this.msgs=E.dx}static{this.\u0275fac=function(F){return new(F||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-demon-inherits"]],inputs:{inheritHeaders:"inheritHeaders",inherits:"inherits",hasChance:"hasChance",hasIcons:"hasIcons",hasLvls:"hasLvls",lang:"lang"},decls:11,vars:6,consts:[[1,"entry-table"],["class","title",4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"title"],[3,"class",4,"ngIf"],[3,"color",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(F,O){1&F&&(e.j41(0,"table",0)(1,"thead")(2,"tr"),e.DNE(3,k,2,1,"th",1),e.DNE(4,$,3,5,"th",1),e.k0s(),e.j41(5,"tr"),e.DNE(6,y,3,4,"th",2),e.k0s()(),e.j41(7,"tbody"),e.DNE(8,p,2,1,"tr",3),e.DNE(9,f,2,1,"tr",3),e.DNE(10,h,2,1,"tr",3),e.k0s()()),2&F&&(e.R7$(3),e.Y8G("ngIf",!O.hasLvls),e.R7$(1),e.Y8G("ngIf",O.hasLvls&&O.inheritHeaders.length),e.R7$(2),e.Y8G("ngForOf",O.inheritHeaders),e.R7$(2),e.Y8G("ngIf",!O.hasLvls&&!O.hasChance),e.R7$(1),e.Y8G("ngIf",O.hasChance),e.R7$(1),e.Y8G("ngIf",O.hasLvls))},dependencies:[R.Sq,R.bT,g.uz,g.XM,g.D8],encapsulation:2,changeDetection:0})}}return o})()},302:(G,T,c)=>{c.d(T,{F:()=>f});var E=c(1090),e=c(2598),R=c(177),g=c(2940),k=c(4207);function $(u,h){if(1&u&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&u){const m=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,m.msgs.Target,m.lang))}}function b(u,h){if(1&u&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&u){const m=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,m.msgs.Rank,m.lang))}}function I(u,h){1&u&&(e.j41(0,"th"),e.EFF(1,"Inherit"),e.k0s())}function y(u,h){1&u&&(e.j41(0,"th"),e.EFF(1,"Lvl"),e.k0s())}const v=function(u,h){return{extra:u,unique:h}};function p(u,h){if(1&u&&e.nrm(0,"tr",4),2&u){const m=h.$implicit,o=e.XpG();e.Y8G("hasTarget",o.hasTarget)("hasRank",o.hasRank)("hasInherit",o.hasInherit)("hasLearned",!1)("hasLvl",o.hasLvl)("skillLvl",m.level)("data",m)("ngClass",e.l_i(8,v,m.rank>70&&m.rank<90,m.rank>90))}}function d(u,h){if(1&u&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s()()),2&u){const m=e.XpG();e.R7$(1),e.BMQ("colspan",m.skillHeaderLen),e.R7$(1),e.SpI("No ",m.title," Found")}}let f=(()=>{class u{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.lang="en",this.skillHeaderLen=5,this.msgs=E.vf}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(m=>this.compendium.getSkill(m));for(const m of this.skills)m.level=this.skillLevels[m.name];this.elemOrder&&this.skills.sort((m,o)=>200*(m.level-o.level)+this.elemOrder[m.element]-this.elemOrder[o.element])}static{this.\u0275fac=function(o){return new(o||u)}}static{this.\u0275cmp=e.VBU({type:u,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels",lang:"lang"},features:[e.OA$],decls:26,vars:24,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(o,a){1&o&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"translateComp"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translateComp"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translateComp"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translateComp"),e.k0s(),e.DNE(18,$,3,4,"th",2),e.DNE(19,b,3,4,"th",2),e.DNE(20,I,2,0,"th",2),e.DNE(21,y,2,0,"th",2),e.k0s()(),e.j41(22,"tbody"),e.DNE(23,p,1,11,"tr",3),e.DNE(24,d,3,2,"tr",2),e.nrm(25,"tr"),e.k0s()()),2&o&&(e.R7$(3),e.BMQ("colSpan",a.skillHeaderLen),e.R7$(1),e.JRh(a.title),e.R7$(3),e.JRh(e.i5U(8,12,a.msgs.Elem,a.lang)),e.R7$(3),e.JRh(e.i5U(11,15,a.msgs.Name,a.lang)),e.R7$(3),e.JRh(e.i5U(14,18,a.msgs.Cost,a.lang)),e.R7$(3),e.JRh(e.i5U(17,21,a.msgs.Effect,a.lang)),e.R7$(2),e.Y8G("ngIf",a.hasTarget),e.R7$(1),e.Y8G("ngIf",a.hasRank),e.R7$(1),e.Y8G("ngIf",a.hasInherit),e.R7$(1),e.Y8G("ngIf",a.hasLvl),e.R7$(2),e.Y8G("ngForOf",a.skills),e.R7$(1),e.Y8G("ngIf",!a.skills.length))},dependencies:[R.YU,R.Sq,R.bT,g.t,k.uz],encapsulation:2,changeDetection:0})}}return u})()},3679:(G,T,c)=>{c.d(T,{C:()=>u});var E=c(1090),e=c(2598),R=c(177),g=c(4207);function k(h,m){if(1&h&&(e.j41(0,"h2"),e.EFF(1),e.k0s()),2&h){const o=e.XpG();e.R7$(1),e.JRh(o.title)}}function $(h,m){if(1&h&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&h){const o=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,o.msgs.Price,o.lang))}}function b(h,m){if(1&h&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&h){const o=m.$implicit;e.R7$(1),e.JRh(o)}}function I(h,m){1&h&&(e.j41(0,"th"),e.EFF(1,"Inherits"),e.k0s())}function y(h,m){if(1&h&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&h){const o=m.$implicit;e.R7$(1),e.JRh(o)}}function v(h,m){if(1&h&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&h){const o=e.XpG();e.R7$(1),e.JRh(o.price)}}function p(h,m){if(1&h&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&h){const o=m.$implicit;e.R7$(1),e.JRh(o)}}function d(h,m){if(1&h&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&h){const o=e.XpG();e.R7$(1),e.ZvI("element-icon i",o.inherits,""),e.R7$(1),e.JRh(o.inherits)}}const f=["*"];let u=(()=>{class h{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.lang="en",this.msgs=E.Cj}static{this.\u0275fac=function(a){return new(a||h)}}static{this.\u0275cmp=e.VBU({type:h,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",lang:"lang"},ngContentSelectors:f,decls:20,vars:13,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(a,r){1&a&&(e.NAR(),e.qex(0),e.DNE(1,k,2,1,"h2",0),e.j41(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),e.EFF(6),e.nI1(7,"translateComp"),e.k0s()(),e.j41(8,"tr"),e.DNE(9,$,3,4,"th",0),e.DNE(10,b,2,1,"th",3),e.DNE(11,I,2,0,"th",0),e.DNE(12,y,2,1,"th",3),e.k0s()(),e.j41(13,"tbody")(14,"tr"),e.DNE(15,v,2,1,"td",0),e.DNE(16,p,2,1,"td",3),e.DNE(17,d,3,4,"td",0),e.SdG(18),e.k0s()()(),e.eu8(19),e.bVm()),2&a&&(e.R7$(1),e.Y8G("ngIf",r.title.includes("Lvl")),e.R7$(4),e.BMQ("colSpan",r.stats.length+r.fusionHeaders.length+(r.inherits?1:0)+(r.price?1:0)),e.R7$(1),e.SpI(" ",r.title.includes("Lvl")?e.i5U(7,10,r.msgs.Stats,r.lang):r.title," "),e.R7$(3),e.Y8G("ngIf",r.price),e.R7$(1),e.Y8G("ngForOf",r.statHeaders),e.R7$(1),e.Y8G("ngIf",r.inherits),e.R7$(1),e.Y8G("ngForOf",r.fusionHeaders),e.R7$(3),e.Y8G("ngIf",r.price),e.R7$(1),e.Y8G("ngForOf",r.stats),e.R7$(1),e.Y8G("ngIf",r.inherits))},dependencies:[R.Sq,R.bT,g.uz],encapsulation:2,changeDetection:0})}}return h})()},5707:(G,T,c)=>{c.d(T,{S:()=>ze});var E=c(8935),e=c(2598),R=c(6446),g=c(177),k=c(5583);const $=function(){return{title:"Demon List",link:"demons"}},b=function(n){return[n]};let I=(()=>{class n{constructor(t){this.appCssClasses=t.compConfig.appCssClasses}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(R.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p4-compendium"]],decls:1,vars:7,consts:[[3,"ngClass","mainList","hasSettings","otherLinks"]],template:function(i,s){1&i&&e.nrm(0,"app-demon-compendium",0),2&i&&e.Y8G("ngClass",s.appCssClasses)("mainList","persona")("hasSettings",!1)("otherLinks",e.eq3(5,b,e.lJ4(4,$)))},dependencies:[g.YU,k.f],styles:['.mib div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.mib div.element-icon.s1h{background-image:url(/assets/images/p1/sword1h.png)}.mib div.element-icon.sla,.mib div.element-icon.s2h{background-image:url(/assets/images/p1/sword2h.png)}.mib div.element-icon.spr{background-image:url(/assets/images/p1/spear.png)}.mib div.element-icon.axe{background-image:url(/assets/images/p1/axe.png)}.mib div.element-icon.whi{background-image:url(/assets/images/p1/whip.png)}.mib div.element-icon.thr{background-image:url(/assets/images/p1/thrown.png)}.mib div.element-icon.arr{background-image:url(/assets/images/p1/arrow.png)}.mib div.element-icon.str,.mib div.element-icon.fis{background-image:url(/assets/images/p1/strike.png)}.mib div.element-icon.hgn{background-image:url(/assets/images/p1/handgun.png)}.mib div.element-icon.agn{background-image:url(/assets/images/p1/autogun.png)}.mib div.element-icon.sgn{background-image:url(/assets/images/p1/shotgun.png)}.mib div.element-icon.gun,.mib div.element-icon.rif{background-image:url(/assets/images/p1/rifle.png)}.mib div.element-icon.hav,.mib div.element-icon.tec{background-image:url(/assets/images/p1/havoc.png)}.mib div.element-icon.rus{background-image:url(/assets/images/p1/rush.png)}.p1 div.element-icon.i14,.p2 div.element-icon.i5,.mib div.element-icon.fir{background-image:url(/assets/images/p1/fire.png)}.p1 div.element-icon.i15,.mib div.element-icon.ice{background-image:url(/assets/images/p1/ice.png)}.p2 div.element-icon.i6,.mib div.element-icon.wat{background-image:url(/assets/images/p1/water.png)}.p1 div.element-icon.i16,.p2 div.element-icon.i7,.mib div.element-icon.win{background-image:url(/assets/images/p1/wind.png)}.p1 div.element-icon.i17,.p2 div.element-icon.i8,.mib div.element-icon.ear{background-image:url(/assets/images/p1/earth.png)}.p1 div.element-icon.i18,.mib div.element-icon.ele{background-image:url(/assets/images/p1/elec.png)}.p1 div.element-icon.i19,.mib div.element-icon.nuk{background-image:url(/assets/images/p1/nuke.png)}.p1 div.element-icon.i20,.mib div.element-icon.bla{background-image:url(/assets/images/p1/blast.png)}.p1 div.element-icon.i21,.mib div.element-icon.gra{background-image:url(/assets/images/p1/gravity.png)}.p1 div.element-icon.i22,.mib div.element-icon.lig,.mib div.element-icon.exp{background-image:url(/assets/images/p1/expel.png)}.p1 div.element-icon.i23,.mib div.element-icon.mir{background-image:url(/assets/images/p1/miracle.png)}.p1 div.element-icon.i24,.mib div.element-icon.dar,.mib div.element-icon.dea{background-image:url(/assets/images/p1/death.png)}.p1 div.element-icon.i25,.mib div.element-icon.min,.mib div.element-icon.cur{background-image:url(/assets/images/p1/curse.png)}.p1 div.element-icon.i26,.mib div.element-icon.ner{background-image:url(/assets/images/p1/nerve.png)}.p1 div.element-icon.i28,.mib div.element-icon.ail,.mib div.element-icon.occ{background-image:url(/assets/images/p1/occult.png)}.p1 div.element-icon.i29,.mib div.element-icon.rec,.mib div.element-icon.ble{background-image:url(/assets/images/p1/bless.png)}.p1 div.element-icon.i30,.mib div.element-icon.sup,.mib div.element-icon.pra{background-image:url(/assets/images/p1/prayer.png)}.p1 div.element-icon.i32,.p2 div.element-icon.i17,.mib div.element-icon.spe,.mib div.element-icon.alm{background-image:url(/assets/images/p1/almighty.png)}.p1 div.target-icon{height:52px;background-size:52px;background-repeat:no-repeat;background-position:center;color:transparent}.p1 div.target-icon.a101000{background-image:url(/assets/images/p1/101000.png)}.p1 div.target-icon.a101010{background-image:url(/assets/images/p1/101010.png)}.p1 div.target-icon.a201020{background-image:url(/assets/images/p1/201020.png)}.p1 div.target-icon.a202010{background-image:url(/assets/images/p1/202010.png)}.p1 div.target-icon.a202020{background-image:url(/assets/images/p1/202020.png)}.p1 div.target-icon.a303030{background-image:url(/assets/images/p1/303030.png)}.p1 div.target-icon.a303132{background-image:url(/assets/images/p1/303132.png)}.p1 div.target-icon.a505050{background-image:url(/assets/images/p1/505050.png)}.p1 div.target-icon.a540000{background-image:url(/assets/images/p1/540000.png)}.p1 div.target-icon.a606060{background-image:url(/assets/images/p1/606060.png)}.p1 div.target-icon.a636363{background-image:url(/assets/images/p1/636363.png)}.p1 div.target-icon.a727272{background-image:url(/assets/images/p1/727272.png)}.p1 div.target-icon.a904010{background-image:url(/assets/images/p1/904010.png)}.p1 div.target-icon.a909000{background-image:url(/assets/images/p1/909000.png)}.p1 div.target-icon.a909090{background-image:url(/assets/images/p1/909090.png)}.p1 div.target-icon.a949494{background-image:url(/assets/images/p1/949494.png)}.p1-fusion-table td.sec:after,.p1 tr.fusion-color.second td.price:after{content:"\\2191"}.p1-fusion-table td.fir:after,.p1 tr.fusion-color.first td.price:after{content:"\\2192"}.p1-fusion-table td.non:after,.p1 tr.fusion-color.none td.price:after{content:"\\25cb"}.p1-fusion-table td.unf:after,.p1 tr.fusion-color.unfav td.price:after{content:"\\2193"}.p1-fusion-table td.blu,.p1 tr.fusion-color.blue td.price{color:#0ff}.p1-fusion-table td.red,.p1 tr.fusion-color.red td.price{color:tomato}.p1 td.lvl111,.p1 td.lvl115{color:red}.p1 td.lvl112,.p1 td.lvl116{color:orange}.p1 td.lvl113,.p1 td.lvl117{color:#f0f}.p1 td.lvl114,.p1 td.lvl118{color:#0ff}.p1 th.title,.p1 th.nav.active,.p1 th.nav.active a{color:#000;background-color:#a9a9a9}.p2t th.title,.p2t th.nav.active,.p2t th.nav.active a{color:#fff;background-color:#8b668b}.p2b th.title,.p2b th.nav.active,.p2b th.nav.active a{color:#fff;background-color:#b3668b}\n'],encapsulation:2,changeDetection:0})}}return n})();var y=c(9404),v=c(345),p=c(9629);let d=(()=>{class n extends y.M{constructor(t,i,s,_){super(t,s,_),this.showAllies=!i.snapshot.data.showEnemies,this.showEnemies=!this.showAllies,this.compConfig=_.compConfig,this.defaultSortFun=(C,B)=>200*(this.compConfig.raceOrder[C.race]-this.compConfig.raceOrder[B.race])+B.lvl-C.lvl,this.appName=`List of Personas - ${_.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Demons - ${_.appName}`,this.statHeaders=this.compConfig.enemyStats)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(v.hE),e.rXU(E.nX),e.rXU(e.gRc),e.rXU(R.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(i,s){1&i&&(e.nrm(0,"app-smt-demon-list",0),e.nI1(1,"async")),2&i&&e.Y8G("isEnemy",s.showEnemies)("raceOrder",s.compConfig.raceOrder)("statHeaders",s.statHeaders)("resistHeaders",s.resistHeaders)("inheritOrder",s.inheritOrder)("rowData",e.bMT(1,6,s.demons))},dependencies:[p.F,g.Jj],encapsulation:2,changeDetection:0})}}return n})();var f=c(3515),u=c(5692),h=c(3679),m=c(2223),o=c(302),a=c(9436),r=c(1538);function F(n,l){if(1&n&&(e.j41(0,"li")(1,"a",7),e.EFF(2),e.k0s()()),2&n){const t=l.$implicit;e.R7$(1),e.Mz_("routerLink","../",t,""),e.R7$(1),e.SpI("",t," ")}}function O(n,l){if(1&n&&(e.j41(0,"li")(1,"a",7),e.EFF(2),e.k0s()()),2&n){const t=l.$implicit;e.R7$(1),e.Mz_("routerLink","../",t,""),e.R7$(1),e.SpI("",t," ")}}function z(n,l){if(1&n&&(e.j41(0,"ul",5),e.DNE(1,O,3,2,"li",4),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.names2)}}function Q(n,l){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.SpI("",t," ")}}function x(n,l){if(1&n&&(e.j41(0,"ul",5),e.DNE(1,Q,2,1,"li",4),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.names2)}}function Z(n,l){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"ul",5),e.DNE(5,F,3,2,"li",4),e.k0s()(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.DNE(11,z,2,1,"ul",6),e.DNE(12,x,2,1,"ul",6),e.k0s()()),2&n){const t=l.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.price),e.R7$(3),e.Y8G("ngForOf",t.names1),e.R7$(2),e.JRh(t.lvl1),e.R7$(2),e.JRh(t.lvl2),e.R7$(2),e.Y8G("ngIf",i.leftHeader===i.rightHeader),e.R7$(1),e.Y8G("ngIf",i.leftHeader!==i.rightHeader)}}let q=(()=>{class n{constructor(){this.leftHeader="Ingredient",this.rightHeader="Ingredient",this.resultName="Result"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-fusion-multi-pair-table"]],inputs:{leftHeader:"leftHeader",rightHeader:"rightHeader",resultName:"resultName",rowData:"rowData"},decls:23,vars:6,consts:[[1,"entry-table"],["colspan","5",1,"title"],["rowspan","2"],["colspan","3"],[4,"ngFor","ngForOf"],[1,"comma-list"],["class","comma-list",4,"ngIf"],[3,"routerLink"]],template:function(i,s){1&i&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr")(6,"th",2),e.EFF(7,"Price"),e.k0s(),e.j41(8,"th",3),e.EFF(9),e.k0s(),e.j41(10,"th"),e.EFF(11),e.k0s()(),e.j41(12,"tr")(13,"th"),e.EFF(14,"Names"),e.k0s(),e.j41(15,"th"),e.EFF(16,"MinLvl"),e.k0s(),e.j41(17,"th"),e.EFF(18,"MaxLvl"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Names"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Z,13,6,"tr",4),e.k0s()()),2&i&&(e.R7$(4),e.E5c("",s.leftHeader," 1 x ",s.rightHeader," 2 = ",s.resultName,""),e.R7$(5),e.SpI("",s.leftHeader," 1"),e.R7$(2),e.SpI("",s.rightHeader," 2"),e.R7$(11),e.Y8G("ngForOf",s.rowData))},dependencies:[g.Sq,g.bT,E.Wk],encapsulation:2,changeDetection:0})}}return n})();var ee=c(2649);function Y(n){const l={};for(let t=0;t<n.length;t++)l[n[t]]=t;return l}const N=["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Strength","Hermit","Fortune","Justice","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement","World","Fool"],U=N.concat(["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul","Karma","Fiend","Meta"]).concat(["Gem"]),se=["sword1h","sword2h","spear","axe","whip","thrown","arrow","fist","handgun","autogun","shotgun","rifle","tech","rush"].concat("fire","ice","wind","earth","elec","nuke","blast","gravity","expel","miracle","bless","prayer","death","curse","nerve","occult","almighty","spec");Y(U),Y(se);var L=c(8689);const ie={B:0,W:1e5,R:2e5},oe={2:2e4,1:4e4,0:6e4,T:8e4},J={0:null,2e4:"fusion-color blue second",4e4:"fusion-color blue first",6e4:"fusion-color blue none",8e4:"fusion-color blue unfav",12e4:"fusion-color white second",14e4:"fusion-color white first",16e4:"fusion-color white none",18e4:"fusion-color white unfav",22e4:"fusion-color red second",24e4:"fusion-color red first",26e4:"fusion-color red none",28e4:"fusion-color red unfav"},P=L.d4,M=U.reduce((n,l)=>(n[l]={},n),{});for(let n=0;n<P.length;n++){const l=P[n],t=Array.from(L.Tj[n]),i=Array.from(L.B[n]);for(let s=n+1;s<P.length;s++){const _=P[s],C=ie[t[s]]+oe[i[s]];M[l][_]=C,M[_][l]=C}}var w=c(1540),X=c(4207);function le(n,l){if(1&n&&(e.j41(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),e.EFF(4),e.nI1(5,"translateComp"),e.k0s()()(),e.j41(6,"tbody")(7,"tr")(8,"td"),e.EFF(9),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(4),e.JRh(e.i5U(5,2,t.msgs.SpecialFusionCondition,t.lang)),e.R7$(5),e.JRh(t.fusionPrereq)}}function me(n,l){if(1&n&&(e.nrm(0,"app-fusion-entry-table",5),e.nI1(1,"translateComp")),2&n){const t=e.XpG();e.Y8G("lang",t.lang)("title",e.i5U(1,5,t.msgs.SpecialFusionIngredients,t.lang)+t.currentDemon)("baseUrl",t.hasFissionFromDemons?"../../demons":"../..")("rowData",t.fusionEntries)("isFusion",!0)}}function ce(n,l){if(1&n&&(e.nrm(0,"app-fusion-pair-table",6),e.nI1(1,"translateComp"),e.nI1(2,"translateComp"),e.nI1(3,"translateComp")),2&n){const t=e.XpG();e.Y8G("lang",t.lang)("title",e.i5U(1,7,t.msgs.Title,t.lang)+t.currentDemon)("leftHeader",e.i5U(2,10,t.msgs.LeftHeader,t.lang))("rightHeader",e.i5U(3,13,t.msgs.RightHeader,t.lang))("leftBaseUrl",t.hasFissionFromDemons?"../../demons":"../..")("rightBaseUrl",t.hasFissionFromDemons?"../../demons":"../..")("rowData",t.fusionPairs)}}let pe=(()=>{class n extends ee.J{constructor(){super(...arguments),this.hasFissionFromDemons=!0,this.toFusionPair=t=>i=>function ae(n,l){const t=l.getDemon(n.name1),i=l.getDemon(n.name2),s=M[t.race][i.race]||0;return{price:s+t.price+i.price,race1:t.race,lvl1:t.lvl,name1:n.name1,race2:i.race,lvl2:i.lvl,name2:n.name2,notes:J[s]}}(i,this.compendium)}static{this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fission-table"]],features:[e.Vt3],decls:3,vars:3,consts:[["class","list-table",4,"ngIf"],[3,"lang","title","baseUrl","rowData","isFusion",4,"ngIf"],[3,"lang","title","leftHeader","rightHeader","leftBaseUrl","rightBaseUrl","rowData",4,"ngIf"],[1,"list-table"],[1,"title"],[3,"lang","title","baseUrl","rowData","isFusion"],[3,"lang","title","leftHeader","rightHeader","leftBaseUrl","rightBaseUrl","rowData"]],template:function(i,s){1&i&&(e.DNE(0,le,10,5,"table",0),e.DNE(1,me,2,8,"app-fusion-entry-table",1),e.DNE(2,ce,4,16,"app-fusion-pair-table",2)),2&i&&(e.Y8G("ngIf",s.fusionPrereq),e.R7$(1),e.Y8G("ngIf",s.fusionEntries.length),e.R7$(1),e.Y8G("ngIf",s.fusionPairs.length||!s.fusionEntries.length))},dependencies:[g.bT,r.a,w.cK,X.uz],encapsulation:2,changeDetection:0})}}return n})();var he=c(8696),ue=c(3452);let de=(()=>{class n extends ue.y{constructor(){super(...arguments),this.hasFusionToPersonas=!0,this.toFusionPair=t=>i=>function re(n,l,t){const i=t.getDemon(n),s=t.getDemon(l.name1),_=t.getDemon(l.name2),C=M[i.race][s.race]||0;return{price:C+i.price+s.price,race1:s.race,lvl1:s.lvl,name1:l.name1,race2:_.race,lvl2:_.lvl,name2:l.name2,notes:J[C]}}(t,i,this.compendium)}static{this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fusion-table"]],features:[e.Vt3],decls:4,vars:16,consts:[[3,"lang","title","leftHeader","rightHeader","leftBaseUrl","rightBaseUrl","rowData"]],template:function(i,s){1&i&&(e.nrm(0,"app-fusion-pair-table",0),e.nI1(1,"translateComp"),e.nI1(2,"translateComp"),e.nI1(3,"translateComp")),2&i&&e.Y8G("lang",s.lang)("title",s.currentDemon+e.i5U(1,7,s.msgs.Title,s.lang))("leftHeader",e.i5U(2,10,s.msgs.LeftHeader,s.lang))("rightHeader",e.i5U(3,13,s.msgs.RightHeader,s.lang))("leftBaseUrl","..")("rightBaseUrl",s.hasFusionToPersonas?"../../personas":"../..")("rowData",s.fusionPairs)},dependencies:[w.cK,X.uz],encapsulation:2,changeDetection:0})}}return n})();function ge(n,l){if(1&n&&e.nrm(0,"app-demon-resists",3),2&n){const t=e.XpG();e.Y8G("resistHeaders",t.compConfig.presistElems)("resists",t.demon.presists)}}function fe(n,l){1&n&&e.nrm(0,"app-p1-fusion-table")}const _e=function(){return["Traits","Drops"]};let Ce=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:11,vars:28,consts:[[3,"title","price","statHeaders","stats","fusionHeaders","inherits"],[3,"title","statHeaders","stats"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"title","hasLvl","hasTarget","elemOrder","compendium","skillLevels"],[4,"ngIf"]],template:function(i,s){1&i&&(e.j41(0,"app-demon-stats",0)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()(),e.nrm(5,"app-demon-stats",1),e.DNE(6,ge,1,2,"app-demon-resists",2),e.nrm(7,"app-demon-resists",3)(8,"app-demon-skills",4)(9,"app-demon-skills",4),e.DNE(10,fe,1,0,"app-p1-fusion-table",5)),2&i&&(e.Y8G("title","Lvl "+s.demon.lvl+" "+s.demon.race+" "+s.demon.name)("price",s.demon.price)("statHeaders",s.compConfig.enemyStats)("stats",s.demon.stats)("fusionHeaders",e.lJ4(27,_e))("inherits",s.demon.inherits),e.R7$(2),e.JRh(s.demon.trait),e.R7$(2),e.JRh(s.demon.drop),e.R7$(1),e.Y8G("title","Stats")("statHeaders",s.compConfig.baseStats)("stats",s.demon.atks),e.R7$(1),e.Y8G("ngIf",s.compConfig.presistElems.length),e.R7$(1),e.Y8G("resistHeaders",s.compConfig.mresistElems)("resists",s.demon.mresists),e.R7$(1),e.Y8G("title","Transferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.transfers),e.R7$(1),e.Y8G("title","Nontransferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.skills),e.R7$(1),e.Y8G("ngIf","p1"===s.compConfig.appCssClasses[0]))},dependencies:[g.bT,h.C,m.w,o.F,de],encapsulation:2,changeDetection:0})}}return n})();function Re(n,l){if(1&n&&(e.j41(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),e.EFF(4,"Special Fusion Condition"),e.k0s()()(),e.j41(5,"tbody")(6,"tr")(7,"td"),e.EFF(8),e.k0s()()()()),2&n){const t=e.XpG(2);e.R7$(8),e.JRh(t.demon.prereq)}}function ve(n,l){if(1&n&&e.nrm(0,"app-fusion-entry-table",13),2&n){const t=e.XpG(2);e.Y8G("title","Mutates From")("baseUrl","..")("rowData",t.mutatesFrom)}}function Fe(n,l){if(1&n&&e.nrm(0,"app-fusion-entry-table",13),2&n){const t=e.XpG(2);e.Y8G("title","Mutates To")("baseUrl","..")("rowData",t.mutatesTo)}}function Ee(n,l){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t)}}function be(n,l){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t)}}function ke(n,l){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.DNE(3,be,2,1,"td",7),e.k0s()),2&n){const t=l.$implicit,i=l.index;e.R7$(2),e.JRh(i+1),e.R7$(1),e.Y8G("ngForOf",t)}}function De(n,l){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t)}}function Te(n,l){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t)}}function $e(n,l){if(1&n&&e.nrm(0,"app-demon-resists",9),2&n){const t=e.XpG(2);e.Y8G("resistHeaders",t.compConfig.presistElems)("resists",t.demon.presists)}}function Ie(n,l){if(1&n&&e.nrm(0,"app-fusion-multi-pair-table",14),2&n){const t=e.XpG(2);e.Y8G("resultName",t.name)("leftHeader","Recipe")("rightHeader","Gem")("rowData",t.elemRecipes)}}function ye(n,l){1&n&&e.nrm(0,"app-p1-fission-table")}const Oe=function(){return["Traits","Returns"]};function Se(n,l){if(1&n&&(e.qex(0),e.j41(1,"app-demon-stats",2)(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s()(),e.DNE(6,Re,9,1,"table",3),e.DNE(7,ve,1,3,"app-fusion-entry-table",4),e.DNE(8,Fe,1,3,"app-fusion-entry-table",4),e.j41(9,"table",5)(10,"thead")(11,"tr")(12,"th",6),e.EFF(13,"Stat Growths"),e.k0s()(),e.j41(14,"tr")(15,"th"),e.EFF(16,"Rank"),e.k0s(),e.DNE(17,Ee,2,1,"th",7),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,ke,4,2,"tr",7),e.k0s()(),e.j41(20,"table",5)(21,"thead")(22,"tr")(23,"th",6),e.EFF(24,"Party Affinities"),e.k0s()(),e.j41(25,"tr"),e.DNE(26,De,2,1,"th",7),e.k0s()(),e.j41(27,"tbody")(28,"tr"),e.DNE(29,Te,2,1,"td",7),e.k0s()()(),e.DNE(30,$e,1,2,"app-demon-resists",8),e.nrm(31,"app-demon-resists",9)(32,"app-demon-inherits",10)(33,"app-demon-skills",11),e.DNE(34,Ie,1,4,"app-fusion-multi-pair-table",12),e.DNE(35,ye,1,0,"app-p1-fission-table",0),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("title","Lvl "+t.demon.lvl+" "+t.demon.race+" "+t.demon.name)("statHeaders",t.compConfig.baseAtks)("stats",t.demon.atks)("inherits",t.demon.inherits)("fusionHeaders",e.lJ4(27,Oe)),e.R7$(2),e.JRh(t.demon.trait),e.R7$(2),e.JRh(t.demon.drop),e.R7$(1),e.Y8G("ngIf",t.demon.prereq),e.R7$(1),e.Y8G("ngIf",t.mutatesFrom.length),e.R7$(1),e.Y8G("ngIf",t.mutatesTo.length),e.R7$(4),e.BMQ("colSpan",t.compConfig.baseStats.length+1),e.R7$(5),e.Y8G("ngForOf",t.compConfig.baseStats),e.R7$(2),e.Y8G("ngForOf",t.statGrowths),e.R7$(4),e.BMQ("colSpan",t.compConfig.party.length),e.R7$(3),e.Y8G("ngForOf",t.compConfig.party),e.R7$(3),e.Y8G("ngForOf",t.partyAffines),e.R7$(1),e.Y8G("ngIf",t.compConfig.presistElems.length),e.R7$(1),e.Y8G("resistHeaders",t.compConfig.mresistElems)("resists",t.demon.mresists),e.R7$(1),e.Y8G("inheritHeaders",t.compConfig.inheritElems)("inherits",t.demon.affinities),e.R7$(1),e.Y8G("elemOrder",t.compConfig.elemOrder)("hasTarget",!0)("compendium",t.compendium)("skillLevels",t.demon.skills),e.R7$(1),e.Y8G("ngIf",t.elemRecipes.length),e.R7$(1),e.Y8G("ngIf","p1"===t.compConfig.appCssClasses[0])}}function Ge(n,l){if(1&n&&e.nrm(0,"app-demon-missing",15),2&n){const t=e.XpG();e.Y8G("name",t.name)}}function We(n,l){if(1&n&&e.nrm(0,"app-demon-entry",2),2&n){const t=e.XpG();e.Y8G("name",t.name)("demon",t.demon)("elemRecipes",t.elemRecipes)("compConfig",t.compConfig)("compendium",t.compendium)}}function He(n,l){if(1&n&&e.nrm(0,"app-enemy-entry",3),2&n){const t=e.XpG();e.Y8G("name",t.name)("demon",t.demon)("compConfig",t.compConfig)("compendium",t.compendium)}}let je=(()=>{class n{constructor(){this.affinityLookup={11264:"Great",12308:"Good",13352:"Norm",14396:"Bad",14416:"Worst"}}ngOnChanges(){const t=[this.demon.stats];for(const i of this.compendium.getStatGrowths(this.demon.growth))t.push(t[t.length-1].map((s,_)=>s+i[_]));this.statGrowths=t,this.partyAffines=this.demon.party.map(i=>this.affinityLookup[i]),this.mutatesTo=this.compendium.reverseLookupSpecial(this.demon.name).map(i=>this.compendium.getDemon(i)).map(i=>({price:i.atks[0],race1:i.race,lvl1:i.lvl,name1:i.name})),this.mutatesFrom=this.compendium.getSpecialNameEntries(this.demon.name).map(i=>this.compendium.getDemon(i)).map(i=>({price:i.atks[0],race1:i.race,lvl1:i.lvl,name1:i.name}))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",elemRecipes:"elemRecipes",compendium:"compendium",compConfig:"compConfig"},features:[e.OA$],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","statHeaders","stats","inherits","fusionHeaders"],["class","entry-table",4,"ngIf"],[3,"title","baseUrl","rowData",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"inheritHeaders","inherits"],[3,"elemOrder","hasTarget","compendium","skillLevels"],[3,"resultName","leftHeader","rightHeader","rowData",4,"ngIf"],[3,"title","baseUrl","rowData"],[3,"resultName","leftHeader","rightHeader","rowData"],[3,"name"]],template:function(i,s){1&i&&(e.DNE(0,Se,36,28,"ng-container",0),e.DNE(1,Ge,1,1,"app-demon-missing",1)),2&i&&(e.Y8G("ngIf",s.demon),e.R7$(1),e.Y8G("ngIf",!s.demon))},dependencies:[g.Sq,g.bT,u.X,h.C,m.w,o.F,a.d,r.a,q,pe],encapsulation:2,changeDetection:0})}}return n})(),A=(()=>{class n{constructor(t,i,s,_,C){this.route=t,this.title=i,this.changeDetectorRef=s,this.currentDemonService=_,this.fusionDataService=C,this.subscriptions=[],this.appName="Test App",this.appName=C.appName,this.compConfig=C.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t,this.getDemonEntry()})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(t=>{this.fusionChart=t,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(t=>{this.name=t,this.getDemonEntry()})),this.route.params.subscribe(t=>{this.currentDemonService.nextCurrentDemon(t.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name),this.elemRecipes=this.demon?(0,f.o4)(this.name,this.compendium,this.fusionChart):[],this.changeDetectorRef.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(E.nX),e.rXU(v.hE),e.rXU(e.gRc),e.rXU(he.i),e.rXU(R.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","elemRecipes","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","elemRecipes","compConfig","compendium"],[3,"name","demon","compConfig","compendium"]],template:function(i,s){1&i&&(e.DNE(0,We,1,5,"app-demon-entry",0),e.DNE(1,He,1,4,"app-enemy-entry",1)),2&i&&(e.Y8G("ngIf",!s.demon||!s.demon.isEnemy),e.R7$(1),e.Y8G("ngIf",s.demon&&s.demon.isEnemy))},dependencies:[g.bT,je,Ce],encapsulation:2,changeDetection:0})}}return n})();var Ne=c(9454),Pe=c(2940);let Me=(()=>{class n extends Ne.E{constructor(t,i,s){super(t,i,s),this.compConfig=s.compConfig,this.appName=`List of Skills - ${s.appName}`,this.defaultSortFun=(_,C)=>1e4*(this.compConfig.elemOrder[_.element]-this.compConfig.elemOrder[C.element])+_.rank-C.rank}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(v.hE),e.rXU(e.gRc),e.rXU(R.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-skill-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(i,s){1&i&&(e.nrm(0,"app-smt-skill-list",0),e.nI1(1,"async")),2&i&&e.Y8G("elemOrder",s.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Inherit From")("rowData",e.bMT(1,6,s.skills))},dependencies:[Pe.p,g.Jj],encapsulation:2,changeDetection:0})}}return n})();function Be(n,l){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}const V=function(n){return[n]};function Le(n,l){if(1&n&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.Y8G("ngClass",e.eq3(2,V,t.slice(0,8))),e.R7$(1),e.JRh(t.slice(8,12))}}function Ye(n,l){if(1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,Le,2,4,"td",3),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&n){const t=l.$implicit;e.R7$(2),e.JRh(t[0]),e.R7$(1),e.Y8G("ngForOf",t.slice(1,t.length-1)),e.R7$(2),e.JRh(t[t.length-1])}}function Ue(n,l){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}function Je(n,l){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}function we(n,l){if(1&n&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.Y8G("ngClass",e.eq3(2,V,t.slice(0,4))),e.R7$(1),e.JRh(t.slice(4))}}function Xe(n,l){if(1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,we,2,4,"td",3),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&n){const t=l.$implicit;e.R7$(2),e.JRh(t[0]),e.R7$(1),e.Y8G("ngForOf",t.slice(1,t.length-1)),e.R7$(2),e.JRh(t[t.length-1])}}function Ae(n,l){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=l.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}let Ve=(()=>{class n{ngOnChanges(){this.normChart&&this.fillFusionChart()}getColorClass(t,i){const s=this.normChart.fuseColors[t].charAt(i);return"B"===s?"blu":"R"===s?"red":"whi"}getInheritClass(t,i){const s=this.normChart.fuseInherits[t].charAt(i);return"2"===s?"sec":"1"===s?"fir":"T"===s?"unf":"0"===s?"non":"emp"}fillFusionChart(){const t="None",s=[],_=[],C=this.normChart.races,B=this.normChart.elementDemons;s.push([""].concat(C,[""]));for(let D=0;D<C.length;D++){const H=C[D],W=[C[D]];for(let S=0;S<D;S++)W.push("Empt    -");for(let S=D;S<C.length;S++){const j=this.normChart.getRaceFusion(H,C[S])||t;W.push(`${this.getColorClass(D,S)} ${this.getInheritClass(D,S)} ${j}`)}W.push(C[D]),s.push(W)}s.push([""].concat(C,[""])),this.table=s,_.push([""].concat(N,[""]));for(const D of B){const H=[D],W=this.normChart.getElemFusions(D);for(const S of N){const j=(W[S]||t).toString(),K=j.length<2?"+"+j:j;H.push(K.replace("+","ran").replace("-","ra-")+K)}H.push(D),_.push(H)}_.push([""].concat(N,[""])),this.elemTable=_}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fusion-chart"]],inputs:{normChart:"normChart",normTitle:"normTitle",elemTitle:"elemTitle"},features:[e.OA$],decls:20,vars:10,consts:[[1,"p1-fusion-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(i,s){1&i&&(e.j41(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr"),e.DNE(6,Be,2,1,"th",2),e.k0s(),e.DNE(7,Ye,6,3,"tr",2),e.j41(8,"tr"),e.DNE(9,Ue,2,1,"th",2),e.k0s()()(),e.j41(10,"table",0)(11,"tbody")(12,"tr")(13,"th",1),e.EFF(14),e.k0s()(),e.j41(15,"tr"),e.DNE(16,Je,2,1,"th",2),e.k0s(),e.DNE(17,Xe,6,3,"tr",2),e.j41(18,"tr"),e.DNE(19,Ae,2,1,"th",2),e.k0s()()()),2&i&&(e.R7$(3),e.BMQ("colspan",s.table[0].length),e.R7$(1),e.JRh(s.normTitle),e.R7$(2),e.Y8G("ngForOf",s.table[0]),e.R7$(1),e.Y8G("ngForOf",s.table.slice(1,s.table.length-1)),e.R7$(2),e.Y8G("ngForOf",s.table[s.table.length-1]),e.R7$(4),e.BMQ("colspan",s.elemTable[0].length),e.R7$(1),e.JRh(s.elemTitle),e.R7$(2),e.Y8G("ngForOf",s.elemTable[0]),e.R7$(1),e.Y8G("ngForOf",s.elemTable.slice(1,s.elemTable.length-1)),e.R7$(2),e.Y8G("ngForOf",s.elemTable[s.elemTable.length-1]))},dependencies:[g.YU,g.Sq],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.None[_ngcontent-%COMP%], td.emp[_ngcontent-%COMP%]{color:transparent}td.Empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0})}}return n})();const Ke=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:I,data:{fusionTool:"chart"},children:[{path:"chart",component:(()=>{class n{constructor(t,i,s,_){this.title2=t,this.route=i,this.changeDetectorRef=s,this.fusionDataService=_,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(t=>{this.appName=t.appName,this.title2.setTitle(`Fusion Chart - ${t.appName} Fusion Calculator`)})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(t=>{this.changeDetectorRef.markForCheck(),this.normChart=t}))}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(v.hE),e.rXU(E.nX),e.rXU(e.gRc),e.rXU(R.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-fusion-chart-container"]],decls:1,vars:3,consts:[[3,"normChart","normTitle","elemTitle"]],template:function(i,s){1&i&&e.nrm(0,"app-p1-fusion-chart",0),2&i&&e.Y8G("normChart",s.normChart)("normTitle",s.appName+" - Normal Fusions")("elemTitle",s.appName+" - Gem Fusions")},dependencies:[Ve],encapsulation:2,changeDetection:0})}}return n})()}]},{path:"",component:I,children:[{path:"personas/:demonName",component:A},{path:"demons/:demonName",component:A},{path:"personas",component:d},{path:"demons",component:d,data:{showEnemies:!0}},{path:"skills",component:Me}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let ze=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[E.iI.forChild(Ke),E.iI]})}}return n})()},6446:(G,T,c)=>{c.d(T,{i:()=>y});var E=c(4412);class e{constructor(p){this.compConfig=p,this.specialNameEntries={},this.specialNamePairs={},this.invertedSpecials={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const{demons:p,enemies:d,skills:f}=this.compConfig,u={},h={},m={},o={};for(const[a,r]of Object.entries(this.compConfig.mutations)){m[a]=r;for(const F of r)u[F]||(u[F]=[]),u[F].push(a)}for(const[a,r]of Object.entries(this.compConfig.fusionPrereqs))p[a].prereq=r,"normal"===p[a].fusion&&(p[a].fusion="special"),h[a]=[{name1:a,name2:a}];for(const[a,r]of Object.entries(this.compConfig.specialRecipes))r.length>0?h[a]=[{name1:r[0],name2:r[1]}]:(p[a].prereq="Fusion Accident",p[a].fusion="accident");for(const a of this.compConfig.races)o[a]={};for(const a of Object.values(p).sort((r,F)=>r.lvl-F.lvl)){o[a.race][a.lvl]=a.name;for(const[r,F]of Object.entries(a.skills))f[r].learnedBy.push({demon:a.name,level:F})}for(const a of Object.values(d).sort((r,F)=>r.lvl-F.lvl)){o[a.race][a.lvl]=a.name;for(const[r,F]of Object.entries(a.transfers))f[r].transfer.push({demon:a.name,level:F})}for(const a of Object.values(f))if(""!==a.card)for(const r of a.card.split(", "))p[r]?a.learnedBy.push({demon:r,level:5084}):d[r]&&a.transfer.push({demon:r,level:3680});this.demons=p,this.enemies=d,this.skills=f,this.specialNameEntries=u,this.specialNamePairs=h,this.invertedSpecials=m,this.invertedDemons=o}updateDerivedData(){const p=Object.keys(this.skills).map(m=>this.skills[m]),d={},f={};for(const m of this.compConfig.races)d[m]=[],f[m]=[];for(const[m,o]of Object.entries(this.demons))"normal"===this.demons[m].fusion&&f[o.race].push(o.lvl);for(const[m,o]of Object.entries(this.enemies))d[o.race].push(o.lvl);for(const m of this.compConfig.races)d[m].sort((o,a)=>o-a),f[m].sort((o,a)=>o-a);const u=Object.keys(this.demons).map(m=>this.demons[m]),h=Object.keys(this.enemies).map(m=>this.enemies[m]);this._allDemons=h.concat(u),this._allSkills=p.filter(m=>m.rank<90),this.allIngredients=d,this.allResults=f}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return this._allDemons.filter(p=>"special"===p.fusion)}getDemon(p){return this.enemies[p]||this.demons[p]}getEnemy(p){return this.enemies[p]}getSkill(p){return this.skills[p]}getSkills(p){const d=this.compConfig.elemOrder,f=p.map(u=>this.skills[u]);return f.sort((u,h)=>1e4*(d[u.element]-d[h.element])+u.rank-h.rank),f}getStatGrowths(p){return this.compConfig.growthTypes[p]||[]}getIngredientDemonLvls(p){return this.allIngredients[p]||[]}getResultDemonLvls(p){return this.allResults[p]||[]}getSpecialNameEntries(p){return this.specialNameEntries[p]||[]}getSpecialNamePairs(p){return this.specialNamePairs[p]||[]}getInheritElems(p){return p.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(d=>100*parseInt(d))}reverseLookupDemon(p,d){return this.invertedDemons[p][d]}reverseLookupSpecial(p){return this.invertedSpecials[p]||[]}isElementDemon(p){return!1}updateFusionSettings(p){}}var R=c(8063),g=c(8689);const k=JSON.parse('{"hx":["Alexandrite","Diamond","Sapphire","Emerald","Ruby","Pearl","Tanzanite","Opal","Amethyst","Garnet","Aquamarine","Topaz","Moonstone","Malachite","Onyx","Turquoise"],"d4":["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Hermit","Justice","Sun","Judgement","World","Fool"],"tp":[[1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0,1],[1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,0,1,0],[-2,0,-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2],[1,1,0,0,-1,1,0,1,1,1,-1,1,0,-1,1,0],[1,0,-2,2,-2,0,-1,2,0,1,1,2,-1,1,0,-1],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,1,1,0]]}');class $ extends R.p{constructor(){super(),this.elementDemons=[],this.lvlModifier=2.5,this.initCharts()}initCharts(){const p=g.d4,d=g.tp,f=k.d4,u=k.tp,h=k.hx;this.races=p,this.elementDemons=h,this.fusionChart=R.p.loadFusionTableJson(p,d),this.fissionChart=R.p.loadFissionTableJson(p,h,d),this.elementChart=R.p.loadElementTableJson(f,h,u),this.fuseColors=g.Tj,this.fuseInherits=g.B}getLightDark(p){return 0}}var b=c(6947),I=c(2598);let y=(()=>{class v{constructor(d){this.fissionCalculator=b.ov,this.fusionCalculator=b.nv,this.settingsKey="p1-fusion-tool-settings",this._fusionChart=new $,this._fusionChart$=new E.t(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._compendium=new e(d),this._compendium$=new E.t(this._compendium),this.compendium=this._compendium$.asObservable(),this.compConfig=d,this.appName=d.appTitle+" Fusion Calculator"}updateFusionSettings(d){}static{this.\u0275fac=function(f){return new(f||v)(I.KVO(b.HI))}}static{this.\u0275prov=I.jDH({token:v,factory:v.\u0275fac})}}return v})()},3261:(G,T,c)=>{c.d(T,{n:()=>$});var E=c(177),e=c(3887),R=c(9447),g=c(5707),k=c(2598);let $=(()=>{class b{static forRoot(){return{ngModule:b}}static{this.\u0275fac=function(v){return new(v||b)}}static{this.\u0275mod=k.$C({type:b})}static{this.\u0275inj=k.G2t({imports:[E.MD,e.G,R.SharedCompendiumModule,g.S]})}}return b})()},8689:G=>{G.exports=JSON.parse('{"Tj":["-WWRBRWWWRBWRWWBBWW",".-BWWWRBRWWRWBBWWRR","..-WWWRBRWWRWBBWWRR","...-RBWWWBRWBWWRRWW","....-RWWWRBWRWWBBWW",".....-WWWBRWBWWRRWW","......-RBWWBWRRWWBB",".......-RWWRWBBWWRR","........-WWBWRRWWBB",".........-RWBWWRRWW","..........-WRWWBBWW","...........-WRRWWBB","............-WWRRWW",".............-BWWRR","..............-WWRR","...............-BWW","................-WW",".................-B","..................-"],"B":["-2200000011TTTT0000",".-200000011TTTT0000","..-00000011TTTT0000","...-20011000000TTT0","....-0011000000TTT0",".....-2TT0011110000","......-TT0011110000",".......-20000000000","........-0000000000",".........-20000000T","..........-0000000T","...........-2220000","............-220000",".............-20000","..............-0000","...............-221","................-21",".................-1","..................-"],"d4":["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul"],"tp":[["-","Emperor","Magician","Lovers","Devil","Sun","Judgement","Magician","Justice","Hermit","Sun","Priestess","Star","Justice","Death","Lovers","Hanged","Magician","Emperor"],["-","Magician","Lovers","Lovers","Emperor","Emperor","Sun","Justice","Emperor","Temperance","Justice","Emperor","Lovers","Emperor","Temperance","Lovers","Lovers","Temperance"],["-","Priestess","Magician","Hermit","Moon","Hermit","Empress","Priestess","Hermit","Magician","Hierophant","Temperance","Chariot","Judgement","Hermit","Magician","Hanged"],["-","Judgement","Judgement","Devil","Magician","Sun","Priestess","Priestess","Hierophant","Fortune","World","Death","Hierophant","Hanged","Judgement","Priestess"],["-","Temperance","Moon","Judgement","World","Hermit","Tower","Moon","Devil","Empress","Temperance","Moon","Magician","Devil","Moon"],["-","Priestess","Chariot","Empress","World","Chariot","Empress","Hierophant","Hierophant","Justice","Tower","World","Sun","World"],["-","World","Chariot","Justice","Tower","Justice","Chariot","Strength","Hierophant","World","Chariot","World","Hierophant"],["-","Sun","Star","Hanged","Hermit","Empress","Empress","Justice","Justice","Lovers","Judgement","Lovers"],["-","Priestess","Emperor","Empress","Fortune","Emperor","Sun","Sun","Moon","Moon","Judgement"],["-","Chariot","Temperance","Strength","Chariot","Hierophant","Temperance","Chariot","Temperance","Magician"],["-","Sun","Fortune","Strength","Sun","Hermit","Emperor","Judgement","Tower"],["-","Empress","Priestess","Empress","Moon","Empress","Temperance","Priestess"],["-","Hierophant","Justice","Death","Moon","Hermit","Hierophant"],["-","Star","Hermit","World","Star","Strength"],["-","Sun","Chariot","World","Fortune"],["-","Death","Judgement","Moon"],["-","World","Lovers"],["-","Star"],["-"]]}')}}]);