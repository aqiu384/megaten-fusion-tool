"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[456],{5583:(B,S,d)=>{d.d(S,{f:()=>E});var t=d(3885),r=d(9108),e=d(1090),s=d(2598),f=d(177),o=d(8935),i=d(4207);const n=function(){return{exact:!0}};function a(m,I){if(1&m&&(s.j41(0,"th",2)(1,"a",3),s.EFF(2),s.k0s()()),2&m){const v=I.$implicit,F=s.XpG().$implicit;s.xc7("width",1/F,"%"),s.Y8G("routerLink",v.link)("routerLinkActiveOptions",s.lJ4(6,n)),s.R7$(1),s.Y8G("routerLink",v.link),s.R7$(1),s.SpI(" ",v.title," ")}}function l(m,I){if(1&m&&(s.j41(0,"th",11)(1,"a",12),s.EFF(2),s.nI1(3,"translateComp"),s.k0s()()),2&m){const v=s.XpG().$implicit,F=s.XpG();s.xc7("width",1/v,"%"),s.R7$(2),s.SpI(" ",s.i5U(3,3,F.msgs.FusionSettings,F.lang)," ")}}const c=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function h(m,I){if(1&m&&(s.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"a",3),s.EFF(5),s.nI1(6,"translateComp"),s.k0s()(),s.j41(7,"th",4)(8,"a",5),s.EFF(9),s.nI1(10,"translateComp"),s.k0s()(),s.j41(11,"th",6)(12,"a",7),s.EFF(13),s.nI1(14,"translateComp"),s.k0s()(),s.DNE(15,a,3,7,"th",8),s.DNE(16,l,4,6,"th",9),s.k0s(),s.j41(17,"tr")(18,"th",10),s.EFF(19),s.nI1(20,"translateComp"),s.k0s()()()()),2&m){const v=I.$implicit,F=s.XpG();s.Y8G("ngStyle",s.lJ4(30,c)),s.R7$(3),s.xc7("width",1/v,"%"),s.Y8G("routerLink",F.mainList+"s")("routerLinkActiveOptions",s.lJ4(31,n)),s.R7$(1),s.Y8G("routerLink",F.mainList+"s"),s.R7$(1),s.SpI(" ",s.i5U(6,18,"demon"===F.mainList?F.msgs.DemonList:F.msgs.PersonaList,F.lang)," "),s.R7$(2),s.xc7("width",1/v,"%"),s.R7$(2),s.SpI(" ",s.i5U(10,21,F.msgs.SkillList,F.lang)," "),s.R7$(2),s.xc7("width",1/v,"%"),s.R7$(2),s.SpI(" ",s.i5U(14,24,F.msgs.FusionChart,F.lang)," "),s.R7$(2),s.Y8G("ngForOf",F.otherLinks),s.R7$(1),s.Y8G("ngIf",F.hasSettings),s.R7$(2),s.BMQ("colspan",v),s.R7$(1),s.Lme("",F.appName,"",s.i5U(20,27,F.msgs.FusionCalculator,F.lang),"")}}function u(m,I){if(1&m&&(s.j41(0,"div",3),s.nrm(1,"app-demon-compendium-header",4),s.k0s()),2&m){const v=s.XpG();s.R7$(1),s.Y8G("appName",v.appName)("mainList",v.mainList)("hasSettings",v.hasSettings)("lang",v.lang)("otherLinks",v.otherLinks)}}function k(m,I){if(1&m&&(s.j41(0,"div"),s.nrm(1,"app-demon-compendium-header",4),s.k0s()),2&m){const v=s.XpG();s.R7$(1),s.Y8G("appName",v.appName)("mainList",v.mainList)("hasSettings",v.hasSettings)("lang",v.lang)("otherLinks",v.otherLinks)}}const L=function(m){return{marginLeft:"auto",marginRight:"auto",width:m}};let g=(()=>{class m{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.lang="en",this.otherLinks=[],this.msgs=e.fu}static{this.\u0275fac=function(F){return new(F||m)}}static{this.\u0275cmp=s.VBU({type:m,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",lang:"lang",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(F,$){1&F&&s.DNE(0,h,21,32,"table",0),2&F&&s.Y8G("ngIf",3+$.otherLinks.length+($.hasSettings?1:0))},dependencies:[f.Sq,f.bT,f.B3,o.Wk,o.wQ,i.uz],encapsulation:2,changeDetection:0})}}return m})(),E=(()=>{class m{constructor(v){this.route=v,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(v=>{this.appName=v.appName||"Shin Megami Tensei",this.isChart="chart"===v.fusionTool,this.lang=v.lang})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const v of this.subscriptions)v.unsubscribe()}static{this.\u0275fac=function(F){return new(F||m)(s.rXU(o.nX))}}static{this.\u0275cmp=s.VBU({type:m,selectors:[["app-demon-compendium"]],viewQuery:function(F,$){if(1&F&&s.GBs(r.a,5),2&F){let N;s.mGM(N=s.lsd())&&($.stickyTable=N.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[s.Jv_([t.P])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","lang","otherLinks"]],template:function(F,$){1&F&&(s.j41(0,"div",0),s.DNE(1,u,2,5,"div",1),s.DNE(2,k,2,5,"div",2),s.nrm(3,"router-outlet"),s.k0s()),2&F&&(s.Y8G("ngStyle",s.eq3(3,L,$.isChart?"auto":"1080px")),s.R7$(1),s.Y8G("ngIf",!$.isChart),s.R7$(1),s.Y8G("ngIf",$.isChart))},dependencies:[f.bT,f.B3,o.n3,r.a,g],encapsulation:2,changeDetection:0})}}return m})()},5692:(B,S,d)=>{d.d(S,{X:()=>o});var t=d(2598),r=d(177),e=d(8935);function s(i,n){if(1&i&&(t.j41(0,"td"),t.EFF(1),t.j41(2,"a",3),t.EFF(3),t.k0s()()),2&i){const a=t.XpG();t.R7$(1),t.SpI(" Error: Could not find entry in compendium for ",a.name,". Did you mean: "),t.R7$(1),t.Mz_("routerLink","../",a.name.split("%20").join(" "),""),t.R7$(1),t.JRh(a.name.split("%20").join(" "))}}function f(i,n){if(1&i&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&i){const a=t.XpG();t.R7$(1),t.SpI("Error: Could not find entry in compendium for ",a.name,"")}}let o=(()=>{class i{static{this.\u0275fac=function(l){return new(l||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(l,c){1&l&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.EFF(4),t.k0s()()(),t.j41(5,"tbody")(6,"tr"),t.DNE(7,s,4,3,"td",2),t.DNE(8,f,2,1,"td",2),t.k0s()()()),2&l&&(t.R7$(4),t.SpI("Entry for ",c.name,""),t.R7$(3),t.Y8G("ngIf",c.name&&c.name.includes("%20")),t.R7$(1),t.Y8G("ngIf",!c.name||!c.name.includes("%20")))},dependencies:[r.bT,e.Wk],encapsulation:2,changeDetection:0})}}return i})()},2223:(B,S,d)=>{d.d(S,{w:()=>L});var t=d(1090),r=d(2598),e=d(177),s=d(4207);function f(g,E){if(1&g&&(r.j41(0,"th"),r.EFF(1),r.nI1(2,"translateComp"),r.k0s()),2&g){const m=r.XpG(2);r.BMQ("colSpan",m.ailmentHeaders.length),r.R7$(1),r.JRh(r.i5U(2,2,m.msgs.Ailment,m.lang))}}const o=function(g){return["element-icon",g]};function i(g,E){if(1&g&&(r.j41(0,"th")(1,"div",6),r.EFF(2),r.k0s()()),2&g){const m=E.$implicit,I=r.XpG(2);r.xc7("width",(I.ailmentHeaders.length?50:100)/I.resistHeaders.length,"%"),r.R7$(1),r.Y8G("ngClass",r.eq3(4,o,m)),r.R7$(1),r.JRh(m)}}function n(g,E){if(1&g&&(r.j41(0,"th")(1,"div"),r.EFF(2),r.k0s()()),2&g){const m=E.$implicit,I=r.XpG(2);r.xc7("width",50/I.ailmentHeaders.length,"%"),r.R7$(2),r.JRh(m)}}const a=function(g){return["resists",g]};function l(g,E){if(1&g&&(r.j41(0,"td",6),r.nI1(1,"reslvlToColor"),r.EFF(2),r.nI1(3,"reslvlToStringJa"),r.k0s()),2&g){const m=E.$implicit,I=r.XpG(2);r.Y8G("ngClass",r.eq3(7,a,r.bMT(1,2,m))),r.R7$(2),r.SpI(" ",r.i5U(3,4,m,I.lang)," ")}}function c(g,E){if(1&g&&(r.j41(0,"td",6),r.nI1(1,"reslvlToString"),r.EFF(2),r.nI1(3,"reslvlToStringJa"),r.k0s()),2&g){const m=E.$implicit,I=r.XpG(2);r.Y8G("ngClass",r.eq3(7,a,r.bMT(1,2,m))),r.R7$(2),r.SpI(" ",r.i5U(3,4,m,I.lang)," ")}}function h(g,E){if(1&g&&(r.j41(0,"td",6),r.EFF(1),r.nI1(2,"resmodToString"),r.k0s()),2&g){const m=E.$implicit;r.Y8G("ngClass",r.eq3(4,a,m%1024==40?"no":"")),r.R7$(1),r.SpI(" ",r.bMT(2,2,m)," ")}}function u(g,E){if(1&g&&(r.j41(0,"td",6),r.EFF(1),r.nI1(2,"resmodToString"),r.k0s()),2&g){const m=E.$implicit;r.Y8G("ngClass",r.eq3(4,a,m%1024==40?"no":"")),r.R7$(1),r.SpI(" ",r.bMT(2,2,m)," ")}}function k(g,E){if(1&g&&(r.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),r.EFF(4),r.nI1(5,"translateComp"),r.k0s()(),r.j41(6,"tr")(7,"th"),r.EFF(8),r.nI1(9,"translateComp"),r.k0s(),r.DNE(10,f,3,5,"th",3),r.k0s(),r.j41(11,"tr"),r.DNE(12,i,3,6,"th",4),r.DNE(13,n,3,3,"th",4),r.k0s()(),r.j41(14,"tbody")(15,"tr"),r.DNE(16,l,4,9,"td",5),r.DNE(17,c,4,9,"td",5),r.k0s(),r.j41(18,"tr"),r.DNE(19,h,3,6,"td",5),r.DNE(20,u,3,6,"td",5),r.k0s()()()),2&g){const m=r.XpG();r.R7$(3),r.BMQ("colspan",m.resistHeaders.length+m.ailmentHeaders.length),r.R7$(1),r.JRh(m.title||r.i5U(5,11,m.msgs.Resistances,m.lang)),r.R7$(3),r.BMQ("colSpan",m.resistHeaders.length),r.R7$(1),r.JRh(r.i5U(9,14,m.msgs.Element,m.lang)),r.R7$(2),r.Y8G("ngIf",m.ailmentHeaders.length),r.R7$(2),r.Y8G("ngForOf",m.resistHeaders),r.R7$(1),r.Y8G("ngForOf",m.ailmentHeaders),r.R7$(3),r.Y8G("ngForOf",m.resists),r.R7$(1),r.Y8G("ngForOf",m.ailments),r.R7$(2),r.Y8G("ngForOf",m.resists),r.R7$(1),r.Y8G("ngForOf",m.ailments)}}let L=(()=>{class g{constructor(){this.title="",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[],this.lang="en",this.msgs=t.wc}static{this.\u0275fac=function(I){return new(I||g)}}static{this.\u0275cmp=r.VBU({type:g,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments",lang:"lang"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(I,v){1&I&&r.DNE(0,k,21,17,"table",0),2&I&&r.Y8G("ngIf",v.resistHeaders.length)},dependencies:[e.YU,e.Sq,e.bT,s.uz,s.FA,s.g7,s.Fz,s.jk],encapsulation:2,changeDetection:0})}}return g})()},9629:(B,S,d)=>{d.d(S,{F:()=>Z});var t=d(2598),r=d(3885),e=d(6661);let s=(()=>{class _ extends e.r{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((p,O)=>200*(this.raceOrder[p.race]-this.raceOrder[O.race])+O.lvl-p.lvl,(p,O)=>200*(this.raceOrder[p.race]-this.raceOrder[O.race])+O.lvl-p.lvl,(p,O)=>O.lvl-p.lvl,(p,O)=>p.name.localeCompare(O.name)),this.inheritOrder&&this.sortFuns.push((p,O)=>p.inherits-O.inherits),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((p,O)=>(D,w)=>w.stats[O]-D.stats[O]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((p,O)=>(D,w)=>D.resists[O]-w.resists[O]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((p,O)=>(D,w)=>w.affinities[O]-D.affinities[O])))}getSortFun(p){return this.sortFuns[p]}static{this.\u0275fac=function(){let p;return function(D){return(p||(p=t.xGo(_)))(D||_)}}()}static{this.\u0275dir=t.FsC({type:_,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.Vt3]})}}return _})();var f=d(177),o=d(8935),i=d(4341),n=d(4207),a=d(9108),l=d(361),c=d(1090);const h=["class","app-demon-list-header"];function u(_,M){if(1&_&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&_){const p=t.XpG();t.BMQ("colSpan",p.statColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,p.msgs.Stats,p.lang))}}function k(_,M){if(1&_&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&_){const p=t.XpG();t.BMQ("colSpan",p.resistColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,p.msgs.Resistances,p.lang))}}function L(_,M){if(1&_&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&_){const p=t.XpG();t.BMQ("colSpan",p.affinityColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,p.msgs.Affinities,p.lang))}}function g(_,M){1&_&&(t.j41(0,"th",5),t.EFF(1,"Enemy"),t.k0s())}function E(_,M){if(1&_){const p=t.RV6();t.j41(0,"th",2),t.bIt("click",function(){t.eBV(p);const D=t.XpG();return t.Njj(D.nextSortFunIndex(4))}),t.EFF(1,"Inherits"),t.k0s()}if(2&_){const p=t.XpG();t.Y8G("ngClass",p.sortDirClass(4))}}function m(_,M){if(1&_){const p=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const w=t.eBV(p).$implicit,V=t.XpG();return t.Njj(V.nextSortFunIndex(w.index))}),t.EFF(1),t.k0s()}if(2&_){const p=M.$implicit;t.R7$(1),t.SpI(" ",p.stat," ")}}function I(_,M){if(1&_){const p=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const w=t.eBV(p).$implicit,V=t.XpG();return t.Njj(V.nextSortFunIndex(w.index))}),t.nrm(1,"div"),t.k0s()}if(2&_){const p=M.$implicit;t.R7$(1),t.ZvI("element-icon ",p.elem,"")}}function v(_,M){if(1&_){const p=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const w=t.eBV(p).$implicit,V=t.XpG();return t.Njj(V.nextSortFunIndex(w.index))}),t.nrm(1,"div"),t.k0s()}if(2&_){const p=M.$implicit;t.R7$(1),t.ZvI("element-icon ",p.elem,"")}}function F(_,M){1&_&&(t.j41(0,"th"),t.EFF(1,"Drops"),t.k0s())}function $(_,M){1&_&&(t.j41(0,"th"),t.EFF(1,"Appears"),t.k0s())}let N=(()=>{class _ extends e.O{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.lang="en",this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[],this.msgs=c.vC}ngOnInit(){this.nextColIndices()}nextColIndices(){let p=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((O,D)=>({stat:O,index:D+p})),p+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((O,D)=>({elem:O,index:D+p})),p+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((O,D)=>({elem:O,index:D+p})))}static{this.\u0275fac=function(){let p;return function(D){return(p||(p=t.xGo(_)))(D||_)}}()}static{this.\u0275cmp=t.VBU({type:_,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",lang:"lang",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.Vt3],attrs:h,decls:26,vars:26,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(O,D){1&O&&(t.j41(0,"tr")(1,"th"),t.EFF(2),t.nI1(3,"translateComp"),t.k0s(),t.DNE(4,u,3,5,"th",0),t.DNE(5,k,3,5,"th",0),t.DNE(6,L,3,5,"th",0),t.DNE(7,g,2,0,"th",1),t.k0s(),t.j41(8,"tr")(9,"th",2),t.bIt("click",function(){return D.nextSortFunIndex(1)}),t.j41(10,"span"),t.EFF(11),t.nI1(12,"translateComp"),t.k0s()(),t.j41(13,"th",2),t.bIt("click",function(){return D.nextSortFunIndex(2)}),t.j41(14,"span"),t.EFF(15,"Lvl"),t.k0s()(),t.j41(16,"th",2),t.bIt("click",function(){return D.nextSortFunIndex(3)}),t.j41(17,"span"),t.EFF(18),t.nI1(19,"translateComp"),t.k0s()(),t.DNE(20,E,2,1,"th",3),t.DNE(21,m,2,1,"th",4),t.DNE(22,I,2,3,"th",4),t.DNE(23,v,2,3,"th",4),t.DNE(24,F,2,0,"th",0),t.DNE(25,$,2,0,"th",0),t.k0s()),2&O&&(t.R7$(1),t.BMQ("colSpan",D.hasInherits?4:3),t.R7$(1),t.JRh(t.i5U(3,17,D.isPersona?D.msgs.Persona:D.msgs.Demon,D.lang)),t.R7$(2),t.Y8G("ngIf",D.statColIndices.length),t.R7$(1),t.Y8G("ngIf",D.resistColIndices.length),t.R7$(1),t.Y8G("ngIf",D.affinityColIndices.length),t.R7$(1),t.Y8G("ngIf",D.isEnemy),t.R7$(2),t.Y8G("ngClass",D.sortDirClass(1)),t.R7$(2),t.JRh(t.i5U(12,20,D.msgs.Race,D.lang)),t.R7$(2),t.Y8G("ngClass",D.sortDirClass(2)),t.R7$(3),t.Y8G("ngClass",D.sortDirClass(3)),t.R7$(2),t.JRh(t.i5U(19,23,D.msgs.Name,D.lang)),t.R7$(2),t.Y8G("ngIf",D.hasInherits),t.R7$(1),t.Y8G("ngForOf",D.statColIndices),t.R7$(1),t.Y8G("ngForOf",D.resistColIndices),t.R7$(1),t.Y8G("ngForOf",D.affinityColIndices),t.R7$(1),t.Y8G("ngIf",D.isEnemy),t.R7$(1),t.Y8G("ngIf",D.isEnemy))},dependencies:[f.YU,f.Sq,f.bT,n.uz],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0})}}return _})();const y=["class","app-smt-demon-list-row"];function b(_,M){if(1&_&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"lvlToNumber"),t.k0s()),2&_){const p=t.XpG();t.R7$(1),t.JRh(t.bMT(2,1,p.data.lvl))}}function j(_,M){if(1&_){const p=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(p);const D=t.XpG(2);return t.Njj(D.updateCurrRange())}),t.EFF(1),t.k0s()}if(2&_){const p=t.XpG(2);t.R7$(1),t.SpI("",p.data.currLvl," \u270e")}}function x(_,M){if(1&_&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&_){const p=M.index,O=t.XpG(3);t.Y8G("value",p+O.currOffset),t.R7$(1),t.JRh(p+O.currOffset)}}function H(_,M){if(1&_){const p=t.RV6();t.j41(0,"select",10),t.bIt("change",function(D){t.eBV(p);const w=t.XpG(2);return t.Njj(w.emitValidLvl(D))}),t.j41(1,"option",11),t.EFF(2),t.k0s(),t.DNE(3,x,2,2,"option",12),t.k0s()}if(2&_){const p=t.XpG(2);t.R7$(1),t.Y8G("value",p.data.currLvl),t.R7$(1),t.JRh(p.data.currLvl),t.R7$(1),t.Y8G("ngForOf",p.currRange)}}function A(_,M){if(1&_&&(t.j41(0,"td",6),t.DNE(1,j,2,1,"button",7),t.DNE(2,H,4,3,"select",8),t.k0s()),2&_){const p=t.XpG();t.R7$(1),t.Y8G("ngIf",!p.currOffset),t.R7$(1),t.Y8G("ngIf",p.currOffset)}}const U=function(_){return["element-icon",_]};function W(_,M){if(1&_&&(t.j41(0,"td")(1,"div",0),t.EFF(2),t.k0s()()),2&_){const p=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(2,U,"i"+p.data.inherits)),t.R7$(1),t.JRh(p.data.inherits)}}function Y(_,M){if(1&_&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&_){const p=M.$implicit;t.R7$(1),t.JRh(p)}}const X=function(_){return["resists",_]};function C(_,M){if(1&_&&(t.j41(0,"td",0),t.nI1(1,"reslvlToColor"),t.EFF(2),t.nI1(3,"reslvlToStringJa"),t.k0s()),2&_){const p=M.$implicit,O=t.XpG();t.Y8G("ngClass",t.eq3(7,X,t.bMT(1,2,p))),t.R7$(2),t.SpI(" ",t.i5U(3,4,p,O.lang)," ")}}function P(_,M){if(1&_&&(t.j41(0,"td",0),t.EFF(1),t.nI1(2,"affinityToString"),t.k0s()),2&_){const p=M.$implicit;t.Y8G("ngClass","affinity"+p),t.R7$(1),t.SpI(" ",t.bMT(2,2,p)," ")}}function R(_,M){if(1&_&&(t.qex(0),t.DNE(1,P,3,4,"td",5),t.bVm()),2&_){const p=t.XpG();t.R7$(1),t.Y8G("ngForOf",p.data.affinities)}}function G(_,M){if(1&_&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&_){const p=t.XpG();t.R7$(1),t.JRh(p.data.drop)}}function T(_,M){if(1&_&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&_){const p=t.XpG();t.R7$(1),t.JRh(p.data.area)}}const J=function(_){return["align",_]},K=function(_,M){return{special:_,exception:M}};function Q(_,M){if(1&_){const p=t.RV6();t.j41(0,"tr",7),t.bIt("currLvl",function(D){const V=t.eBV(p).$implicit,q=t.XpG();return t.Njj(q.lvlChanged.emit({demon:V.name,currLvl:D}))}),t.k0s()}if(2&_){const p=M.$implicit,O=t.XpG();t.Y8G("isEnemy",O.isEnemy)("hasCurrLvl",O.hasCurrLvl)("hasInherits",!!O.inheritOrder)("hasAffinity",!!O.affinityHeaders)("lang",O.lang)("ngClass",t.l_i(7,K,"special"===p.fusion,"special"!==p.fusion&&"normal"!==p.fusion))("data",p)}}let z=(()=>{class _{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.lang="en",this.currLvl=new t.bkB,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(100-this.currOffset))}emitValidLvl(p){const O=parseInt(p.target.value,10);this.data.currLvl!==O&&0<O&&O<100&&Number.isInteger(O)&&(this.data.currLvl=O,this.currLvl.emit(O))}static{this.\u0275fac=function(O){return new(O||_)}}static{this.\u0275cmp=t.VBU({type:_,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",lang:"lang",data:"data"},outputs:{currLvl:"currLvl"},attrs:y,decls:13,vars:14,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click",4,"ngIf"],[3,"change",4,"ngIf"],[3,"click"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(O,D){1&O&&(t.j41(0,"td",0),t.EFF(1),t.k0s(),t.DNE(2,b,3,3,"td",1),t.DNE(3,A,3,2,"td",2),t.j41(4,"td")(5,"a",3),t.EFF(6),t.k0s()(),t.DNE(7,W,3,4,"td",1),t.DNE(8,Y,2,1,"td",4),t.DNE(9,C,4,9,"td",5),t.DNE(10,R,2,1,"ng-container",1),t.DNE(11,G,2,1,"td",1),t.DNE(12,T,2,1,"td",1)),2&O&&(t.Y8G("ngClass",t.eq3(12,J,D.data.align?D.data.align:"none")),t.R7$(1),t.JRh(D.data.race),t.R7$(1),t.Y8G("ngIf",!D.hasCurrLvl),t.R7$(1),t.Y8G("ngIf",D.hasCurrLvl),t.R7$(2),t.Y8G("routerLink",D.data.name),t.R7$(1),t.JRh(D.data.name),t.R7$(1),t.Y8G("ngIf",D.hasInherits),t.R7$(1),t.Y8G("ngForOf",D.data.stats),t.R7$(1),t.Y8G("ngForOf",D.data.resists),t.R7$(1),t.Y8G("ngIf",D.hasAffinity),t.R7$(1),t.Y8G("ngIf",D.isEnemy),t.R7$(1),t.Y8G("ngIf",D.isEnemy))},dependencies:[f.YU,f.Sq,f.bT,o.Wk,i.xH,i.y7,n.XM,n.Z2,n.g7,n.Fz],encapsulation:2,changeDetection:0})}}return _})(),Z=(()=>{class _ extends s{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.lang="en",this.lvlChanged=new t.bkB}static{this.\u0275fac=function(){let p;return function(D){return(p||(p=t.xGo(_)))(D||_)}}()}static{this.\u0275cmp=t.VBU({type:_,selectors:[["app-smt-demon-list"]],inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",lang:"lang"},outputs:{lvlChanged:"lvlChanged"},features:[t.Jv_([r.P]),t.Vt3],decls:8,vars:18,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","lang","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","lang","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","lang","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","lang","ngClass","data","currLvl"]],template:function(O,D){1&O&&(t.j41(0,"table",0)(1,"tfoot",1,2),t.bIt("sortFunIndexChanged",function(V){return D.sortFunIndex=V}),t.k0s()(),t.j41(3,"table",3),t.nrm(4,"tfoot",4,5),t.j41(6,"tbody"),t.DNE(7,Q,1,10,"tr",6),t.k0s()()),2&O&&(t.R7$(1),t.Y8G("isPersona",D.isPersona)("isEnemy",D.isEnemy)("lang",D.lang)("hasInherits",!!D.inheritOrder)("statHeaders",D.statHeaders)("resistHeaders",D.resistHeaders)("affinityHeaders",D.affinityHeaders)("sortFunIndex",D.sortFunIndex),t.R7$(3),t.xc7("visibility","collapse"),t.Y8G("isPersona",D.isPersona)("isEnemy",D.isEnemy)("lang",D.lang)("hasInherits",!!D.inheritOrder)("statHeaders",D.statHeaders)("resistHeaders",D.resistHeaders)("affinityHeaders",D.affinityHeaders),t.R7$(3),t.Y8G("ngForOf",D.rowData))},dependencies:[f.YU,f.Sq,a.a,l.N,N,z],encapsulation:2,changeDetection:0})}}return _})()},2940:(B,S,d)=>{d.d(S,{p:()=>X,t:()=>Y});var t=d(3885),r=d(6661),e=d(2598);let s=(()=>{class C extends r.r{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(R,G)=>1e4*(this.elemOrder[R.element]-this.elemOrder[G.element])+R.rank-G.rank,(R,G)=>1e4*(this.elemOrder[R.element]-this.elemOrder[G.element])+R.rank-G.rank,(R,G)=>R.name.localeCompare(G.name),(R,G)=>G.cost-R.cost,(R,G)=>R.rank-G.rank],this.inheritOrder&&this.sortFuns.push((R,G)=>this.inheritOrder[R.inherit]-this.inheritOrder[G.inherit])}getSortFun(R){return this.sortFuns[R]}static{this.\u0275fac=function(){let R;return function(T){return(R||(R=e.xGo(C)))(T||C)}}()}static{this.\u0275dir=e.FsC({type:C,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[e.Vt3]})}}return C})();var f=d(177),o=d(8935),i=d(4207),n=d(9108),a=d(361),l=d(1090);const c=["class","app-skill-list-header"];function h(C,P){if(1&C&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&C){const R=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,R.msgs.Target,R.lang))}}function u(C,P){if(1&C){const R=e.RV6();e.j41(0,"th",0),e.bIt("click",function(){e.eBV(R);const T=e.XpG();return e.Njj(T.nextSortFunIndex(4))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translateComp"),e.k0s()()}if(2&C){const R=e.XpG();e.Y8G("ngClass",R.sortDirClass(4)),e.R7$(2),e.JRh(e.i5U(3,2,R.msgs.Rank,R.lang))}}function k(C,P){if(1&C){const R=e.RV6();e.j41(0,"th",0),e.bIt("click",function(){e.eBV(R);const T=e.XpG();return e.Njj(T.nextSortFunIndex(5))}),e.j41(1,"span"),e.EFF(2,"Inherit"),e.k0s()()}if(2&C){const R=e.XpG();e.Y8G("ngClass",R.sortDirClass(5))}}function L(C,P){if(1&C&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&C){const R=e.XpG();e.R7$(1),e.JRh(R.transferTitle)}}let g=(()=>{class C extends r.O{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.lang="en",this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1,this.msgs=l.vf}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}static{this.\u0275fac=function(){let R;return function(T){return(R||(R=e.xGo(C)))(T||C)}}()}static{this.\u0275cmp=e.VBU({type:C,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",lang:"lang",transferTitle:"transferTitle"},features:[e.Vt3],attrs:c,decls:30,vars:37,consts:[[1,"sortable",3,"ngClass","click"],[1,"cost"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(G,T){1&G&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translateComp"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translateComp"),e.k0s()(),e.j41(7,"tr")(8,"th",0),e.bIt("click",function(){return T.nextSortFunIndex(1)}),e.j41(9,"span"),e.EFF(10),e.nI1(11,"translateComp"),e.k0s()(),e.j41(12,"th",0),e.bIt("click",function(){return T.nextSortFunIndex(2)}),e.j41(13,"span"),e.EFF(14),e.nI1(15,"translateComp"),e.k0s()(),e.j41(16,"th",0),e.bIt("click",function(){return T.nextSortFunIndex(3)}),e.j41(17,"span",1),e.EFF(18),e.nI1(19,"translateComp"),e.k0s()(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translateComp"),e.k0s(),e.DNE(23,h,3,4,"th",2),e.DNE(24,u,4,5,"th",3),e.DNE(25,k,3,1,"th",3),e.j41(26,"th"),e.EFF(27),e.nI1(28,"translateComp"),e.k0s(),e.DNE(29,L,2,1,"th",2),e.k0s()),2&G&&(e.R7$(1),e.BMQ("colSpan",T.skillHeaderLen),e.R7$(1),e.JRh(e.i5U(3,16,T.msgs.Skill,T.lang)),e.R7$(2),e.BMQ("colSpan",T.acquireHeaderLen),e.R7$(1),e.JRh(e.i5U(6,19,T.msgs.HowToAcquire,T.lang)),e.R7$(3),e.Y8G("ngClass",T.sortDirClass(1)),e.R7$(2),e.JRh(e.i5U(11,22,T.msgs.Elem,T.lang)),e.R7$(2),e.Y8G("ngClass",T.sortDirClass(2)),e.R7$(2),e.JRh(e.i5U(15,25,T.msgs.Name,T.lang)),e.R7$(2),e.Y8G("ngClass",T.sortDirClass(3)),e.R7$(2),e.JRh(e.i5U(19,28,T.msgs.Cost,T.lang)),e.R7$(3),e.JRh(e.i5U(22,31,T.msgs.Effect,T.lang)),e.R7$(2),e.Y8G("ngIf",T.hasTarget),e.R7$(1),e.Y8G("ngIf",T.hasRank),e.R7$(1),e.Y8G("ngIf",T.hasInherit),e.R7$(2),e.JRh(e.i5U(28,34,T.msgs.LearnedBy,T.lang)),e.R7$(2),e.Y8G("ngIf",T.transferTitle))},dependencies:[f.YU,f.bT,i.uz],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding:.6em}span.cost[_ngcontent-%COMP%]{padding:1.2em}"],changeDetection:0})}}return C})();const E=["class","app-smt-skill-list-row"];function m(C,P){if(1&C&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&C){const R=e.XpG();e.R7$(1),e.LHq(" ",R.data.damage," ",R.data.element," damage",R.data.hits?" x"+R.data.hits:"","",R.data.effect?", "+R.data.effect:""," ")}}function I(C,P){if(1&C&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&C){const R=e.XpG();e.R7$(1),e.JRh(R.data.effect)}}function v(C,P){if(1&C&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&C){const R=e.XpG();e.R7$(1),e.ZvI("target-icon a",R.data.target||"Self",""),e.R7$(1),e.JRh(R.data.target||"Self")}}function F(C,P){if(1&C&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&C){const R=e.XpG();e.xc7("color",99!==R.data.rank?null:"transparent"),e.R7$(1),e.JRh(R.data.rank)}}function $(C,P){if(1&C&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&C){const R=e.XpG();e.R7$(1),e.ZvI("element-icon ",R.data.inherit.toLowerCase(),""),e.R7$(1),e.JRh(R.data.inherit)}}function N(C,P){if(1&C&&(e.j41(0,"td",3),e.EFF(1),e.nI1(2,"skillLevelToString"),e.k0s()),2&C){const R=e.XpG();e.Y8G("ngClass","lvl"+R.data.level.toString()),e.R7$(1),e.JRh(e.bMT(2,2,R.data.level))}}function y(C,P){if(1&C&&(e.j41(0,"li")(1,"a",6),e.EFF(2),e.k0s(),e.EFF(3),e.nI1(4,"skillLevelToShortString"),e.k0s()),2&C){const R=P.$implicit,G=e.XpG(2);e.R7$(1),e.FCK("routerLink","../",G.isPersona?"personas":"demons","/",R.demon,""),e.R7$(1),e.JRh(R.demon),e.R7$(1),e.SpI(" ",e.bMT(4,4,R.level)," ")}}function b(C,P){if(1&C&&(e.j41(0,"td")(1,"ul",4),e.DNE(2,y,5,6,"li",5),e.k0s()()),2&C){const R=e.XpG();e.R7$(2),e.Y8G("ngForOf",R.data.learnedBy)}}function j(C,P){if(1&C&&(e.qex(0),e.j41(1,"a",6),e.EFF(2),e.k0s(),e.EFF(3),e.nI1(4,"skillLevelToShortString"),e.bVm()),2&C){const R=e.XpG().$implicit,G=e.XpG(2);e.R7$(1),e.FCK("routerLink","../",G.hasSkillCards?"personas":"demons","/",R.demon,""),e.R7$(1),e.JRh(R.demon),e.R7$(1),e.SpI(" ",e.bMT(4,4,R.level)," ")}}function x(C,P){if(1&C&&(e.qex(0),e.EFF(1),e.bVm()),2&C){const R=e.XpG().$implicit;e.R7$(1),e.SpI("",R.demon," ")}}function H(C,P){if(1&C&&(e.j41(0,"li"),e.DNE(1,j,5,6,"ng-container",0),e.DNE(2,x,2,1,"ng-container",0),e.k0s()),2&C){const R=P.$implicit;e.R7$(1),e.Y8G("ngIf",R.level>=-99),e.R7$(1),e.Y8G("ngIf",R.level<-99)}}function A(C,P){if(1&C&&(e.j41(0,"td")(1,"ul",4),e.DNE(2,H,3,2,"li",5),e.k0s()()),2&C){const R=e.XpG();e.R7$(2),e.Y8G("ngForOf",R.data.transfer)}}const U=function(C,P){return{extra:C,unique:P}};function W(C,P){if(1&C&&e.nrm(0,"tr",7),2&C){const R=P.$implicit,G=e.XpG();e.Y8G("hasInherit",!!G.inheritOrder)("hasTarget",G.hasTarget)("hasRank",G.hasRank)("isPersona",G.isPersona)("hasTransferTitle",!!G.transferTitle)("hasSkillCards",G.transferTitle.includes("Card"))("data",R)("ngClass",e.l_i(8,U,R.rank>70&&R.rank<90,R.rank>90))}}let Y=(()=>{class C{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1,this.hasSkillCards=!1,this.skillLvl=-1}static{this.\u0275fac=function(G){return new(G||C)}}static{this.\u0275cmp=e.VBU({type:C,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",hasSkillCards:"hasSkillCards",skillLvl:"skillLvl",data:"data"},attrs:E,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(G,T){1&G&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"skillCostToString"),e.k0s(),e.DNE(8,m,2,4,"td",0),e.DNE(9,I,2,1,"td",0),e.DNE(10,v,3,4,"td",0),e.DNE(11,F,2,3,"td",1),e.DNE(12,$,3,4,"td",0),e.DNE(13,N,3,4,"td",2),e.DNE(14,b,3,1,"td",0),e.DNE(15,A,3,1,"td",0)),2&G&&(e.R7$(1),e.ZvI("element-icon ",T.data.element,""),e.R7$(1),e.JRh(T.data.element),e.R7$(2),e.JRh(T.data.name),e.R7$(1),e.xc7("color",T.data.cost?null:"transparent"),e.R7$(1),e.JRh(e.bMT(7,16,T.data.cost)),e.R7$(2),e.Y8G("ngIf",T.data.damage),e.R7$(1),e.Y8G("ngIf",!T.data.damage),e.R7$(1),e.Y8G("ngIf",T.hasTarget),e.R7$(1),e.Y8G("ngIf",T.hasRank),e.R7$(1),e.Y8G("ngIf",T.data.inherit),e.R7$(1),e.Y8G("ngIf",T.hasLvl),e.R7$(1),e.Y8G("ngIf",T.hasLearned),e.R7$(1),e.Y8G("ngIf",T.hasTransferTitle))},dependencies:[f.YU,f.Sq,f.bT,o.Wk,i.X2,i.Q3,i.wv],encapsulation:2,changeDetection:0})}}return C})(),X=(()=>{class C extends s{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.lang="en",this.transferTitle=""}static{this.\u0275fac=function(){let R;return function(T){return(R||(R=e.xGo(C)))(T||C)}}()}static{this.\u0275cmp=e.VBU({type:C,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",lang:"lang",transferTitle:"transferTitle"},features:[e.Jv_([t.P]),e.Vt3],decls:8,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","lang","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","lang","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass"]],template:function(G,T){1&G&&(e.j41(0,"table",0)(1,"tfoot",1,2),e.bIt("sortFunIndexChanged",function(K){return T.sortFunIndex=K}),e.k0s()(),e.j41(3,"table",3),e.nrm(4,"tfoot",4,5),e.j41(6,"tbody"),e.DNE(7,W,1,11,"tr",6),e.k0s()()),2&G&&(e.R7$(1),e.Y8G("hasInherit",!!T.inheritOrder)("hasTarget",T.hasTarget)("hasRank",T.hasRank)("lang",T.lang)("transferTitle",T.transferTitle)("sortFunIndex",T.sortFunIndex),e.R7$(3),e.xc7("visibility","collapse"),e.Y8G("hasInherit",!!T.inheritOrder)("hasTarget",T.hasTarget)("hasRank",T.hasRank)("lang",T.lang)("transferTitle",T.transferTitle),e.R7$(3),e.Y8G("ngForOf",T.rowData))},dependencies:[f.YU,f.Sq,n.a,a.N,g,Y],encapsulation:2,changeDetection:0})}}return C})()},6947:(B,S,d)=>{d.d(S,{HI:()=>u,I4:()=>N,RT:()=>F,Se:()=>v,_J:()=>E,eG:()=>L,iJ:()=>k,nv:()=>g,ov:()=>m,ty:()=>I,zm:()=>$});var t=d(2598),r=d(7396),e=d(7605),s=d(7101),f=d(7178),o=d(2338),i=d(6208),n=d(9910),a=d(3515),l=d(8939),c=d(1080),h=d(3357);const u=new t.nKC("compendium.config"),k=new t.nKC("fusion.data.service"),L=new t.nKC("fusion.trio.service"),g=new r.s([e.Cx,e.Hy,e.GW],[s.Dy,s.sk,s.Dc]),E=new r.s([e.Cx,e.Hy,e.GW,i.j],[s.Dy,s.sk,s.Dc]),m=new r.s([f.Hr,f.Hg,f.rj,f.Sm],[o.X]),I=new r.s([f.Hr,f.Hg,f.rj,i.i],[o.X]),v=new r.s([e.Cx,n.H],[]),F=new r.s([f.Hr,a.gt],[]),$=new l.$([c.FE,c.LW,c.Hy],[]),N=new l.$([h.Hr,h.gt,h.c7],[]);!function y(x){const H={};for(let A=0;A<x.length;A++)H[x[A]]=A}(["wk","no","rs","st","nu","rp","dr","ab"])},9404:(B,S,d)=>{d.d(S,{M:()=>e});var t=d(1985),r=d(2598);let e=(()=>{class s{constructor(o,i,n){this.title2=o,this.changeDetectorRef=i,this.fusionDataService2=n,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(a,l)=>a.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}onCompendiumUpdated(o){this.changeDetectorRef.markForCheck(),this.demons=t.c.create(i=>{let n=o.allDemons;this.showAllies||(n=n.filter(a=>a.isEnemy)),this.showEnemies||(n=n.filter(a=>!a.isEnemy)),n.sort(this.defaultSortFun),i.next(n.slice(0,this.initListLen)),setTimeout(()=>i.next(n))})}static{this.\u0275fac=function(i){r.QTQ()}}static{this.\u0275dir=r.FsC({type:s})}}return s})()},9454:(B,S,d)=>{d.d(S,{E:()=>e});var t=d(1985),r=d(2598);let e=(()=>{class s{constructor(o,i,n){this.title2=o,this.changeDetectorRef2=i,this.fusionDataService2=n,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(a,l)=>a.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}onCompendiumUpdated(o){this.changeDetectorRef2.markForCheck(),this.skills=t.c.create(i=>{const n=o.allSkills;n.sort(this.defaultSortFun),i.next(n.slice(0,this.initListLen)),setTimeout(()=>i.next(n))})}static{this.\u0275fac=function(i){r.QTQ()}}static{this.\u0275dir=r.FsC({type:s})}}return s})()},3515:(B,S,d)=>{function t(s,f,o){const{race:i,lvl:n}=f.getDemon(s),a=[];if(f.getSpecialNameEntries(s).length)return a;const l=f.getResultDemonLvls(i),c=l.indexOf(n);if(c<0)return a;const u=2*(n-1),k=l[c+1]?2*(l[c+1]-1):200,L=l[c+2]?2*(l[c+2]-1):200,g=f.getIngredientDemonLvls(i).filter(m=>m!==n),E=k/2+1;for(const m of g)E<m&&E+m<L&&a.push({name1:f.reverseLookupDemon(i,E),name2:f.reverseLookupDemon(i,m)});for(let m=0;m<g.length;m++){const I=g[m];for(let v=m+1;v<g.length;v++){const F=g[v];u<=I+F&&I+F<k&&a.push({name1:f.reverseLookupDemon(i,I),name2:f.reverseLookupDemon(i,F)})}}return a}function r(s,f,o){const i=[],{race:n,lvl:a}=f.getDemon(s),l=o.getElemModifiers(n),c=f.getResultDemonLvls(n),h=c.indexOf(a),u=Object.keys(l).map(k=>parseInt(k,10));if(u.sort(),-1===h)return i;for(const k of u)if(0<=h+k&&h+k<c.length){const L=c[h+k];i.push({price:L,names1:[f.reverseLookupDemon(n,L)],lvl1:L,names2:l[k],lvl2:L})}return i}function e(s,f,o){const i=[],{race:n,lvl:a}=f.getDemon(s),l=o.getElemModifiers(n),c=f.getResultDemonLvls(n).concat([99]),h=c.indexOf(a),u=[a];if(-1===h)return i;h>1&&l[2]&&i.push({price:0,names1:[],lvl1:c[h-2],names2:l[2],lvl2:c[h-1]-1}),h>0&&l[1]&&i.push({price:0,names1:[],lvl1:c[h-1],names2:l[1],lvl2:a-1}),l[-1]&&i.push({price:0,names1:[],lvl1:a+1,names2:l[-1],lvl2:c[h+1]}),h<c.length-2&&l[-1]&&(u.push(c[h+1]),i.push({price:0,names1:[f.reverseLookupDemon(n,c[h+1])],lvl1:c[h+1],names2:l[-1],lvl2:c[h+2]})),h<c.length-2&&l[-2]&&i.push({price:0,names2:l[-2],lvl1:c[h+1]+1,lvl2:c[h+2],names1:[]}),h<c.length-3&&l[-2]&&(u.push(c[h+2]),i.push({price:0,names1:[f.reverseLookupDemon(n,c[h+2])],lvl1:c[h+2],names2:l[-2],lvl2:c[h+3]}),i.push({price:0,names1:[f.reverseLookupDemon(n,c[h+1])],lvl1:c[h+2]+1,names2:l[-2],lvl2:c[h+3]}));for(const k of i.filter(L=>0===L.names1.length))for(const L of f.getIngredientDemonLvls(n).filter(g=>!u.includes(g)))L<=k.lvl2&&k.names1.push(f.reverseLookupDemon(n,L));for(const k of i)k.price=Math.pow(3*k.lvl1+7,2)+2e3;return i.filter(k=>k.names1.length>0)}d.d(S,{gt:()=>t,iB:()=>e,o4:()=>r})},9910:(B,S,d)=>{function t(r,e,s){const f=[],{race:o,lvl:i}=e.getDemon(r),a=e.getIngredientDemonLvls(o).filter(c=>c!==i),l=e.getResultDemonLvls(o).filter(c=>c!==i).map(c=>2*c);for(const c of a){let u=l.reduce((L,g)=>i+c+2>=g?L+1:L,-1);l[u]/2===c&&(u-=1);const k=l[u]/2;k&&f.push({name1:e.reverseLookupDemon(o,c),name2:e.reverseLookupDemon(o,k)})}return f}d.d(S,{H:()=>t})},3357:(B,S,d)=>{d.d(S,{Hr:()=>s,XN:()=>i,c7:()=>o,gt:()=>f});var t=d(1080),r=d(7178);function e(n,a){if(!a.length)return-1;let l=0;for(const c of a)n>c&&l++;return l===a.length?-1:l}function s(n,a,l){const{normalChart:c,tripleChart:h,raceOrder:u}=l,{race:k,lvl:L}=a.getDemon(n),g=3*h.lvlModifier,E=[],m=a.getResultDemonLvls(k),I=m.indexOf(L);if(-1===I)return E;const v={};for(const[y,b]of Object.entries(h.getRaceFissions(k))){v[y]||(v[y]=[]);for(const j of b)v[j]||(v[j]=[]),y!==j&&v[y].push(j),v[j].push(y)}const F={};for(const[y,b]of Object.entries(v)){F[y]={};for(const j of b)for(const[x,H]of Object.entries(c.getRaceFissions(j)))F[y][x]||(F[y][x]=[]),F[y][x]=F[y][x].concat(H);for(const j of b)y!==j&&(F[y][j]||(F[y][j]=[]),F[y][j].push(j))}const $=m[I-1]?3*m[I-1]-g:0,N=3*L-g;for(const[y,b]of Object.entries(F))for(const j of a.getIngredientDemonLvls(y)){const x=a.reverseLookupDemon(y,j),H=a.getDemon(x).currLvl;if(x!==n){const A=$-j,U=N-j;for(const[W,Y]of Object.entries(b))for(const X of a.getIngredientDemonLvls(W)){const C=a.reverseLookupDemon(W,X),P=a.getDemon(C).currLvl;if(C!==x&&C!==n&&(H>P||H===P&&u[y]<u[W])){const R=A-X,G=U-X;for(const T of Y)for(const J of a.getIngredientDemonLvls(T)){const K=a.reverseLookupDemon(T,J),Q=a.getDemon(K).currLvl;K!==C&&K!==x&&K!==n&&(W!==T||X<J)&&(H>Q||H===Q&&u[y]<u[T])&&R<J&&J<=G&&E.push({name1:x,name2:C,name3:K})}}}}}return E}function f(n,a,l){const{tripleChart:h}=l,{race:u,lvl:k}=a.getDemon(n),L=h.lvlModifier,g=[],E=a.getIngredientDemonLvls(u).filter(I=>I!==k),m=a.getResultDemonLvls(u);for(let I=0;I<E.length;I++){const v=E[I],F=m.filter(N=>N!==v),$=a.reverseLookupDemon(u,v);for(let N=I+1;N<E.length;N++){const y=E[N],b=F.filter(x=>x!==y),j=a.reverseLookupDemon(u,y);for(let x=N+1;x<E.length;x++){const H=E[x],A=b.filter(X=>X!==H),U=a.reverseLookupDemon(u,H),Y=e((v+y+H)/3+L,A);-1!==Y&&A[Y]===k&&g.push({name1:$,name2:j,name3:U})}}}return g}function o(n,a,l){const{race:c,lvl:h}=a.getDemon(n),u=a.getResultDemonLvls(c).slice();if(0<u.indexOf(h)){const k=a.reverseLookupDemon(c,u[u.indexOf(h)-1]);return[].concat((0,t.FE)(k,a,l).filter(g=>g.name3===n),(0,t.LW)(k,a,l).filter(g=>g.name3===n)).map(g=>({name1:g.name1,name2:g.name2,name3:k}))}return[]}function i(n,a,l){return(0,r.rj)(n,a,l.tripleChart).map(c=>{const[h,u]=c.name2.split(" x ");return{name1:c.name1,name2:h,name3:u}})}},1080:(B,S,d)=>{d.d(S,{FE:()=>e,Hy:()=>f,LW:()=>s,q6:()=>o});var t=d(7605);function r(i,n){if(!n.length)return-1;let a=0;for(const l of n)i>l&&a++;return a===n.length?-1:a}function e(i,n,a){const{normalChart:l,tripleChart:c,raceOrder:h}=a,{race:u,lvl:k,currLvl:L}=n.getDemon(i),g=3*c.lvlModifier,E=[],m=c.getRaceFusions(u),I={};for(const[v,F]of Object.entries(m)){I[v]||(I[v]={}),u!==v&&(I[v][v]=F);for(const[$,N]of Object.entries(l.getRaceFissions(v))){I[$]||(I[$]={});for(const y of N)I[$][y]=F}}for(const[v,F]of Object.entries(I))for(const $ of n.getIngredientDemonLvls(v)){const N=n.reverseLookupDemon(v,$),y=n.getDemon(N).currLvl;if(N!==i&&(L>y||L===y&&h[u]<h[v]))for(const[b,j]of Object.entries(F)){const x=n.getResultDemonLvls(j),H=x.map(A=>3*A-g-k-$);for(const A of n.getIngredientDemonLvls(b)){const U=n.reverseLookupDemon(b,A),W=n.getDemon(U).currLvl;if(U!==N&&U!==i&&(v!==b||$<A)&&(L>W||L===W&&h[u]<h[b]))if(n.isElementDemon(j))E.push({name1:N,name2:U,name3:j});else{const Y=r(A,H);if(-1!==Y){const X=n.reverseLookupDemon(j,x[Y]);X!==U&&X!==N&&X!==i?E.push({name1:N,name2:U,name3:X}):Y+1<x.length&&E.push({name1:N,name2:U,name3:n.reverseLookupDemon(j,x[Y+1])})}}}}}return E}function s(i,n,a){const{normalChart:l,tripleChart:c,raceOrder:h}=a,{race:u,lvl:k,currLvl:L}=n.getDemon(i),g=3*c.lvlModifier,E=[],m={};m[u]=Object.assign({},c.getRaceFusions(u)),delete m[u][u];for(const[I,v]of Object.entries(l.getRaceFusions(u)))m[I]=c.getRaceFusions(v);for(const[I,v]of Object.entries(m))for(const F of n.getIngredientDemonLvls(I)){const $=n.reverseLookupDemon(I,F),N=n.getDemon($).currLvl;if($!==i)for(const[y,b]of Object.entries(v)){const j=n.getResultDemonLvls(b),x=j.map(H=>3*H-g-k-F);for(const H of n.getIngredientDemonLvls(y)){const A=n.reverseLookupDemon(y,H),U=n.getDemon(A).currLvl;if(A!==$&&A!==i&&(U>L||U===L&&h[y]<h[u])&&(U>N||U===N&&h[y]<h[I]))if(n.isElementDemon(b))E.push({name1:$,name2:A,name3:b});else{const W=r(H,x);if(-1!==W){const Y=n.reverseLookupDemon(b,j[W]);Y!==A&&Y!==$&&Y!==i?E.push({name1:$,name2:A,name3:Y}):W+1<j.length&&E.push({name1:$,name2:A,name3:n.reverseLookupDemon(b,j[W+1])})}}}}}return E}function f(i,n,a){const{tripleChart:c}=a,{race:h,lvl:u}=n.getDemon(i),k=c.getRaceFusions(h)[h],L=[];if(!k)return L;const g=n.getIngredientDemonLvls(h).filter(I=>I!==u),E=n.getResultDemonLvls(h).filter(I=>I!==u),m=c.lvlModifier;for(let I=0;I<g.length;I++){const v=g[I],F=E.filter(N=>N!==v),$=n.reverseLookupDemon(h,v);for(let N=I+1;N<g.length;N++){const y=g[N],b=F.filter(x=>x!==y),j=n.reverseLookupDemon(h,y);if(n.isElementDemon(k))L.push({name1:$,name2:j,name3:k});else{const H=r((v+u+y)/3+m,b);-1!==H&&L.push({name1:$,name2:j,name3:n.reverseLookupDemon(h,b[H])})}}}return L}function o(i,n,a){return(0,t.GW)(i,n,a.tripleChart).map(l=>{const[c,h]=l.name1.split(" x ");return{name1:c,name2:h,name3:l.name2}})}},2338:(B,S,d)=>{function t(r,e,s){const f=e.getSpecialNamePairs(r).slice();for(const[o,i]of Object.entries(s.getRaceFissions(r))){const n=e.getIngredientDemonLvls(o);for(let a=0;a<n.length;a++)for(let l=a+1;l<n.length;l++)f.push({name1:e.reverseLookupDemon(o,n[a]),name2:e.reverseLookupDemon(o,n[l])})}return f}d.d(S,{X:()=>t})},7101:(B,S,d)=>{function t(s,f,o){const i=[];for(const[n,a]of Object.entries(o.getElemFusions(s))){const l=f.getResultDemonLvls(n).filter(u=>u<100),c=a<0?l.slice(-1*a):l.slice(0,-1*a),h=a<0?l.slice(0,a):l.slice(a);for(let u=0;u<c.length;u++)i.push({name1:f.reverseLookupDemon(n,c[u]),name2:f.reverseLookupDemon(n,h[u])})}return i}function r(s,f,o){const i=[],n=o.getElemFusions(s);for(const{race:a,lvl:l,name:c}of f.specialDemons){const h=n[a];if(h){const u=(g,E)=>l>E?g+1:g,k=f.getResultDemonLvls(a).filter(g=>g<100),L=h+k.reduce(u,0);0<L&&L<k.length&&i.push({name1:c,name2:f.reverseLookupDemon(a,k[L])})}}return i}function e(s,f,o){return[]}d.d(S,{Dc:()=>e,Dy:()=>t,sk:()=>r})},7178:(B,S,d)=>{function t(f,o,i){const n=[],a=o.getSpecialNamePairs(f);if(a.length>0)if(a[0].name1===a[0].name2)f=a[0].name1;else if(f!==a[0].name1)return a;const{race:l,lvl:c}=o.getDemon(f),h=o.getResultDemonLvls(l),u=h.indexOf(c);if(-1===u)return[];const k=h[u-1]?2*(h[u-1]-i.lvlModifier):0,L=h[u+1]?2*(c-i.lvlModifier):200;for(const[g,E]of Object.entries(i.getRaceFissions(l)))for(const m of o.getIngredientDemonLvls(g)){const I=k-m,v=L-m;for(const F of E)for(const $ of o.getIngredientDemonLvls(F))I<$&&$<=v&&(g!=F||m<$)&&n.push({name1:o.reverseLookupDemon(g,m),name2:o.reverseLookupDemon(F,$)})}return n}function r(f,o,i){const n=[],{race:a,lvl:l}=o.getDemon(f),c=Object.keys(i.getRaceFissions(a)).find(m=>"2"===m.charAt(0));if(!c)return n;const h=c.substring(1),u=o.getResultDemonLvls(h),k=u.indexOf(l);if(-1===k)return n;const L=u[k-2]||0,g=u[k-1]||0,E=u[k+1]?2*l:200;for(const[m,I]of Object.entries(i.getRaceFissions(h)))for(const v of o.getIngredientDemonLvls(m).filter(F=>F!==l))for(const F of I)for(const $ of o.getIngredientDemonLvls(F).filter(N=>N!==l)){const y=v+$+i.lvlModifier;2*(v===g||$===g?L:g)<y&&y<=E&&n.push({name1:o.reverseLookupDemon(m,v),name2:o.reverseLookupDemon(F,$)})}return n}function e(f,o,i){const{race:n,lvl:a}=o.getDemon(f),l=[],c=i.getElemModifiers(n),h=Object.keys(c).map(L=>parseInt(L,10));if(o.getSpecialNamePairs(f).length||!h.length)return l;const u=[0,0].concat(o.getResultDemonLvls(n),[100,100]),k=[];for(const L of o.getIngredientDemonLvls(n)){const g=u.slice();g.indexOf(L)<0&&(g.push(L),g.sort((m,I)=>m-I));const E=g.indexOf(L);for(const m of h)g[E+m]===a&&k.push({ingName:o.reverseLookupDemon(n,L),elementOffset:m})}for(const L of k)for(const g of c[L.elementOffset])l.push({name1:L.ingName,name2:g});return l}function s(f,o,i){const n=[],a=o.getSpecialNamePairs(f);if(0===a.length||f!==a[0].name1)return n;const l=o.getDemon(a[0].name2).race;for(const[c,h]of Object.entries(i.getRaceFissions(l)))for(const u of o.getIngredientDemonLvls(c))for(const k of h)for(const L of o.getIngredientDemonLvls(k))n.push({name1:o.reverseLookupDemon(c,u),name2:o.reverseLookupDemon(k,L)});return n}d.d(S,{Hg:()=>r,Hr:()=>t,Sm:()=>s,rj:()=>e})},7605:(B,S,d)=>{function t(f,o){if(!o.length)return-1;let i=0;for(const n of o)f>n&&i++;return i===o.length?i-1:i}function r(f,o,i){const n=[],{race:a,lvl:l}=o.getDemon(f);for(const[c,h]of Object.entries(i.getRaceFusions(a))){const u=o.getResultDemonLvls(h),k=u.map(L=>2*(L-i.lvlModifier)-l);for(const L of o.getIngredientDemonLvls(c)){const g=t(L,k);if(-1!==g&&100!==u[g]&&(a!=c||l!=L)){const E=o.reverseLookupDemon(h,u[g]);n.push(E===f&&g+1<u.length?{name1:o.reverseLookupDemon(c,L),name2:o.reverseLookupDemon(h,u[g+1])}:{name1:o.reverseLookupDemon(c,L),name2:E})}}}for(const c of o.reverseLookupSpecial(f)){const h=o.getSpecialNameEntries(c);if(2===h.length){const u=h[0]===f?h[1]:h[0];for(const k of n)k.name1===u&&(k.name2=c)}}return n}function e(f,o,i){const{race:n,lvl:a}=o.getDemon(f),l=i.getRaceFusions(n)[n],c=o.getIngredientDemonLvls(n).filter(u=>u!==a),h=[];if(l&&o.isElementDemon(l))for(const u of c)h.push({name1:o.reverseLookupDemon(n,u),name2:l});return h}function s(f,o,i){const n=[],{race:a,lvl:l}=o.getDemon(f),c=[0,0].concat(o.getResultDemonLvls(a),[100,100]);c.indexOf(l)<0&&(c.push(l),c.sort((L,g)=>L-g));const h=c.indexOf(l),u=i.getElemModifiers(a),k=Object.keys(u).map(L=>parseInt(L,10));for(const L of k){const g=c[h+L];if(0!==g&&100!==g){const E=o.reverseLookupDemon(a,g);for(const m of u[L])n.push({name1:m,name2:E})}}return n}d.d(S,{Cx:()=>r,GW:()=>s,Hy:()=>e})},6208:(B,S,d)=>{function t(e,s,f){const{race:o,lvl:i}=s.getDemon(e),n=[0,0].concat(s.getResultDemonLvls(o),[100,100]),a=n.indexOf(i),l=[];if(f.getLightDark(o)<0||-1===a)return l;const c=n[a-2],h=n[a-1],u=n[a+1],k=0!==c?s.reverseLookupDemon(o,c):"",L=0!==h?s.reverseLookupDemon(o,h):"",g=100!==u?s.reverseLookupDemon(o,u):"";for(const E of f.races)if(f.getLightDark(E)<0)for(const m of s.getIngredientDemonLvls(E)){const I=s.reverseLookupDemon(E,m);c>=m&&(c+m)%7==0&&l.push({name1:k,name2:I}),h>=m&&(h+m)%7!=0&&(h+m)%5==0&&l.push({name1:L,name2:I}),u>=m&&(u+m)%7!=0&&(u+m)%5!=0&&(u+m)%3==0&&l.push({name1:g,name2:I})}return l.filter(E=>""!==E.name1)}function r(e,s,f){const{race:o,lvl:i}=s.getDemon(e),n=[0,0].concat(s.getResultDemonLvls(o),[100,100]),a=n.indexOf(i),l=[];if(f.getLightDark(o)<0||-1===a)return l;const c=n[a+2],h=n[a+1],u=n[a-1],k=100!==c?s.reverseLookupDemon(o,c):"",L=100!==h?s.reverseLookupDemon(o,h):"",g=0!==u?s.reverseLookupDemon(o,u):"";for(const E of f.races)if(f.getLightDark(E)<0){const m=s.getIngredientDemonLvls(E);for(let I=0;I<m.length;I++){const v=m[I],F=s.reverseLookupDemon(E,v);i>=v?(i+v)%7==0?l.push({name1:F,name2:k}):(i+v)%5==0?l.push({name1:F,name2:L}):(i+v)%3==0?l.push({name1:F,name2:g}):(i+v)%2==0&&I>0&&l.push({name1:F,name2:s.reverseLookupDemon(E,m[I-1])}):(i+v)%2==0&&I<m.length-1?l.push({name1:F,name2:s.reverseLookupDemon(E,m[I+1])}):(i+v)%2==1&&l.push({name1:F,name2:"Slime"})}}return l.filter(E=>""!==E.name2)}d.d(S,{i:()=>t,j:()=>r})},4660:(B,S,d)=>{function t(i,n){const a=n.getDemon(i);return{price:a.price,race1:a.race,lvl1:a.currLvl,name1:i}}function r(i,n){const a=n.getDemon(i.name1),l=n.getDemon(i.name2);return{price:a.price+l.price,race1:a.race,lvl1:a.currLvl,name1:i.name1,race2:l.race,lvl2:l.currLvl,name2:i.name2}}function e(i,n){const a=n.getDemon(i.name1),l=n.getDemon(i.name2);return{price:a.price,race1:a.race,lvl1:a.currLvl,name1:i.name1,race2:l.race,lvl2:l.lvl,name2:i.name2}}function s(i,n){const a=n.getDemon(i.name1),l=n.getDemon(i.name2),c=n.getDemon(i.name3);return{price:a.price+l.price+c.price,d1:a,d2:l,d3:c}}function f(i,n){const a=n.getDemon(i.name1),l=n.getDemon(i.name2),c=n.getDemon(i.name3);return{price:a.price+l.price,d1:a,d2:l,d3:c}}function o(i,n){const a={};if(!n)return a;for(let l=0;l<n.length;l++)for(let c=0;c<n[l].length-1;c++){const h=n[l][c];a[h]||(a[h]=[]),a[h].push({name1:i[c],name2:i[l]})}return a}d.d(S,{Jc:()=>o,OY:()=>f,_m:()=>t,f7:()=>s,lA:()=>e,on:()=>r})},7396:(B,S,d)=>{d.d(S,{s:()=>t});class t{constructor(e,s){this.fuseNonelem=e,this.fuseElement=s}getFusions(e,s,f){let o=[];const i=s.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const n of i)o=o.concat(n(e,s,f));return o}}},8063:(B,S,d)=>{d.d(S,{p:()=>t});let t=(()=>{class r{static{this.LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"]}static{this.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"]}static loadFusionTableJson(s,f){const o={},i=1===f[0].length;for(const n of s)o[n]={};for(let n=0;n<f.length;n++){const a=s[n],l=f[n],c=i?0:s.length-l.length;for(let h=0;h<l.length;h++){const u=s[h+c],k=l[h];"-"!==k&&(o[a][u]=k,o[u][a]=k)}}return o}static loadFissionTableJson(s,f,o){const i={},n=1===o[0].length;for(let a=0;a<o.length;a++){const l=s[a],c=o[a],h=n?0:s.length-c.length;for(let u=0;u<c.length;u++){const k=s[u+h],L=c[u];"-"!==L&&(i[L]||(i[L]={}),i[L][l]||(i[L][l]=[]),i[L][l].push(k))}}return i}static loadElementTableJson(s,f,o){const i={};for(const n of f)i[n]={};for(let n=0;n<o.length;n++){const a=s[n],l=o[n];for(let c=0;c<l.length;c++){const u=o[n][c];u&&(i[f[c]][a]=u)}}return i}static mergeFusionTables(s,f){const o={};for(const[i,n]of Object.entries(s))o[i]=Object.assign({},n);for(const[i,n]of Object.entries(f))o[i]=Object.assign(o[i]||{},n);return o}static mergeFissionTables(s,f){const o={};for(const[i,n]of Object.entries(s)){o[i]={};for(const[a,l]of Object.entries(n))o[i][a]=l.slice()}for(const[i,n]of Object.entries(f)){o[i]=o[i]||{};for(const[a,l]of Object.entries(n))o[i][a]=l.concat(o[i][a]||[])}return o}getLightDark(s){return-1!==r.LIGHT_RACES.indexOf(s)?1:-1!==r.DARK_RACES.indexOf(s)?-1:0}getRaceFissions(s){return this.fissionChart[s]||{}}getRaceFusions(s){return this.fusionChart[s]||{}}getRaceFusion(s,f){return this.getRaceFusions(s)[f]||""}getElemModifiers(s){const f={};for(const[o,i]of Object.entries(this.elementChart)){const n=i[s];n&&(f[n]||(f[n]=[]),f[n].push(o))}return f}getElemFusions(s){return this.elementChart[s]||{}}isConvertedRace(s){return!1}}return r})()},8939:(B,S,d)=>{d.d(S,{$:()=>t});class t{constructor(e,s){this.fuseNonelem=e,this.fuseElement=s}getFusions(e,s,f){let o=[];const i=s.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const n of i)o=o.concat(n(e,s,f));return o}}},361:(B,S,d)=>{d.d(S,{N:()=>r});var t=d(2598);let r=(()=>{class e{constructor(f,o){this.elementRef=f,this.renderer=o,this.borderWidth=2}get colWidths(){const f=[],o=this.elementRef.nativeElement.children;if(o.length)for(const i of o[o.length-1].children)f.push(i.getBoundingClientRect().width-2*this.borderWidth);return f}set colWidths(f){const o=this.elementRef.nativeElement.children;if(o.length){const i=o[o.length-1].children;for(let n=0;n<i.length;n++)this.renderer.setStyle(i[n],"width",`${f[n]}px`)}}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:e,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}})}}return e})()},3885:(B,S,d)=>{d.d(S,{P:()=>e});var t=d(4412),r=d(2598);let e=(()=>{class s{constructor(o){this._edges$=new t.t({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=o?o.edges:new t.t({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(o){this._edges$.next(o)}static{this.\u0275fac=function(i){return new(i||s)(r.KVO(s,12))}}static{this.\u0275prov=r.jDH({token:s,factory:s.\u0275fac})}}return s})()},9108:(B,S,d)=>{d.d(S,{a:()=>e});var t=d(2598),r=d(3885);let e=(()=>{class s{constructor(o,i,n){this.elementRef=o,this.renderer=i,this.edgesService=n,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(o=>{this.edges=o}))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(o){this._edges=o,this.sZIndex=o.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${o.top}px`),this.nextEdges()}static{this.\u0275fac=function(i){return new(i||s)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(r.P))}}static{this.\u0275dir=t.FsC({type:s,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(i,n){2&i&&(t.xc7("z-index",n.sZIndex),t.AVh("position-sticky",n.cPositionSticky))},inputs:{edges:"edges"}})}}return s})()},6661:(B,S,d)=>{d.d(S,{O:()=>o,r:()=>i});var t=d(2598),r=d(361),e=d(9108);const s=["stickyHeader"],f=["hiddenHeader"];let o=(()=>{class n{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new t.bkB}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(l){this.sortAsc=l>0,this.sortAscIndex=(this.sortAsc?1:-1)*l}sortDirClass(l){return this.sortAscIndex!==l?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(l){this.sortAsc=this.sortAscIndex!==l||!this.sortAsc,this.sortAscIndex=l,this.sortFunIndexChanged.emit(this.sortFunIndex)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275dir=t.FsC({type:n,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}})}}return n})(),i=(()=>{class n{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(l){this._rowData=l,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(l){this._sortFunIndex=l,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((l,c)=>this.getSortFun(-1*this.sortFunIndex)(c,l)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275dir=t.FsC({type:n,viewQuery:function(c,h){if(1&c&&(t.GBs(e.a,5),t.GBs(s,5,r.N),t.GBs(f,5,r.N)),2&c){let u;t.mGM(u=t.lsd())&&(h.stickyTable=u.first),t.mGM(u=t.lsd())&&(h.stickyHeader=u.first),t.mGM(u=t.lsd())&&(h.hiddenHeader=u.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}})}}return n})()}}]);