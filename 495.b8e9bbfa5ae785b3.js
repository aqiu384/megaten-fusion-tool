"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[495],{3687:(J,L,m)=>{m.d(L,{d:()=>F});var t=m(4769),e=m(6593),l=m(6814);function b(C,y){if(1&C){const O=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"label"),t._uU(3),t.TgZ(4,"input",3),t.NdJ("change",function(){const I=t.CHM(O).$implicit,E=t.oxw();return t.KtG(E.toggledName.emit(I.name))}),t.qZA()()()()}if(2&C){const O=y.$implicit;t.xp6(3),t.hij("",O.name.split(",").join(", ")," "),t.xp6(1),t.Q6J("checked",O.included)}}let F=(()=>{var C;class y{constructor(S){this.title=S,this.dlcTitle="Included DLC Demons",this.langEn=!0,this.toggledName=new t.vpe}set appTitle(S){this.title.setTitle((this.langEn?"Fusion Settings - ":"\u5408\u4f53\u8a2d\u5b9a ")+S)}}return(C=y).\u0275fac=function(S){return new(S||C)(t.Y36(e.Dx))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-demon-dlc-settings"]],inputs:{dlcDemons:"dlcDemons",dlcTitle:"dlcTitle",langEn:"langEn",appTitle:"appTitle"},outputs:{toggledName:"toggledName"},decls:10,vars:2,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(S,U){1&S&&(t.ynx(0),t.TgZ(1,"h2"),t._uU(2),t.qZA(),t.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th",1),t._uU(7,"DLC"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,b,5,2,"tr",2),t.qZA()(),t.BQk()),2&S&&(t.xp6(2),t.Oqu(U.dlcTitle),t.xp6(7),t.Q6J("ngForOf",U.dlcDemons))},dependencies:[l.sg],encapsulation:2,changeDetection:0}),y})()},8520:(J,L,m)=>{m.d(L,{O:()=>E});var t=m(4769),e=m(6814);function l(d,D){if(1&d&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&d){const a=t.oxw();t.xp6(1),t.Oqu(a.title)}}function b(d,D){if(1&d&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&d){const a=t.oxw();t.xp6(1),t.Oqu(a.langEn?"Price":"\u4fa1\u683c")}}function F(d,D){if(1&d&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&d){const a=D.$implicit;t.xp6(1),t.Oqu(a)}}function C(d,D){1&d&&(t.TgZ(0,"th"),t._uU(1,"Inherits"),t.qZA())}function y(d,D){if(1&d&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&d){const a=D.$implicit;t.xp6(1),t.Oqu(a)}}function O(d,D){if(1&d&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&d){const a=t.oxw();t.xp6(1),t.Oqu(a.price)}}function S(d,D){if(1&d&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&d){const a=D.$implicit;t.xp6(1),t.Oqu(a)}}function U(d,D){if(1&d&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()()),2&d){const a=t.oxw();t.xp6(1),t.Gre("element-icon i",a.inherits,""),t.xp6(1),t.Oqu(a.inherits)}}const I=["*"];let E=(()=>{var d;class D{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.langEn=!0}}return(d=D).\u0275fac=function(n){return new(n||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",langEn:"langEn"},ngContentSelectors:I,decls:19,vars:10,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(n,p){1&n&&(t.F$t(),t.ynx(0),t.YNc(1,l,2,1,"h2",0),t.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),t._uU(6),t.qZA()(),t.TgZ(7,"tr"),t.YNc(8,b,2,1,"th",0),t.YNc(9,F,2,1,"th",3),t.YNc(10,C,2,0,"th",0),t.YNc(11,y,2,1,"th",3),t.qZA()(),t.TgZ(12,"tbody")(13,"tr"),t.YNc(14,O,2,1,"td",0),t.YNc(15,S,2,1,"td",3),t.YNc(16,U,3,4,"td",0),t.Hsn(17),t.qZA()()(),t.GkF(18),t.BQk()),2&n&&(t.xp6(1),t.Q6J("ngIf",p.title.includes("Lvl")),t.xp6(4),t.uIk("colSpan",p.stats.length+p.fusionHeaders.length+(p.inherits?1:0)+(p.price?1:0)),t.xp6(1),t.hij(" ",p.title.includes("Lvl")?p.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9":p.title," "),t.xp6(2),t.Q6J("ngIf",p.price),t.xp6(1),t.Q6J("ngForOf",p.statHeaders),t.xp6(1),t.Q6J("ngIf",p.inherits),t.xp6(1),t.Q6J("ngForOf",p.fusionHeaders),t.xp6(3),t.Q6J("ngIf",p.price),t.xp6(1),t.Q6J("ngForOf",p.stats),t.xp6(1),t.Q6J("ngIf",p.inherits))},dependencies:[e.sg,e.O5],encapsulation:2,changeDetection:0}),D})()},4069:(J,L,m)=>{m.d(L,{O:()=>I});var t=m(3247),e=m(3808),l=m(4769),b=m(6814),F=m(4487);const C=function(){return{exact:!0}};function y(E,d){if(1&E&&(l.TgZ(0,"th",4)(1,"a",5),l._uU(2),l.qZA()()),2&E){const D=d.$implicit,a=l.oxw();l.Udp("width",100/a.fusionOptions.length,"%"),l.Q6J("routerLink",D.link)("routerLinkActiveOptions",l.DdM(6,C)),l.xp6(1),l.Q6J("routerLink",D.link),l.xp6(1),l.Oqu(D.title)}}function O(E,d){if(1&E&&(l.TgZ(0,"tr")(1,"th",6),l._uU(2),l.qZA()()),2&E){const D=l.oxw();l.xp6(1),l.uIk("colspan",D.fusionOptions.length),l.xp6(1),l.hij(" ",D.langEn?"DLC marked as excluded in fusion settings, results may be inaccurate!":"DLC\u306a\u3057"," ")}}function S(E,d){if(1&E&&(l.TgZ(0,"tr")(1,"th",6),l.Hsn(2),l.qZA()()),2&E){const D=l.oxw();l.xp6(1),l.uIk("colspan",D.fusionOptions.length)}}const U=["*"];let I=(()=>{var E;class d{constructor(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.langEn=!0,this.fusionOptions=d.NORMAL_FUSIONS_EN}ngOnInit(){this.fusionOptions=this.hasTripleFusion?d.TRIPLE_FUSIONS:this.langEn?d.NORMAL_FUSIONS_EN:d.NORMAL_FUSIONS_JA}ngOnChanges(){setTimeout(()=>this.stickyTable.nextEdges())}}return(E=d).NORMAL_FUSIONS_EN=[{title:"Reverse Fusions",link:"fissions"},{title:"Forward Fusions",link:"fusions"}],E.NORMAL_FUSIONS_JA=[{title:"\u9006\u5f15\u304d\u5408\u4f53",link:"fissions"},{title:"2\u4f53\u5408\u4f53",link:"fusions"}],E.TRIPLE_FUSIONS=[{title:"Normal Reverse Fusions",link:"fissions"},{title:"Triple Reverse Fusions",link:"fissions/triple"},{title:"Triple Forward Fusions",link:"fusions/triple"},{title:"Normal Forward Fusions",link:"fusions"}],E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=l.Xpm({type:E,selectors:[["app-smt-fusions"]],viewQuery:function(a,n){if(1&a&&l.Gf(e.v,5),2&a){let p;l.iGM(p=l.CRH())&&(n.stickyTable=p.first)}},inputs:{hasTripleFusion:"hasTripleFusion",showFusionAlert:"showFusionAlert",excludedDlc:"excludedDlc",langEn:"langEn"},features:[l._Bn([t.L]),l.TTD],ngContentSelectors:U,decls:11,vars:3,consts:[["appPositionSticky","",1,"list-table"],["stickyTable",""],["class","nav","routerLinkActive","active",3,"routerLink","width","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],[1,"title"]],template:function(a,n){1&a&&(l.F$t(),l.TgZ(0,"div")(1,"table",0,1)(3,"thead")(4,"tr"),l.YNc(5,y,3,7,"th",2),l.qZA(),l.YNc(6,O,3,2,"tr",3),l._UZ(7,"tr"),l.YNc(8,S,3,1,"tr",3),l._UZ(9,"tr"),l.qZA()(),l._UZ(10,"router-outlet"),l.qZA()),2&a&&(l.xp6(5),l.Q6J("ngForOf",n.fusionOptions),l.xp6(1),l.Q6J("ngIf",n.excludedDlc),l.xp6(2),l.Q6J("ngIf",n.showFusionAlert))},dependencies:[b.sg,b.O5,F.lC,F.rH,F.Od,e.v],encapsulation:2,changeDetection:0}),d})()},3186:(J,L,m)=>{m.d(L,{f:()=>e});var t=m(4769);let e=(()=>{var l;class b{constructor(C,y){this.changeDetector2=C,this.fusionDataService2=y,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService2.compendium.subscribe(C=>{this.changeDetector2.markForCheck(),this.compendium=C,this._dlcDemons=Object.assign({},this.compendium.dlcDemons),this.dlcDemons=Object.entries(this._dlcDemons).map(([y,O])=>({name:y,included:O}))}))}ngOnDestroy(){for(const C of this.subscriptions)C.unsubscribe()}toggleName(C){this._dlcDemons[C]=!this._dlcDemons[C],this.fusionDataService2.nextDlcDemons(this._dlcDemons)}}return(l=b).\u0275fac=function(C){t.$Z()},l.\u0275dir=t.lG2({type:l}),b})()},1135:(J,L,m)=>{m.d(L,{V:()=>ie});var t=m(4487),e=m(4769),l=m(329),b=m(6814),F=m(5390);let C=(()=>{var s;class _{constructor(o){this.appCssClasses=["smt4","smt4f"],this.appCssClasses=o.compConfig.appCssClasses,this.langEn="ja"!==o.compConfig.lang,this.otherLinks=[{title:this.langEn?"Recipe Generator":"\u5408\u4f53\u30ec\u30b7\u30d4",link:"recipes"}]}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(l.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-smt4f-compendium"]],decls:1,vars:2,consts:[[3,"ngClass","otherLinks"]],template:function(o,c){1&o&&e._UZ(0,"app-demon-compendium",0),2&o&&e.Q6J("ngClass",c.appCssClasses)("otherLinks",c.otherLinks)},dependencies:[b.mk,F.e],styles:[".smt4 div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.smt4 div.element-icon.phy{background-image:url(/assets/images/smtsj/phy.png)}.smt4 div.element-icon.gun{background-image:url(/assets/images/smt4f/gun.png)}.smt4 div.element-icon.fir{background-image:url(/assets/images/smtsj/fir.png)}.smt4 div.element-icon.ice{background-image:url(/assets/images/smtsj/ice.png)}.smt4 div.element-icon.ele{background-image:url(/assets/images/smtsj/ele.png)}.smt4 div.element-icon.for{background-image:url(/assets/images/smt4f/force.png)}.smt4 div.element-icon.lig{background-image:url(/assets/images/smtsj/exp.png)}.smt4 div.element-icon.dar{background-image:url(/assets/images/smtsj/cur.png)}.smt4 div.element-icon.ail{background-image:url(/assets/images/smtsj/ail.png)}.smt4 div.element-icon.rec{background-image:url(/assets/images/smtsj/rec.png)}.smt4 div.element-icon.alm{background-image:url(/assets/images/smtsj/alm.png)}.smt4 div.element-icon.sup{background-image:url(/assets/images/smtsj/sup.png)}.smt4 div.element-icon.pas{background-image:url(/assets/images/smtsj/pas.png)}.smt4 div.element-icon.oth{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.spe{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.sab{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.com{background-image:url(/assets/images/smtsj/sup.png)}.smt4 td.affinity-9,.smt4 td.affinity-8{color:red}.smt4 td.affinity-7{color:#ff4500}.smt4 td.affinity-6{color:tomato}.smt4 td.affinity-5{color:coral}.smt4 td.affinity-4{color:#ff8c00}.smt4 td.affinity-3{color:orange}.smt4 td.affinity-2{color:#ffa07a}.smt4 td.affinity-1{color:gold}.smt4 td.affinity0{color:transparent}.smt4 td.affinity1{color:#7cfc00}.smt4 td.affinity2{color:#0f0}.smt4 td.affinity3{color:#00ff7f}.smt4 td.affinity4{color:#00fa9a}.smt4 td.affinity5{color:#32cd32}.smt4 td.affinity6{color:#3cb371}.smt4 td.affinity7{color:#2e8b57}.smt4 td.affinity8,.smt4 td.affinity9{color:#228b22}.smt4f th.title,.smt4f th.nav.active,.smt4f th.nav.active a{background-color:#fff;color:#000}.smt5 th.title,.smt5 th.nav.active,.smt5 th.nav.active a{background-color:#363361;color:#fff}.sh2 th.title,.sh2 th.nav.active,.sh2 th.nav.active a{background-color:#693cbe;color:#fff}\n"],encapsulation:2,changeDetection:0}),_})();var y=m(1032),O=m(6593),S=m(4101);let U=(()=>{var s;class _ extends y.l{constructor(o,c,T){super(o,c,T),this.compConfig=T.compConfig,this.langEn="ja"!==this.compConfig.lang,this.appName=(this.langEn?"List of Demons - ":"\u60aa\u9b54\u4e00\u89a7 ")+T.appName,this.defaultSortFun=(A,N)=>200*(this.compConfig.raceOrder[A.race]-this.compConfig.raceOrder[N.race])+N.lvl-A.lvl}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(O.Dx),e.Y36(e.sBO),e.Y36(l.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-demon-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"langEn","raceOrder","statHeaders","resistHeaders","affinityHeaders","rowData"]],template:function(o,c){1&o&&(e._UZ(0,"app-smt-demon-list",0),e.ALo(1,"async")),2&o&&e.Q6J("langEn",c.langEn)("raceOrder",c.compConfig.raceOrder)("statHeaders",c.compConfig.baseStats)("resistHeaders",c.compConfig.resistElems)("affinityHeaders",c.compConfig.affinityElems)("rowData",e.lcZ(1,6,c.demons))},dependencies:[S.Q,b.Ov],encapsulation:2,changeDetection:0}),_})();var I=m(4330),E=m(3934);let d=(()=>{var s;class _ extends I.e{constructor(o,c,T){super(o,c,T),this.appName=`List of Skills - ${T.appName}`,this.compConfig=T.compConfig,this.langEn="ja"!==this.compConfig.lang,this.appName=(this.langEn?"List of Skills - ":" \u30b9\u30ad\u30eb\u4e00\u89a7 ")+T.appName,this.compConfig=T.compConfig,this.defaultSortFun=(A,N)=>1e4*(this.compConfig.elemOrder[A.element]-this.compConfig.elemOrder[N.element])+A.rank-N.rank}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(O.Dx),e.Y36(e.sBO),e.Y36(l.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-skill-list-container"]],features:[e.qOj],decls:2,vars:6,consts:[[3,"langEn","elemOrder","hasTarget","rowData"]],template:function(o,c){1&o&&(e._UZ(0,"app-smt-skill-list",0),e.ALo(1,"async")),2&o&&e.Q6J("langEn",c.langEn)("elemOrder",c.compConfig.elemOrder)("hasTarget",!0)("rowData",e.lcZ(1,4,c.skills))},dependencies:[E.J,b.Ov],encapsulation:2,changeDetection:0}),_})();var D=m(3186),a=m(3687);let n=(()=>{var s;class _ extends D.f{constructor(o,c){super(o,c),this.changeDetector=o,this.fusionDataService=c,this.langEn=!0,this.appTitle=c.appName,this.langEn="ja"!==c.compConfig.lang}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(e.sBO),e.Y36(l.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-demon-dlc-settings-container"]],features:[e.qOj],decls:1,vars:4,consts:[[3,"langEn","dlcDemons","appTitle","dlcTitle","toggledName"]],template:function(o,c){1&o&&(e.TgZ(0,"app-demon-dlc-settings",0),e.NdJ("toggledName",function(A){return c.toggleName(A)}),e.qZA()),2&o&&e.Q6J("langEn",c.langEn)("dlcDemons",c.dlcDemons)("appTitle",c.appTitle)("dlcTitle",c.langEn?"Included DLC Demons":"DLC")},dependencies:[a.d],encapsulation:2,changeDetection:0}),_})();var p=m(7880),r=m(8520),g=m(1009),u=m(9012),v=m(4537),k=m(4069),x=m(2173),R=m(8711);function j(s,_){if(1&s&&e._UZ(0,"app-demon-inherits",10),2&s){const i=e.oxw(2);e.Q6J("langEn",i.langEn)("hasLvls",!0)("inheritHeaders",i.compConfig.affinityElems)("inherits",i.demon.affinities)}}function Q(s,_){1&s&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Elem"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Name"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Cost"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Effect"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Target"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Rank"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Level"),e.qZA()())}function h(s,_){1&s&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"\u5c5e\u6027"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"\u30b9\u30ad\u30eb\u540d"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"\u6d88\u8cbb"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"\u8aac\u660e"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"\u7bc4\u56f2"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"\u30e9\u30f3\u30af"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Lvl"),e.qZA()())}const f=function(s){return{unique:s}};function Z(s,_){if(1&s&&(e.TgZ(0,"tr",11)(1,"td")(2,"div"),e._uU(3),e.qZA()(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"skillCostToString"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.ALo(17,"skillLevelToString"),e.qZA()()),2&s){const i=_.$implicit;e.Q6J("ngClass",e.VKq(19,f,i.skill.rank>90)),e.xp6(2),e.Gre("element-icon ",i.skill.element,""),e.xp6(1),e.Oqu(i.skill.element),e.xp6(2),e.Oqu(i.skill.name+(i.lvl?" +"+i.lvl:"")),e.xp6(1),e.Udp("color",i.cost?null:"transparent"),e.xp6(1),e.Oqu(e.lcZ(8,15,i.cost)),e.xp6(3),e.Oqu(i.skill.effect+(i.upgrade?" (+"+i.upgrade+"%)":"")),e.xp6(2),e.Oqu(i.skill.target||"Self"),e.xp6(1),e.Udp("color",99!==i.skill.rank?null:"transparent"),e.xp6(1),e.Oqu(i.skill.rank),e.xp6(2),e.Oqu(e.lcZ(17,17,i.skill.level))}}function B(s,_){if(1&s&&(e.TgZ(0,"tr")(1,"td",12),e._uU(2),e.qZA()()),2&s){const i=e.oxw(2);e.xp6(2),e.Oqu(i.langEn?"No Learned Skills Found":"\u30b9\u30ad\u30eb\u306a\u3057")}}const M=function(s){return[s]};function P(s,_){if(1&s&&e._UZ(0,"app-fusion-entry-table",13),2&s){const i=e.oxw(2);e.Q6J("title",i.langEn?"Evolves From":"\u5909\u7570\u304b\u3089")("langEn",i.langEn)("baseUrl","..")("rowData",e.VKq(4,M,i.demon.evolvesFrom))}}function H(s,_){if(1&s&&e._UZ(0,"app-fusion-entry-table",13),2&s){const i=e.oxw(2);e.Q6J("title",i.langEn?"Evolves To":"\u5909\u7570")("langEn",i.langEn)("baseUrl","..")("rowData",e.VKq(4,M,i.demon.evolvesTo))}}function q(s,_){if(1&s&&(e.ynx(0),e._UZ(1,"app-demon-stats",2)(2,"app-demon-resists",3),e.YNc(3,j,1,4,"app-demon-inherits",4),e.TgZ(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),e._uU(8),e.qZA()(),e.YNc(9,Q,15,0,"tr",0),e.YNc(10,h,15,0,"tr",0),e.qZA(),e.TgZ(11,"tbody"),e.YNc(12,Z,18,21,"tr",7),e.YNc(13,B,3,1,"tr",0),e._UZ(14,"tr"),e.qZA()(),e.YNc(15,P,1,6,"app-fusion-entry-table",8),e.YNc(16,H,1,6,"app-fusion-entry-table",8),e._UZ(17,"app-smt-fusions",9),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("langEn",i.langEn)("title","Lvl "+i.demon.lvl+" "+i.demon.race+" "+i.demon.name)("price",i.demon.price)("statHeaders",i.compConfig.baseStats)("stats",i.demon.stats),e.xp6(1),e.Q6J("langEn",i.langEn)("resistHeaders",i.compConfig.resistElems)("resists",i.demon.resists)("ailmentHeaders",i.compConfig.ailmentElems)("ailments",i.demon.ailments),e.xp6(1),e.Q6J("ngIf",i.demon.affinities),e.xp6(5),e.Oqu(i.langEn?"Learned Skills":"\u7fd2\u5f97\u30b9\u30ad\u30eb"),e.xp6(1),e.Q6J("ngIf",i.langEn),e.xp6(1),e.Q6J("ngIf",!i.langEn),e.xp6(2),e.Q6J("ngForOf",i.skillLvls),e.xp6(1),e.Q6J("ngIf",!i.skillLvls.length),e.xp6(2),e.Q6J("ngIf",i.demon.evolvesFrom),e.xp6(1),e.Q6J("ngIf",i.demon.evolvesTo),e.xp6(1),e.Q6J("langEn",i.langEn)("excludedDlc","excluded"===i.demon.fusion)}}function w(s,_){if(1&s&&e._UZ(0,"app-demon-missing",14),2&s){const i=e.oxw();e.Q6J("name",i.name)}}let K=(()=>{var s;class _{constructor(){this.langEn=!0,this.skillLvls=[]}ngOnChanges(){if(this.demon){this.skillLvls=[];for(const o of Object.keys(this.demon.skills)){const c=this.compendium.getSkill(o);let T=0,A=c.cost,N=0;if(this.demon.affinities&&A<2e3){const Y=this.compConfig.affinityElems.indexOf(c.element);T=Y>-1?this.demon.affinities[Y]:0,N=T>0?this.compConfig.affinityBonuses.upgrades[Y][T-1]:0,T>0&&A>0&&(A=1e3+Math.floor((100-this.compConfig.affinityBonuses.costs[Y][T-1])/100*(c.cost-1e3)))}this.skillLvls.push({skill:c,cost:A,lvl:T,upgrade:N})}for(const o of this.skillLvls)o.skill.level=this.demon.skills[o.skill.name];this.skillLvls.sort((o,c)=>20*(o.skill.level-c.skill.level)+this.compConfig.elemOrder[o.skill.element]-this.compConfig.elemOrder[c.skill.element])}}}return(s=_).\u0275fac=function(o){return new(o||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compConfig:"compConfig",compendium:"compendium",langEn:"langEn"},features:[e.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"langEn","title","price","statHeaders","stats"],[3,"langEn","resistHeaders","resists","ailmentHeaders","ailments"],[3,"langEn","hasLvls","inheritHeaders","inherits",4,"ngIf"],[1,"entry-table"],["colSpan","7",1,"title"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"title","langEn","baseUrl","rowData",4,"ngIf"],[3,"langEn","excludedDlc"],[3,"langEn","hasLvls","inheritHeaders","inherits"],[3,"ngClass"],["colSpan","7"],[3,"title","langEn","baseUrl","rowData"],[3,"name"]],template:function(o,c){1&o&&(e.YNc(0,q,18,20,"ng-container",0),e.YNc(1,w,1,1,"app-demon-missing",1)),2&o&&(e.Q6J("ngIf",c.demon),e.xp6(1),e.Q6J("ngIf",!c.demon))},dependencies:[b.mk,b.sg,b.O5,p.t,r.O,g.I,u.N,v.P,k.O,x.tq,x.Lu],encapsulation:2,changeDetection:0}),_})(),G=(()=>{var s;class _{constructor(o,c,T,A){this.route=o,this.title=c,this.currentDemonService=T,this.fusionDataService=A,this.subscriptions=[],this.appName="Test App",this.appName=A.appName,this.compConfig=A.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(o=>{this.compendium=o,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(o=>{this.name=o,this.getDemonEntry()})),this.route.params.subscribe(o=>{this.currentDemonService.nextCurrentDemon(o.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(this.name+("ja"!==this.compConfig.lang?" - ":" ")+this.appName),this.demon=this.compendium.getDemon(this.name))}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(t.gz),e.Y36(O.Dx),e.Y36(R.s),e.Y36(l.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-demon-entry-container"]],decls:1,vars:5,consts:[[3,"langEn","name","demon","compConfig","compendium"]],template:function(o,c){1&o&&e._UZ(0,"app-demon-entry",0),2&o&&e.Q6J("langEn","ja"!==c.compConfig.lang)("name",c.name)("demon",c.demon)("compConfig",c.compConfig)("compendium",c.compendium)},dependencies:[K],encapsulation:2,changeDetection:0}),_})();var W=m(8615);function $(s,_){if(1&s&&e._UZ(0,"app-fusion-chart",2),2&s){const i=e.oxw();e.Q6J("langEn",i.langEn)("normChart",i.normChart)("tripChart",i.normChart)("normTitle",i.langEn?"Light and Neutral Normal Fusions":"LIGHT\u5408\u4f53")("tripTitle",i.langEn?"Dark Normal Fusions":"DARK\u5408\u4f53")}}function X(s,_){if(1&s&&e._UZ(0,"app-fusion-chart",3),2&s){const i=e.oxw();e.Q6J("langEn",i.langEn)("filterDarks",!1)("normChart",i.normChart)}}let V=(()=>{var s;class _{constructor(o,c){this.changeDetectorRef=o,this.fusionDataService=c,this.subscriptions=[]}ngOnInit(){this.langEn="ja"!==this.fusionDataService.compConfig.lang,this.hasLightDark=!this.fusionDataService.compConfig.appCssClasses.includes("sh2"),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(o=>{this.changeDetectorRef.markForCheck(),this.normChart=o}))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(e.sBO),e.Y36(l.Y))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-fusion-chart-container"]],decls:2,vars:2,consts:[[3,"langEn","normChart","tripChart","normTitle","tripTitle",4,"ngIf"],[3,"langEn","filterDarks","normChart",4,"ngIf"],[3,"langEn","normChart","tripChart","normTitle","tripTitle"],[3,"langEn","filterDarks","normChart"]],template:function(o,c){1&o&&(e.YNc(0,$,1,5,"app-fusion-chart",0),e.YNc(1,X,1,3,"app-fusion-chart",1)),2&o&&(e.Q6J("ngIf",c.hasLightDark),e.xp6(1),e.Q6J("ngIf",!c.hasLightDark))},dependencies:[b.O5,W.R],encapsulation:2,changeDetection:0}),_})();var z=m(4436);let ee=(()=>{var s;class _{constructor(o,c){this.fusionDataService=o,this.title=c,this.subscriptions=[],this.maxSkills=8,this.langEn=!0;const T=this.fusionDataService.compConfig,A=T.appCssClasses.includes("sh2");this.langEn="en"===T.lang,this.maxSkills=A?6:8,this.recipeConfig={fissionCalculator:this.fusionDataService.fissionCalculator,fusionCalculator:this.fusionDataService.fusionCalculator,races:T.races,skillElems:T.skillElems,inheritElems:T.affinityElems,restrictInherits:A,triExclusiveRaces:[],triFissionCalculator:null,triFusionCalculator:null,defaultDemon:T.defaultRecipeDemon}}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`Recipe Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(o=>{this.compendium=o})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(o=>{this.squareChart={normalChart:o,tripleChart:o,raceOrder:this.fusionDataService.compConfig.raceOrder}}))}unsubscribeAll(){for(const o of this.subscriptions)o.unsubscribe()}}return(s=_).\u0275fac=function(o){return new(o||s)(e.Y36(l.Y),e.Y36(O.Dx))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-recipe-generator-container"]],decls:1,vars:5,consts:[[3,"maxSkills","compendium","squareChart","recipeConfig","langEn"]],template:function(o,c){1&o&&e._UZ(0,"app-recipe-generator",0),2&o&&e.Q6J("maxSkills",c.maxSkills)("compendium",c.compendium)("squareChart",c.squareChart)("recipeConfig",c.recipeConfig)("langEn",c.langEn)},dependencies:[z.X],encapsulation:2,changeDetection:0}),_})();var te=m(5657),ne=m(4689);const se=[{path:"",redirectTo:"demons",pathMatch:"full"},{path:"",component:C,data:{fusionTool:"chart"},children:[{path:"chart",component:V}]},{path:"",component:C,children:[{path:"demons/:demonName",component:G,children:[{path:"fissions",component:te.t},{path:"fusions",component:ne.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"demons",component:U},{path:"skills",component:d},{path:"recipes",component:ee},{path:"settings",component:n}]},{path:"**",redirectTo:"demons",pathMatch:"full"}];let ie=(()=>{var s;class _{}return(s=_).\u0275fac=function(o){return new(o||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[t.Bz.forChild(se),t.Bz]}),_})()},329:(J,L,m)=>{m.d(L,{Y:()=>D});var t=m(5619);function l(a,n){const p={};for(const[r,g]of Object.entries(a)){const u=Object.assign({},g),v={};for(const[k,x]of Object.entries(g.skills))v[n[k]||k]=x;u.race=n[u.race]||u.race,u.skills=v,p[n[r]||r]=u}return p}function b(a,n){const p={};for(const[r,g]of Object.entries(a)){const u=Object.assign({},g),v=u.target||"Self";u.target=n[v]||v,p[n[r]||r]=u}return p}function F(a,n){const p={};for(const[r,g]of Object.entries(a))p[n[r]||r]=g.map(u=>n[u]||u);return p}function C(a,n){const p={};for(const[r,g]of Object.entries(a))p[n[r]||r]={lvl:g.lvl,result:n[g.result]||g.result};return p}function y(a,n){const p={races:a.races.map(r=>n[r]||r),table:a.table.map(r=>r.map(g=>n[g]||g))};return a.elems&&(p.elems=a.elems.map(r=>n[r]||r),p.table=a.table),p}class O{constructor(n){this.compConfig=n,this._dlcDemons={Cleopatra:!1,Mephisto:!1},this.initImportedData(),this.updateDerivedData()}initImportedData(){const n={},p={},r={},g={},u={},v=Array(this.compConfig.ailmentElems.length).fill(100),k={1125:[],50:[],0:[]},x="ja"!==this.compConfig.lang,R=x?"Innate resistance":"",j=x?"Self":"\u81ea\u8eab",Q=x?{1125:"Weak ",50:"Resist ",0:"Null "}:{1125:"\u5f31",50:"\u5f37",0:"\u7121"};for(const[h,f]of Object.entries(Q))for(const Z of this.compConfig.ailmentElems)k[h].push({name:f+Z,element:"pas",effect:R,target:j,cost:0,rank:99,learnedBy:[],level:0});for(const[h,f]of Object.entries(this.compConfig.demonData))n[h]={name:h,race:f.race,lvl:f.lvl,currLvl:f.currLvl||f.lvl,skills:f.skills,price:2*f.price,inherits:parseInt((f.affinities||[-9]).map(Z=>Z<=-9?"0":"1").join(""),2),stats:f.stats,resists:f.resists.split("").map(Z=>this.compConfig.resistCodes[Z]),affinities:f.affinities,ailments:f.ailments?f.ailments.split("").map(Z=>this.compConfig.resistCodes[Z]):v,fusion:f.fusion||"normal",prereq:f.prereq||""};for(const[h,f]of Object.entries(this.compConfig.skillData))p[h]={name:h,element:f.element,rank:f.rank,effect:f.effect,damage:f.damage||"",target:f.target||"Self",hits:f.hits||"",cost:f.cost||0,learnedBy:[],level:0},p[h].rank||(p[h].rank=99);for(const h of Object.values(k))for(const f of h)p[f.name]=f;for(const[h,f]of Object.entries(this.compConfig.specialRecipes)){const Z=[],B=[];for(const M of f)if(M.includes(" x")){const[P,H]=M.split(" x ");B.push({name1:P,name2:H})}else Z.push(M);Z.length>0&&(r[h]=Z),B.length>0&&(g[h]=B),"normal"===n[h].fusion&&(n[h].fusion="special")}for(const[h,f]of Object.entries(this.compConfig.evolveData)){const Z=f.result;n[h].evolvesTo={price:n[Z].price,race1:n[Z].race,lvl1:f.lvl,name1:Z},n[Z].evolvesFrom={price:n[h].price,race1:n[h].race,lvl1:f.lvl,name1:h}}for(const h of this.compConfig.races)u[h]={};for(const[h,f]of Object.entries(n))u[f.race][f.lvl]=h;for(const h of Object.values(n).sort((f,Z)=>f.currLvl-Z.currLvl))if("enemy"!==h.fusion){for(const f of Object.keys(h.skills))p[f].learnedBy.push({demon:h.name,level:h.skills[f]});for(let f=0;f<h.ailments.length;f++)k[h.ailments[f]]&&k[h.ailments[f]][f].learnedBy.push({demon:h.name,level:0})}this._dlcDemons=this.compConfig.dlcDemons.reduce((h,f)=>(h[f]=!1,h),{}),this.demons=n,this.skills=p,this.specialRecipes=r,this.specialPairRecipes=g,this.invertedDemons=u}updateDerivedData(){const n=Object.assign({},this.demons),p=Object.keys(this.skills).map(u=>this.skills[u]),r={},g={};for(const u of this.compConfig.races)r[u]=[],g[u]=[];for(const[u,v]of Object.entries(this.demons))!this.isElementDemon(u)&&!this.isOverlappingResult(u)&&r[v.race].push(v.lvl),this.specialRecipes.hasOwnProperty(u)||g[v.race].push(v.lvl);for(const u of this.compConfig.races)r[u].sort((v,k)=>v-k),g[u].sort((v,k)=>v-k);for(const u of this.compConfig.races){const v=r[u],k=g[u],x=v.length,R=k.length;x&&R&&v[x-1]!==k[R-1]&&k.push(100)}for(const[u,v]of Object.entries(this._dlcDemons))for(const k of u.split(","))if(this.demons[k]){if(!v){const{race:x,lvl:R}=this.demons[k];delete n[k],r[x]=r[x].filter(j=>j!==R),g[x]=g[x].filter(j=>j!==R)}this.demons[k].fusion=v?"special":"excluded"}this._allDemons=Object.keys(n).map(u=>n[u]),this._allSkills=p.filter(u=>u.rank<99||u.learnedBy.length>0),this.allIngredients=r,this.allResults=g}get dlcDemons(){return this._dlcDemons}set dlcDemons(n){this._dlcDemons=n,this.updateDerivedData()}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(n=>this.demons[n])}getDemon(n){return this.demons[n]}getSkill(n){return this.skills[n]}getSkills(n){const p=this.compConfig.elemOrder,r=n.map(g=>this.skills[g]);return r.sort((g,u)=>1e4*(p[g.element]-p[u.element])+g.rank-u.rank),r}getIngredientDemonLvls(n){return this.allIngredients[n]||[]}getResultDemonLvls(n){return this.allResults[n]||[]}getSpecialNameEntries(n){return this.specialRecipes[n]||[]}getSpecialNamePairs(n){return this.specialPairRecipes[n]||[]}reverseLookupDemon(n,p){return this.invertedDemons[n][p]}reverseLookupSpecial(n){return[]}isElementDemon(n){return"Element"===this.demons[n].race}isOverlappingResult(n){return!1}}var S=m(6262);let U=(()=>{var a;class n extends S.g{constructor(r){super(),this.initCharts(r)}initCharts(r){const g=r.normalTable.races,u=r.normalTable.table,v=r.elementTable.elems,k=r.elementTable.races,x=r.elementTable.table;this.lvlModifier=r.lvlModifier,this.elementDemons=v,this.fusionChart=S.g.loadFusionTableJson(g,u),this.fissionChart=S.g.loadFissionTableJson(g,v,u),this.elementChart=S.g.loadElementTableJson(k,v,x),this.races=g}getLightDark(r){return-1!==n.LIGHT_RACES.indexOf(r)?1:-1!==n.DARK_RACES.indexOf(r)?-1:0}}return(a=n).LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Entity","Wargod","Amatsu","Kunitsu","Godly","Chaos","\u5927\u5929\u4f7f","\u5973\u795e","\u970a\u9ce5","\u795e\u6a39","\u9b54\u795e","\u795e\u7363","\u8056\u7363","\u5e7b\u9b54","\u7834\u58ca\u795e","\u5730\u6bcd\u795e","\u9f8d\u795e","\u9b3c\u795e","\u79d8\u795e","\u5a01\u970a","\u8ecd\u795e","\u5929\u6d25\u795e","\u56fd\u6d25\u795e","\u795e\u970a","\u6df7\u6c8c\u738b"],a.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot","\u90aa\u795e","\u51f6\u9ce5","\u5996\u6a39","\u6b7b\u795e","\u5996\u7363","\u90aa\u9b3c","\u5e7d\u866b","\u9b54\u738b","\u90aa\u9f8d","\u60aa\u970a","\u5e7d\u9b3c","\u5e7d\u9b3c","\u72c2\u795e"],n})();var I=m(7548),E=m(4769),d=m(4487);let D=(()=>{var a;class n{constructor(r,g){this.fissionCalculator=I.uC,this.fusionCalculator=I.YP,this.compConfig=g.url.includes("/ja/")?function e(a){const n=a.engNames,p=a.races.map(r=>n[r]||r);return{appTitle:n[a.appTitle]||a.appTitle,races:p,raceOrder:a.raceOrder,appCssClasses:a.appCssClasses,lang:"ja",engNames:a.engNames,affinityElems:a.affinityElems,skillData:b(a.skillData,n),skillElems:a.skillElems,elemOrder:a.elemOrder,resistCodes:a.resistCodes,affinityBonuses:a.affinityBonuses,lvlModifier:a.lvlModifier,demonData:l(a.demonData,n),evolveData:C(a.evolveData,n),dlcDemons:a.dlcDemons.map(r=>r.split(",").map(g=>n[g]||g).join(",")),baseStats:a.baseStats.map(r=>n[r]||r),resistElems:a.resistElems,ailmentElems:a.ailmentElems.map(r=>n[r]||r),normalTable:y(a.normalTable,n),elementTable:y(a.elementTable,n),specialRecipes:F(a.specialRecipes,n),settingsKey:a.settingsKey.replace("-ja","")+"-ja",settingsVersion:a.settingsVersion,defaultRecipeDemon:n[a.defaultRecipeDemon]||a.defaultRecipeDemon}}(r):r,this.appName=this.compConfig.appTitle+("ja"!==this.compConfig.lang?" Fusion Calculator":" \u5408\u4f53\u30a2\u30d7\u30ea"),this._compendium=new O(this.compConfig),this._compendium$=new t.X(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new U(this.compConfig),this._fusionChart$=new t.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable();const u=JSON.parse(localStorage.getItem(this.compConfig.settingsKey));u&&u.version&&u.version>=this.compConfig.settingsVersion&&this.nextDlcDemons(u.dlcDemons),window.addEventListener("storage",this.onStorageUpdated.bind(this))}nextDlcDemons(r){localStorage.setItem(this.compConfig.settingsKey,JSON.stringify({version:this.compConfig.settingsVersion,dlcDemons:r})),this._compendium.dlcDemons=r,this._compendium$.next(this._compendium)}onStorageUpdated(r){r.key===this.compConfig.settingsKey&&(this._compendium.dlcDemons=JSON.parse(r.newValue).dlcDemons,this._compendium$.next(this._compendium))}}return(a=n).\u0275fac=function(r){return new(r||a)(E.LFG(I.I7),E.LFG(d.F0))},a.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac}),n})()},3495:(J,L,m)=>{m.d(L,{D:()=>C});var t=m(6814),e=m(6208),l=m(8325),b=m(1135),F=m(4769);let C=(()=>{var y;class O{static forRoot(){return{ngModule:O}}}return(y=O).\u0275fac=function(U){return new(U||y)},y.\u0275mod=F.oAB({type:y}),y.\u0275inj=F.cJS({imports:[t.ez,e.m,l.a,b.V]}),O})()}}]);