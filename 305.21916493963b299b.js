"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[305],{9012:(W,F,u)=>{u.d(F,{N:()=>p});var t=u(4769),e=u(6814),D=u(2173);function v(r,g){if(1&r&&(t.TgZ(0,"th",4),t._uU(1,"Inheritable Skills"),t.qZA()),2&r){const l=t.oxw();t.uIk("colspan",l.inheritHeaders.length)}}function Z(r,g){if(1&r&&(t.TgZ(0,"th",4),t._uU(1),t.qZA()),2&r){const l=t.oxw();t.uIk("colspan",l.inheritHeaders.length),t.xp6(1),t.hij(" ",l.langEn?"Skill Affinities":"\u30b9\u30ad\u30eb\u9069\u6b63"," ")}}function x(r,g){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const l=t.oxw().$implicit;t.xp6(1),t.Oqu(l)}}function k(r,g){if(1&r&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&r){const l=t.oxw().$implicit;t.Gre("element-icon ",l,""),t.xp6(1),t.Oqu(l)}}function y(r,g){if(1&r&&(t.TgZ(0,"th"),t.YNc(1,x,2,1,"ng-container",3),t.YNc(2,k,2,4,"div",5),t.qZA()),2&r){const l=t.oxw();t.Udp("width",100/l.inheritHeaders.length,"%"),t.xp6(1),t.Q6J("ngIf",!l.hasIcons),t.xp6(1),t.Q6J("ngIf",l.hasIcons)}}function I(r,g){if(1&r&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&r){const l=g.$implicit;t.Udp("color",l?null:"transparent"),t.xp6(1),t.hij(" ",l?"yes":"no"," ")}}function b(r,g){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,I,2,3,"td",6),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.inherits)}}function c(r,g){if(1&r&&(t.TgZ(0,"td"),t.ALo(1,"roundInheritPercent"),t._uU(2),t.qZA()),2&r){const l=g.$implicit;t.Gre("affinity",t.lcZ(1,4,100*l),""),t.xp6(2),t.hij(" ",100*l,"% ")}}function h(r,g){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,c,3,6,"td",7),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.inherits)}}function m(r,g){if(1&r&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"affinityToString"),t.qZA()),2&r){const l=g.$implicit;t.Gre("affinity",l,""),t.xp6(1),t.hij(" ",t.lcZ(2,4,l)," ")}}function d(r,g){if(1&r&&(t.TgZ(0,"tr"),t.YNc(1,m,3,6,"td",7),t.qZA()),2&r){const l=t.oxw();t.xp6(1),t.Q6J("ngForOf",l.inherits)}}let p=(()=>{var r;class g{constructor(){this.inheritHeaders=[],this.inherits=[],this.hasChance=!1,this.hasIcons=!0,this.hasLvls=!1,this.langEn=!0}}return(r=g).\u0275fac=function(_){return new(_||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-demon-inherits"]],inputs:{inheritHeaders:"inheritHeaders",inherits:"inherits",hasChance:"hasChance",hasIcons:"hasIcons",hasLvls:"hasLvls",langEn:"langEn"},decls:11,vars:6,consts:[[1,"entry-table"],["class","title",4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"title"],[3,"class",4,"ngIf"],[3,"color",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(_,T){1&_&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr"),t.YNc(3,v,2,1,"th",1),t.YNc(4,Z,2,2,"th",1),t.qZA(),t.TgZ(5,"tr"),t.YNc(6,y,3,4,"th",2),t.qZA()(),t.TgZ(7,"tbody"),t.YNc(8,b,2,1,"tr",3),t.YNc(9,h,2,1,"tr",3),t.YNc(10,d,2,1,"tr",3),t.qZA()()),2&_&&(t.xp6(3),t.Q6J("ngIf",!T.hasLvls),t.xp6(1),t.Q6J("ngIf",T.hasLvls&&T.inheritHeaders.length),t.xp6(2),t.Q6J("ngForOf",T.inheritHeaders),t.xp6(2),t.Q6J("ngIf",!T.hasLvls&&!T.hasChance),t.xp6(1),t.Q6J("ngIf",T.hasChance),t.xp6(1),t.Q6J("ngIf",T.hasLvls))},dependencies:[e.sg,e.O5,D.JZ,D.DY],encapsulation:2,changeDetection:0}),g})()},755:(W,F,u)=>{u.d(F,{n:()=>c});var t=u(4769),e=u(6814),D=u(3934);function v(h,m){1&h&&(t.TgZ(0,"th"),t._uU(1,"Target"),t.qZA())}function Z(h,m){1&h&&(t.TgZ(0,"th"),t._uU(1,"Rank"),t.qZA())}function x(h,m){1&h&&(t.TgZ(0,"th"),t._uU(1,"Inherit"),t.qZA())}function k(h,m){1&h&&(t.TgZ(0,"th"),t._uU(1,"Level"),t.qZA())}const y=function(h,m){return{extra:h,unique:m}};function I(h,m){if(1&h&&t._UZ(0,"tr",4),2&h){const d=m.$implicit,p=t.oxw();t.Q6J("hasTarget",p.hasTarget)("hasRank",p.hasRank)("hasInherit",p.hasInherit)("hasLearned",!1)("hasLvl",p.hasLvl)("data",d)("ngClass",t.WLB(7,y,d.rank>70&&d.rank<90,d.rank>90))}}function b(h,m){if(1&h&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA()()),2&h){const d=t.oxw();t.xp6(1),t.uIk("colspan",d.skillHeaderLen),t.xp6(1),t.hij("No ",d.title," Found")}}let c=(()=>{var h;class m{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.skillHeaderLen=5}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(p=>this.compendium.getSkill(p));for(const p of this.skills)p.level=this.skillLevels[p.name];this.elemOrder&&this.skills.sort((p,r)=>20*(p.level-r.level)+this.elemOrder[p.element]-this.elemOrder[r.element])}}return(h=m).\u0275fac=function(p){return new(p||h)},h.\u0275cmp=t.Xpm({type:h,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels"},features:[t.TTD],decls:22,vars:8,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","data","ngClass"]],template:function(p,r){1&p&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t._uU(4),t.qZA()(),t.TgZ(5,"tr")(6,"th"),t._uU(7,"Elem"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Name"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Cost"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Effect"),t.qZA(),t.YNc(14,v,2,0,"th",2),t.YNc(15,Z,2,0,"th",2),t.YNc(16,x,2,0,"th",2),t.YNc(17,k,2,0,"th",2),t.qZA()(),t.TgZ(18,"tbody"),t.YNc(19,I,1,10,"tr",3),t.YNc(20,b,3,2,"tr",2),t._UZ(21,"tr"),t.qZA()()),2&p&&(t.xp6(3),t.uIk("colSpan",r.skillHeaderLen),t.xp6(1),t.Oqu(r.title),t.xp6(10),t.Q6J("ngIf",r.hasTarget),t.xp6(1),t.Q6J("ngIf",r.hasRank),t.xp6(1),t.Q6J("ngIf",r.hasInherit),t.xp6(1),t.Q6J("ngIf",r.hasLvl),t.xp6(2),t.Q6J("ngForOf",r.skills),t.xp6(1),t.Q6J("ngIf",!r.skills.length))},dependencies:[e.mk,e.sg,e.O5,D.W],encapsulation:2,changeDetection:0}),m})()},8520:(W,F,u)=>{u.d(F,{O:()=>h});var t=u(4769),e=u(6814);function D(m,d){if(1&m&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&m){const p=t.oxw();t.xp6(1),t.Oqu(p.title)}}function v(m,d){if(1&m&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&m){const p=t.oxw();t.xp6(1),t.Oqu(p.langEn?"Price":"\u4fa1\u683c")}}function Z(m,d){if(1&m&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&m){const p=d.$implicit;t.xp6(1),t.Oqu(p)}}function x(m,d){1&m&&(t.TgZ(0,"th"),t._uU(1,"Inherits"),t.qZA())}function k(m,d){if(1&m&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&m){const p=d.$implicit;t.xp6(1),t.Oqu(p)}}function y(m,d){if(1&m&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&m){const p=t.oxw();t.xp6(1),t.Oqu(p.price)}}function I(m,d){if(1&m&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&m){const p=d.$implicit;t.xp6(1),t.Oqu(p)}}function b(m,d){if(1&m&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()()),2&m){const p=t.oxw();t.xp6(1),t.Gre("element-icon i",p.inherits,""),t.xp6(1),t.Oqu(p.inherits)}}const c=["*"];let h=(()=>{var m;class d{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.langEn=!0}}return(m=d).\u0275fac=function(r){return new(r||m)},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",langEn:"langEn"},ngContentSelectors:c,decls:19,vars:10,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(r,g){1&r&&(t.F$t(),t.ynx(0),t.YNc(1,D,2,1,"h2",0),t.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),t._uU(6),t.qZA()(),t.TgZ(7,"tr"),t.YNc(8,v,2,1,"th",0),t.YNc(9,Z,2,1,"th",3),t.YNc(10,x,2,0,"th",0),t.YNc(11,k,2,1,"th",3),t.qZA()(),t.TgZ(12,"tbody")(13,"tr"),t.YNc(14,y,2,1,"td",0),t.YNc(15,I,2,1,"td",3),t.YNc(16,b,3,4,"td",0),t.Hsn(17),t.qZA()()(),t.GkF(18),t.BQk()),2&r&&(t.xp6(1),t.Q6J("ngIf",g.title.includes("Lvl")),t.xp6(4),t.uIk("colSpan",g.stats.length+g.fusionHeaders.length+(g.inherits?1:0)+(g.price?1:0)),t.xp6(1),t.hij(" ",g.title.includes("Lvl")?g.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9":g.title," "),t.xp6(2),t.Q6J("ngIf",g.price),t.xp6(1),t.Q6J("ngForOf",g.statHeaders),t.xp6(1),t.Q6J("ngIf",g.inherits),t.xp6(1),t.Q6J("ngForOf",g.fusionHeaders),t.xp6(3),t.Q6J("ngIf",g.price),t.xp6(1),t.Q6J("ngForOf",g.stats),t.xp6(1),t.Q6J("ngIf",g.inherits))},dependencies:[e.sg,e.O5],encapsulation:2,changeDetection:0}),d})()},3067:(W,F,u)=>{u.d(F,{V:()=>Be});var t=u(4487),e=u(4769),D=u(4746),v=u(6814),Z=u(5390);const x=function(){return{title:"Demon List",link:"demons"}},k=function(n){return[n]};let y=(()=>{var n;class a{constructor(o){this.appCssClasses=o.compConfig.appCssClasses}}return(n=a).\u0275fac=function(o){return new(o||n)(e.Y36(D.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-p4-compendium"]],decls:1,vars:7,consts:[[3,"ngClass","mainList","hasSettings","otherLinks"]],template:function(o,i){1&o&&e._UZ(0,"app-demon-compendium",0),2&o&&e.Q6J("ngClass",i.appCssClasses)("mainList","persona")("hasSettings",!1)("otherLinks",e.VKq(5,k,e.DdM(4,x)))},dependencies:[v.mk,Z.e],styles:['.mib div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.mib div.element-icon.s1h{background-image:url(/assets/images/p1/sword1h.png)}.mib div.element-icon.sla,.mib div.element-icon.s2h{background-image:url(/assets/images/p1/sword2h.png)}.mib div.element-icon.spr{background-image:url(/assets/images/p1/spear.png)}.mib div.element-icon.axe{background-image:url(/assets/images/p1/axe.png)}.mib div.element-icon.whi{background-image:url(/assets/images/p1/whip.png)}.mib div.element-icon.thr{background-image:url(/assets/images/p1/thrown.png)}.mib div.element-icon.arr{background-image:url(/assets/images/p1/arrow.png)}.mib div.element-icon.str,.mib div.element-icon.fis{background-image:url(/assets/images/p1/strike.png)}.mib div.element-icon.hgn{background-image:url(/assets/images/p1/handgun.png)}.mib div.element-icon.agn{background-image:url(/assets/images/p1/autogun.png)}.mib div.element-icon.sgn{background-image:url(/assets/images/p1/shotgun.png)}.mib div.element-icon.gun,.mib div.element-icon.rif{background-image:url(/assets/images/p1/rifle.png)}.mib div.element-icon.hav,.mib div.element-icon.tec{background-image:url(/assets/images/p1/havoc.png)}.mib div.element-icon.rus{background-image:url(/assets/images/p1/rush.png)}.p1 div.element-icon.i14,.p2 div.element-icon.i5,.mib div.element-icon.fir{background-image:url(/assets/images/p1/fire.png)}.p1 div.element-icon.i15,.mib div.element-icon.ice{background-image:url(/assets/images/p1/ice.png)}.p2 div.element-icon.i6,.mib div.element-icon.wat{background-image:url(/assets/images/p1/water.png)}.p1 div.element-icon.i16,.p2 div.element-icon.i7,.mib div.element-icon.win{background-image:url(/assets/images/p1/wind.png)}.p1 div.element-icon.i17,.p2 div.element-icon.i8,.mib div.element-icon.ear{background-image:url(/assets/images/p1/earth.png)}.p1 div.element-icon.i18,.mib div.element-icon.ele{background-image:url(/assets/images/p1/elec.png)}.p1 div.element-icon.i19,.mib div.element-icon.nuk{background-image:url(/assets/images/p1/nuke.png)}.p1 div.element-icon.i20,.mib div.element-icon.bla{background-image:url(/assets/images/p1/blast.png)}.p1 div.element-icon.i21,.mib div.element-icon.gra{background-image:url(/assets/images/p1/gravity.png)}.p1 div.element-icon.i22,.mib div.element-icon.lig,.mib div.element-icon.exp{background-image:url(/assets/images/p1/expel.png)}.p1 div.element-icon.i23,.mib div.element-icon.mir{background-image:url(/assets/images/p1/miracle.png)}.p1 div.element-icon.i24,.mib div.element-icon.dar,.mib div.element-icon.dea{background-image:url(/assets/images/p1/death.png)}.p1 div.element-icon.i25,.mib div.element-icon.min,.mib div.element-icon.cur{background-image:url(/assets/images/p1/curse.png)}.p1 div.element-icon.i26,.mib div.element-icon.ner{background-image:url(/assets/images/p1/nerve.png)}.p1 div.element-icon.i28,.mib div.element-icon.ail,.mib div.element-icon.occ{background-image:url(/assets/images/p1/occult.png)}.p1 div.element-icon.i29,.mib div.element-icon.rec,.mib div.element-icon.ble{background-image:url(/assets/images/p1/bless.png)}.p1 div.element-icon.i30,.mib div.element-icon.sup,.mib div.element-icon.pra{background-image:url(/assets/images/p1/prayer.png)}.p1 div.element-icon.i32,.p2 div.element-icon.i17,.mib div.element-icon.spe,.mib div.element-icon.alm{background-image:url(/assets/images/p1/almighty.png)}.p1 div.target-icon{height:52px;background-size:52px;background-repeat:no-repeat;background-position:center;color:transparent}.p1 div.target-icon.a101000{background-image:url(/assets/images/p1/101000.png)}.p1 div.target-icon.a101010{background-image:url(/assets/images/p1/101010.png)}.p1 div.target-icon.a201020{background-image:url(/assets/images/p1/201020.png)}.p1 div.target-icon.a202010{background-image:url(/assets/images/p1/202010.png)}.p1 div.target-icon.a202020{background-image:url(/assets/images/p1/202020.png)}.p1 div.target-icon.a303030{background-image:url(/assets/images/p1/303030.png)}.p1 div.target-icon.a303132{background-image:url(/assets/images/p1/303132.png)}.p1 div.target-icon.a505050{background-image:url(/assets/images/p1/505050.png)}.p1 div.target-icon.a540000{background-image:url(/assets/images/p1/540000.png)}.p1 div.target-icon.a606060{background-image:url(/assets/images/p1/606060.png)}.p1 div.target-icon.a636363{background-image:url(/assets/images/p1/636363.png)}.p1 div.target-icon.a727272{background-image:url(/assets/images/p1/727272.png)}.p1 div.target-icon.a904010{background-image:url(/assets/images/p1/904010.png)}.p1 div.target-icon.a909000{background-image:url(/assets/images/p1/909000.png)}.p1 div.target-icon.a909090{background-image:url(/assets/images/p1/909090.png)}.p1 div.target-icon.a949494{background-image:url(/assets/images/p1/949494.png)}.p1-fusion-table td.sec:after,.p1 tr.fusion-color.second td.price:after{content:"\\2191"}.p1-fusion-table td.fir:after,.p1 tr.fusion-color.first td.price:after{content:"\\2192"}.p1-fusion-table td.non:after,.p1 tr.fusion-color.none td.price:after{content:"\\25cb"}.p1-fusion-table td.unf:after,.p1 tr.fusion-color.unfav td.price:after{content:"\\2193"}.p1-fusion-table td.blu,.p1 tr.fusion-color.blue td.price{color:#0ff}.p1-fusion-table td.red,.p1 tr.fusion-color.red td.price{color:tomato}.p1 td.lvl111,.p1 td.lvl115{color:red}.p1 td.lvl112,.p1 td.lvl116{color:orange}.p1 td.lvl113,.p1 td.lvl117{color:#f0f}.p1 td.lvl114,.p1 td.lvl118{color:#0ff}.p1 th.title,.p1 th.nav.active,.p1 th.nav.active a{color:#000;background-color:#a9a9a9}.p2t th.title,.p2t th.nav.active,.p2t th.nav.active a{color:#fff;background-color:#8b668b}.p2b th.title,.p2b th.nav.active,.p2b th.nav.active a{color:#fff;background-color:#b3668b}\n'],encapsulation:2,changeDetection:0}),a})();var I=u(1032),b=u(6593),c=u(4101);let h=(()=>{var n;class a extends I.l{constructor(o,i,f,C){super(o,f,C),this.showAllies=!i.snapshot.data.showEnemies,this.showEnemies=!this.showAllies,this.compConfig=C.compConfig,this.defaultSortFun=(O,L)=>200*(this.compConfig.raceOrder[O.race]-this.compConfig.raceOrder[L.race])+L.lvl-O.lvl,this.appName=`List of Personas - ${C.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Demons - ${C.appName}`,this.statHeaders=this.compConfig.enemyStats)}}return(n=a).\u0275fac=function(o){return new(o||n)(e.Y36(b.Dx),e.Y36(t.gz),e.Y36(e.sBO),e.Y36(D.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(o,i){1&o&&(e._UZ(0,"app-smt-demon-list",0),e.ALo(1,"async")),2&o&&e.Q6J("isEnemy",i.showEnemies)("raceOrder",i.compConfig.raceOrder)("statHeaders",i.statHeaders)("resistHeaders",i.resistHeaders)("inheritOrder",i.inheritOrder)("rowData",e.lcZ(1,6,i.demons))},dependencies:[c.Q,v.Ov],encapsulation:2,changeDetection:0}),a})();var m=u(7880),d=u(8520),p=u(1009),r=u(755),g=u(9012),l=u(4537),_=u(5657);function T(n){const a={};for(let s=0;s<n.length;s++)a[n[s]]=s;return a}const P=["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Strength","Hermit","Fortune","Justice","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement","World","Fool"],w=P.concat(["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul","Karma","Fiend","Meta"]).concat(["Gem"]),G=["sword1h","sword2h","spear","axe","whip","thrown","arrow","fist","handgun","autogun","shotgun","rifle","tech","rush"].concat("fire","ice","wind","earth","elec","nuke","blast","gravity","expel","miracle","bless","prayer","death","curse","nerve","occult","almighty","spec");T(w),T(G);var B=u(8212);const K={B:0,W:1e5,R:2e5},X={2:2e4,1:4e4,0:6e4,T:8e4},H={0:null,2e4:"fusion-color blue second",4e4:"fusion-color blue first",6e4:"fusion-color blue none",8e4:"fusion-color blue unfav",12e4:"fusion-color white second",14e4:"fusion-color white first",16e4:"fusion-color white none",18e4:"fusion-color white unfav",22e4:"fusion-color red second",24e4:"fusion-color red first",26e4:"fusion-color red none",28e4:"fusion-color red unfav"},U=B.MG,N=w.reduce((n,a)=>(n[a]={},n),{});for(let n=0;n<U.length;n++){const a=U[n],s=Array.from(B.O9[n]),o=Array.from(B.XW[n]);for(let i=n+1;i<U.length;i++){const f=U[i],C=K[s[i]]+X[o[i]];N[a][f]=C,N[f][a]=C}}var q=u(5057);function ee(n,a){if(1&n&&(e.TgZ(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),e._uU(4,"Special Fusion Condition"),e.qZA()()(),e.TgZ(5,"tbody")(6,"tr")(7,"td"),e._uU(8),e.qZA()()()()),2&n){const s=e.oxw();e.xp6(8),e.Oqu(s.fusionPrereq)}}function te(n,a){if(1&n&&(e.TgZ(0,"app-fusion-entry-table",5),e._uU(1,'" '),e.qZA()),2&n){const s=e.oxw();e.Q6J("title","Special Fusion Ingredients for "+s.currentDemon)("baseUrl","../../demons")("rowData",s.fusionEntries)("isFusion",!0)}}function ne(n,a){if(1&n&&e._UZ(0,"app-fusion-pair-table",6),2&n){const s=e.oxw();e.Q6J("title","Ingredient 1 x Ingredient 2 = "+s.currentDemon)("leftBaseUrl","../../demons")("rightBaseUrl","../../demons")("rowData",s.fusionPairs)}}let se=(()=>{var n;class a extends _.t{constructor(){super(...arguments),this.toFusionPair=o=>i=>function z(n,a){const s=a.getDemon(n.name1),o=a.getDemon(n.name2),i=N[s.race][o.race]||0;return{price:i+s.price+o.price,race1:s.race,lvl1:s.lvl,name1:n.name1,race2:o.race,lvl2:o.lvl,name2:n.name2,notes:H[i]}}(i,this.compendium)}}return(n=a).\u0275fac=function(){let s;return function(i){return(s||(s=e.n5z(n)))(i||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-p1-fission-table"]],features:[e.qOj],decls:3,vars:3,consts:[["class","list-table",4,"ngIf"],[3,"title","baseUrl","rowData","isFusion",4,"ngIf"],[3,"title","leftBaseUrl","rightBaseUrl","rowData",4,"ngIf"],[1,"list-table"],[1,"title"],[3,"title","baseUrl","rowData","isFusion"],[3,"title","leftBaseUrl","rightBaseUrl","rowData"]],template:function(o,i){1&o&&(e.YNc(0,ee,9,1,"table",0),e.YNc(1,te,2,4,"app-fusion-entry-table",1),e.YNc(2,ne,1,4,"app-fusion-pair-table",2)),2&o&&(e.Q6J("ngIf",i.fusionPrereq),e.xp6(1),e.Q6J("ngIf",i.fusionEntries.length),e.xp6(1),e.Q6J("ngIf",i.fusionPairs.length||!i.fusionPrereq&&!i.fusionEntries.length))},dependencies:[v.O5,l.P,q.tV],encapsulation:2,changeDetection:0}),a})();var ie=u(8711),oe=u(4689);let ae=(()=>{var n;class a extends oe.${constructor(){super(...arguments),this.toFusionPair=o=>i=>function V(n,a,s){const o=s.getDemon(n),i=s.getDemon(a.name1),f=s.getDemon(a.name2),C=N[o.race][i.race]||0;return{price:C+o.price+i.price,race1:i.race,lvl1:i.lvl,name1:a.name1,race2:f.race,lvl2:f.lvl,name2:a.name2,notes:H[C]}}(o,i,this.compendium)}}return(n=a).\u0275fac=function(){let s;return function(i){return(s||(s=e.n5z(n)))(i||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-p1-fusion-table"]],features:[e.qOj],decls:1,vars:6,consts:[[3,"title","leftHeader","rightHeader","rowData","leftBaseUrl","rightBaseUrl"]],template:function(o,i){1&o&&e._UZ(0,"app-fusion-pair-table",0),2&o&&e.Q6J("title",i.currentDemon+" x Ingredient 2 = Result")("leftHeader","Ingredient 2")("rightHeader","Result")("rowData",i.fusionPairs)("leftBaseUrl","..")("rightBaseUrl","../../personas")},dependencies:[q.tV],encapsulation:2,changeDetection:0}),a})();function re(n,a){if(1&n&&e._UZ(0,"app-demon-resists",3),2&n){const s=e.oxw();e.Q6J("resistHeaders",s.compConfig.presistElems)("resists",s.demon.presists)}}function le(n,a){1&n&&e._UZ(0,"app-p1-fusion-table")}const me=function(){return["Traits","Drops"]};let ce=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:11,vars:28,consts:[[3,"title","price","statHeaders","stats","fusionHeaders","inherits"],[3,"title","statHeaders","stats"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"title","hasLvl","hasTarget","elemOrder","compendium","skillLevels"],[4,"ngIf"]],template:function(o,i){1&o&&(e.TgZ(0,"app-demon-stats",0)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()(),e._UZ(5,"app-demon-stats",1),e.YNc(6,re,1,2,"app-demon-resists",2),e._UZ(7,"app-demon-resists",3)(8,"app-demon-skills",4)(9,"app-demon-skills",4),e.YNc(10,le,1,0,"app-p1-fusion-table",5)),2&o&&(e.Q6J("title","Lvl "+i.demon.lvl+" "+i.demon.race+" "+i.demon.name)("price",i.demon.price)("statHeaders",i.compConfig.enemyStats)("stats",i.demon.stats)("fusionHeaders",e.DdM(27,me))("inherits",i.demon.inherits),e.xp6(2),e.Oqu(i.demon.trait),e.xp6(2),e.Oqu(i.demon.drop),e.xp6(1),e.Q6J("title","Stats")("statHeaders",i.compConfig.baseStats)("stats",i.demon.atks),e.xp6(1),e.Q6J("ngIf",i.compConfig.presistElems.length),e.xp6(1),e.Q6J("resistHeaders",i.compConfig.mresistElems)("resists",i.demon.mresists),e.xp6(1),e.Q6J("title","Transferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",i.compConfig.elemOrder)("compendium",i.compendium)("skillLevels",i.demon.transfers),e.xp6(1),e.Q6J("title","Nontransferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",i.compConfig.elemOrder)("compendium",i.compendium)("skillLevels",i.demon.skills),e.xp6(1),e.Q6J("ngIf","p1"===i.compConfig.appCssClasses[0]))},dependencies:[v.O5,d.O,p.I,r.n,ae],encapsulation:2,changeDetection:0}),a})();function pe(n,a){if(1&n&&(e.TgZ(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),e._uU(4,"Special Fusion Condition"),e.qZA()()(),e.TgZ(5,"tbody")(6,"tr")(7,"td"),e._uU(8),e.qZA()()()()),2&n){const s=e.oxw(2);e.xp6(8),e.Oqu(s.demon.prereq)}}function ue(n,a){if(1&n&&e._UZ(0,"app-fusion-entry-table",12),2&n){const s=e.oxw(2);e.Q6J("title","Mutates From")("baseUrl","..")("rowData",s.mutatesFrom)}}function he(n,a){if(1&n&&e._UZ(0,"app-fusion-entry-table",12),2&n){const s=e.oxw(2);e.Q6J("title","Mutates To")("baseUrl","..")("rowData",s.mutatesTo)}}function ge(n,a){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s)}}function de(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s)}}function fe(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.YNc(3,de,2,1,"td",7),e.qZA()),2&n){const s=a.$implicit,o=a.index;e.xp6(2),e.Oqu(o+1),e.xp6(1),e.Q6J("ngForOf",s)}}function _e(n,a){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s)}}function Ce(n,a){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s)}}function ve(n,a){if(1&n&&e._UZ(0,"app-demon-resists",9),2&n){const s=e.oxw(2);e.Q6J("resistHeaders",s.compConfig.presistElems)("resists",s.demon.presists)}}function Te(n,a){1&n&&e._UZ(0,"app-p1-fission-table")}const be=function(){return["Traits","Returns"]};function De(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"app-demon-stats",2)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.YNc(6,pe,9,1,"table",3),e.YNc(7,ue,1,3,"app-fusion-entry-table",4),e.YNc(8,he,1,3,"app-fusion-entry-table",4),e.TgZ(9,"table",5)(10,"thead")(11,"tr")(12,"th",6),e._uU(13,"Stat Growths"),e.qZA()(),e.TgZ(14,"tr")(15,"th"),e._uU(16,"Rank"),e.qZA(),e.YNc(17,ge,2,1,"th",7),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,fe,4,2,"tr",7),e.qZA()(),e.TgZ(20,"table",5)(21,"thead")(22,"tr")(23,"th",6),e._uU(24,"Party Affinities"),e.qZA()(),e.TgZ(25,"tr"),e.YNc(26,_e,2,1,"th",7),e.qZA()(),e.TgZ(27,"tbody")(28,"tr"),e.YNc(29,Ce,2,1,"td",7),e.qZA()()(),e.YNc(30,ve,1,2,"app-demon-resists",8),e._UZ(31,"app-demon-resists",9)(32,"app-demon-inherits",10)(33,"app-demon-skills",11),e.YNc(34,Te,1,0,"app-p1-fission-table",0),e.BQk()),2&n){const s=e.oxw();e.xp6(1),e.Q6J("title","Lvl "+s.demon.lvl+" "+s.demon.race+" "+s.demon.name)("statHeaders",s.compConfig.baseAtks)("stats",s.demon.atks)("inherits",s.demon.inherits)("fusionHeaders",e.DdM(26,be)),e.xp6(2),e.Oqu(s.demon.trait),e.xp6(2),e.Oqu(s.demon.drop),e.xp6(1),e.Q6J("ngIf",s.demon.prereq),e.xp6(1),e.Q6J("ngIf",s.mutatesFrom.length),e.xp6(1),e.Q6J("ngIf",s.mutatesTo.length),e.xp6(4),e.uIk("colSpan",s.compConfig.baseStats.length+1),e.xp6(5),e.Q6J("ngForOf",s.compConfig.baseStats),e.xp6(2),e.Q6J("ngForOf",s.statGrowths),e.xp6(4),e.uIk("colSpan",s.compConfig.party.length),e.xp6(3),e.Q6J("ngForOf",s.compConfig.party),e.xp6(3),e.Q6J("ngForOf",s.partyAffines),e.xp6(1),e.Q6J("ngIf",s.compConfig.presistElems.length),e.xp6(1),e.Q6J("resistHeaders",s.compConfig.mresistElems)("resists",s.demon.mresists),e.xp6(1),e.Q6J("inheritHeaders",s.compConfig.inheritElems)("inherits",s.demon.affinities),e.xp6(1),e.Q6J("elemOrder",s.compConfig.elemOrder)("hasTarget",!0)("compendium",s.compendium)("skillLevels",s.demon.skills),e.xp6(1),e.Q6J("ngIf","p1"===s.compConfig.appCssClasses[0])}}function ke(n,a){if(1&n&&e._UZ(0,"app-demon-missing",13),2&n){const s=e.oxw();e.Q6J("name",s.name)}}function Oe(n,a){if(1&n&&e._UZ(0,"app-demon-entry",1),2&n){const s=e.oxw();e.Q6J("name",s.name)("demon",s.demon)("compConfig",s.compConfig)("compendium",s.compendium)}}function ye(n,a){if(1&n&&e._UZ(0,"app-enemy-entry",1),2&n){const s=e.oxw();e.Q6J("name",s.name)("demon",s.demon)("compConfig",s.compConfig)("compendium",s.compendium)}}let Ze=(()=>{var n;class a{constructor(){this.affinityLookup={0:"Great",50:"Good",100:"Norm",1150:"Bad",1200:"Worst"}}ngOnChanges(){const o=[this.demon.stats];for(const i of this.compendium.getStatGrowths(this.demon.growth))o.push(o[o.length-1].map((f,C)=>f+i[C]));this.statGrowths=o,this.partyAffines=this.demon.party.map(i=>this.affinityLookup[i]),this.mutatesTo=this.compendium.reverseLookupSpecial(this.demon.name).map(i=>this.compendium.getDemon(i)).map(i=>({price:i.atks[0],race1:i.race,lvl1:i.lvl,name1:i.name})),this.mutatesFrom=this.compendium.getSpecialNameEntries(this.demon.name).map(i=>this.compendium.getDemon(i)).map(i=>({price:i.atks[0],race1:i.race,lvl1:i.lvl,name1:i.name}))}}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},features:[e.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","statHeaders","stats","inherits","fusionHeaders"],["class","entry-table",4,"ngIf"],[3,"title","baseUrl","rowData",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"inheritHeaders","inherits"],[3,"elemOrder","hasTarget","compendium","skillLevels"],[3,"title","baseUrl","rowData"],[3,"name"]],template:function(o,i){1&o&&(e.YNc(0,De,35,27,"ng-container",0),e.YNc(1,ke,1,1,"app-demon-missing",1)),2&o&&(e.Q6J("ngIf",i.demon),e.xp6(1),e.Q6J("ngIf",!i.demon))},dependencies:[v.sg,v.O5,m.t,d.O,p.I,r.n,g.N,l.P,se],encapsulation:2,changeDetection:0}),a})(),M=(()=>{var n;class a{constructor(o,i,f,C,O){this.route=o,this.title=i,this.changeDetectorRef=f,this.currentDemonService=C,this.fusionDataService=O,this.subscriptions=[],this.appName="Test App",this.appName=O.appName,this.compConfig=O.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(o=>{this.compendium=o,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(o=>{this.name=o,this.getDemonEntry()})),this.route.params.subscribe(o=>{this.currentDemonService.nextCurrentDemon(o.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name),this.changeDetectorRef.markForCheck())}}return(n=a).\u0275fac=function(o){return new(o||n)(e.Y36(t.gz),e.Y36(b.Dx),e.Y36(e.sBO),e.Y36(ie.s),e.Y36(D.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium"]],template:function(o,i){1&o&&(e.YNc(0,Oe,1,4,"app-demon-entry",0),e.YNc(1,ye,1,4,"app-enemy-entry",0)),2&o&&(e.Q6J("ngIf",!i.demon||!i.demon.isEnemy),e.xp6(1),e.Q6J("ngIf",i.demon&&i.demon.isEnemy))},dependencies:[v.O5,Ze,ce],encapsulation:2,changeDetection:0}),a})();var Ee=u(4330),Fe=u(3934);let xe=(()=>{var n;class a extends Ee.e{constructor(o,i,f){super(o,i,f),this.compConfig=f.compConfig,this.appName=`List of Skills - ${f.appName}`,this.defaultSortFun=(C,O)=>1e4*(this.compConfig.elemOrder[C.element]-this.compConfig.elemOrder[O.element])+C.rank-O.rank}}return(n=a).\u0275fac=function(o){return new(o||n)(e.Y36(b.Dx),e.Y36(e.sBO),e.Y36(D.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-skill-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(o,i){1&o&&(e._UZ(0,"app-smt-skill-list",0),e.ALo(1,"async")),2&o&&e.Q6J("elemOrder",i.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Inherit From")("rowData",e.lcZ(1,6,i.skills))},dependencies:[Fe.J,v.Ov],encapsulation:2,changeDetection:0}),a})();function Ie(n,a){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s.slice(0,4))}}const Q=function(n){return[n]};function Se(n,a){if(1&n&&(e.TgZ(0,"td",4),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.Q6J("ngClass",e.VKq(2,Q,s.slice(0,8))),e.xp6(1),e.Oqu(s.slice(8,12))}}function We(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.YNc(3,Se,2,4,"td",3),e.TgZ(4,"th"),e._uU(5),e.qZA()()),2&n){const s=a.$implicit;e.xp6(2),e.Oqu(s[0]),e.xp6(1),e.Q6J("ngForOf",s.slice(1,s.length-1)),e.xp6(2),e.Oqu(s[s.length-1])}}function Ae(n,a){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s.slice(0,4))}}function Re(n,a){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s.slice(0,4))}}function Je(n,a){if(1&n&&(e.TgZ(0,"td",4),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.Q6J("ngClass",e.VKq(2,Q,s.slice(0,4))),e.xp6(1),e.Oqu(s.slice(4))}}function Pe(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.YNc(3,Je,2,4,"td",3),e.TgZ(4,"th"),e._uU(5),e.qZA()()),2&n){const s=a.$implicit;e.xp6(2),e.Oqu(s[0]),e.xp6(1),e.Q6J("ngForOf",s.slice(1,s.length-1)),e.xp6(2),e.Oqu(s[s.length-1])}}function Ue(n,a){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&n){const s=a.$implicit;e.xp6(1),e.Oqu(s.slice(0,4))}}let Ne=(()=>{var n;class a{ngOnChanges(){this.normChart&&this.fillFusionChart()}getColorClass(o,i){const f=this.normChart.fuseColors[o].charAt(i);return"B"===f?"blu":"R"===f?"red":"whi"}getInheritClass(o,i){const f=this.normChart.fuseInherits[o].charAt(i);return"2"===f?"sec":"1"===f?"fir":"T"===f?"unf":"0"===f?"non":"emp"}fillFusionChart(){const o="None",f=[],C=[],O=this.normChart.races,L=this.normChart.elementDemons;f.push([""].concat(O,[""]));for(let E=0;E<O.length;E++){const R=O[E],A=[O[E]];for(let S=0;S<E;S++)A.push("Empt    -");for(let S=E;S<O.length;S++){const J=this.normChart.getRaceFusion(R,O[S])||o;A.push(`${this.getColorClass(E,S)} ${this.getInheritClass(E,S)} ${J}`)}A.push(O[E]),f.push(A)}f.push([""].concat(O,[""])),this.table=f,C.push([""].concat(P,[""]));for(const E of L){const R=[E],A=this.normChart.getElemFusions(E);for(const S of P){const J=(A[S]||o).toString(),Y=J.length<2?"+"+J:J;R.push(Y.replace("+","ran").replace("-","ra-")+Y)}R.push(E),C.push(R)}C.push([""].concat(P,[""])),this.elemTable=C}}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-p1-fusion-chart"]],inputs:{normChart:"normChart",normTitle:"normTitle",elemTitle:"elemTitle"},features:[e.TTD],decls:20,vars:10,consts:[[1,"p1-fusion-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(o,i){1&o&&(e.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),e._uU(4),e.qZA()(),e.TgZ(5,"tr"),e.YNc(6,Ie,2,1,"th",2),e.qZA(),e.YNc(7,We,6,3,"tr",2),e.TgZ(8,"tr"),e.YNc(9,Ae,2,1,"th",2),e.qZA()()(),e.TgZ(10,"table",0)(11,"tbody")(12,"tr")(13,"th",1),e._uU(14),e.qZA()(),e.TgZ(15,"tr"),e.YNc(16,Re,2,1,"th",2),e.qZA(),e.YNc(17,Pe,6,3,"tr",2),e.TgZ(18,"tr"),e.YNc(19,Ue,2,1,"th",2),e.qZA()()()),2&o&&(e.xp6(3),e.uIk("colspan",i.table[0].length),e.xp6(1),e.Oqu(i.normTitle),e.xp6(2),e.Q6J("ngForOf",i.table[0]),e.xp6(1),e.Q6J("ngForOf",i.table.slice(1,i.table.length-1)),e.xp6(2),e.Q6J("ngForOf",i.table[i.table.length-1]),e.xp6(4),e.uIk("colspan",i.elemTable[0].length),e.xp6(1),e.Oqu(i.elemTitle),e.xp6(2),e.Q6J("ngForOf",i.elemTable[0]),e.xp6(1),e.Q6J("ngForOf",i.elemTable.slice(1,i.elemTable.length-1)),e.xp6(2),e.Q6J("ngForOf",i.elemTable[i.elemTable.length-1]))},dependencies:[v.mk,v.sg],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.None[_ngcontent-%COMP%], td.emp[_ngcontent-%COMP%]{color:transparent}td.Empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0}),a})();const Le=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:y,data:{fusionTool:"chart"},children:[{path:"chart",component:(()=>{var n;class a{constructor(o,i,f,C){this.title2=o,this.route=i,this.changeDetectorRef=f,this.fusionDataService=C,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(o=>{this.appName=o.appName,this.title2.setTitle(`Fusion Chart - ${o.appName} Fusion Calculator`)})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(o=>{this.changeDetectorRef.markForCheck(),this.normChart=o}))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}}return(n=a).\u0275fac=function(o){return new(o||n)(e.Y36(b.Dx),e.Y36(t.gz),e.Y36(e.sBO),e.Y36(D.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-fusion-chart-container"]],decls:1,vars:3,consts:[[3,"normChart","normTitle","elemTitle"]],template:function(o,i){1&o&&e._UZ(0,"app-p1-fusion-chart",0),2&o&&e.Q6J("normChart",i.normChart)("normTitle",i.appName+" - Normal Fusions")("elemTitle",i.appName+" - Gem Fusions")},dependencies:[Ne],encapsulation:2,changeDetection:0}),a})()}]},{path:"",component:y,children:[{path:"personas/:demonName",component:M},{path:"demons/:demonName",component:M},{path:"personas",component:h},{path:"demons",component:h,data:{showEnemies:!0}},{path:"skills",component:xe}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let Be=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[t.Bz.forChild(Le),t.Bz]}),a})()},4746:(W,F,u)=>{u.d(F,{Y:()=>I});var t=u(5619);class e{constructor(c){this.compConfig=c,this.specialNameEntries={},this.specialNamePairs={},this.invertedSpecials={},this.dlcDemons={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const{demons:c,enemies:h,skills:m}=this.compConfig,d={},p={},r={},g={};for(const[l,_]of Object.entries(this.compConfig.mutations)){r[l]=_;for(const T of _)d[T]||(d[T]=[]),d[T].push(l)}for(const[l,_]of Object.entries(this.compConfig.fusionPrereqs))c[l].prereq=_,"normal"===c[l].fusion&&(c[l].fusion="special"),p[l]=[{name1:l,name2:l}];for(const[l,_]of Object.entries(this.compConfig.specialRecipes))_.length>0?p[l]=[{name1:_[0],name2:_[1]}]:(c[l].prereq="Fusion Accident",c[l].fusion="accident");for(const l of this.compConfig.races)g[l]={};for(const l of Object.values(c).sort((_,T)=>_.lvl-T.lvl)){g[l.race][l.lvl]=l.name;for(const[_,T]of Object.entries(l.skills))m[_].learnedBy.push({demon:l.name,level:T})}for(const l of Object.values(h).sort((_,T)=>_.lvl-T.lvl)){g[l.race][l.lvl]=l.name;for(const[_,T]of Object.entries(l.transfers))m[_].transfer.push({demon:l.name,level:T})}for(const l of Object.values(m))if(""!==l.card)for(const _ of l.card.split(", "))c[_]?l.learnedBy.push({demon:_,level:5084}):h[_]&&l.transfer.push({demon:_,level:3680});this.demons=c,this.enemies=h,this.skills=m,this.specialNameEntries=d,this.specialNamePairs=p,this.invertedSpecials=r,this.invertedDemons=g}updateDerivedData(){const c=Object.keys(this.skills).map(r=>this.skills[r]),h={},m={};for(const r of this.compConfig.races)h[r]=[],m[r]=[];for(const[r,g]of Object.entries(this.demons))"normal"===this.demons[r].fusion&&m[g.race].push(g.lvl);for(const[r,g]of Object.entries(this.enemies))h[g.race].push(g.lvl);for(const r of this.compConfig.races)h[r].sort((g,l)=>g-l),m[r].sort((g,l)=>g-l);const d=Object.keys(this.demons).map(r=>this.demons[r]),p=Object.keys(this.enemies).map(r=>this.enemies[r]);this._allDemons=p.concat(d),this._allSkills=c.filter(r=>r.rank<90),this.allIngredients=h,this.allResults=m}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return this._allDemons.filter(c=>"special"===c.fusion)}getDemon(c){return this.enemies[c]||this.demons[c]}getEnemy(c){return this.enemies[c]}getSkill(c){return this.skills[c]}getSkills(c){const h=this.compConfig.elemOrder,m=c.map(d=>this.skills[d]);return m.sort((d,p)=>1e4*(h[d.element]-h[p.element])+d.rank-p.rank),m}getStatGrowths(c){return this.compConfig.growthTypes[c]||[]}getIngredientDemonLvls(c){return this.allIngredients[c]||[]}getResultDemonLvls(c){return this.allResults[c]||[]}getSpecialNameEntries(c){return this.specialNameEntries[c]||[]}getSpecialNamePairs(c){return this.specialNamePairs[c]||[]}getInheritElems(c){return c.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(h=>100*parseInt(h))}reverseLookupDemon(c,h){return this.invertedDemons[c][h]}reverseLookupSpecial(c){return this.invertedSpecials[c]||[]}isElementDemon(c){return!1}}var D=u(6262),v=u(8212);const Z=JSON.parse('{"sn":["Alexandrite","Diamond","Sapphire","Emerald","Ruby","Pearl","Tanzanite","Opal","Amethyst","Garnet","Aquamarine","Topaz","Moonstone","Malachite","Onyx","Turquoise"],"MG":["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Hermit","Justice","Sun","Judgement","World","Fool"],"Kz":[[1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0,1],[1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,0,1,0],[-2,0,-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2],[1,1,0,0,-1,1,0,1,1,1,-1,1,0,-1,1,0],[1,0,-2,2,-2,0,-1,2,0,1,1,2,-1,1,0,-1],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,1,1,0]]}');class x extends D.g{constructor(){super(),this.elementDemons=[],this.lvlModifier=2.5,this.initCharts()}initCharts(){const c=v.MG,h=v.Kz,m=Z.MG,d=Z.Kz,p=Z.sn;this.races=c,this.elementDemons=p,this.fusionChart=D.g.loadFusionTableJson(c,h),this.fissionChart=D.g.loadFissionTableJson(c,p,h),this.elementChart=D.g.loadElementTableJson(m,p,d),this.fuseColors=v.O9,this.fuseInherits=v.XW}getLightDark(c){return 0}}var k=u(7548),y=u(4769);let I=(()=>{var b;class c{constructor(m){this.fissionCalculator=k.uC,this.fusionCalculator=k.YP,this.settingsKey="p1-fusion-tool-settings",this._fusionChart=new x,this._fusionChart$=new t.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._compendium=new e(m),this._compendium$=new t.X(this._compendium),this.compendium=this._compendium$.asObservable(),this.compConfig=m,this.appName=m.appTitle+" Fusion Calculator"}nextDlcDemons(m){}}return(b=c).\u0275fac=function(m){return new(m||b)(y.LFG(k.I7))},b.\u0275prov=y.Yz7({token:b,factory:b.\u0275fac}),c})()},7305:(W,F,u)=>{u.d(F,{e:()=>x});var t=u(6814),e=u(6208),D=u(8325),v=u(3067),Z=u(4769);let x=(()=>{var k;class y{static forRoot(){return{ngModule:y}}}return(k=y).\u0275fac=function(b){return new(b||k)},k.\u0275mod=Z.oAB({type:k}),k.\u0275inj=Z.cJS({imports:[t.ez,e.m,D.a,v.V]}),y})()},8212:W=>{W.exports=JSON.parse('{"O9":["-WWRBRWWWRBWRWWBBWW",".-BWWWRBRWWRWBBWWRR","..-WWWRBRWWRWBBWWRR","...-RBWWWBRWBWWRRWW","....-RWWWRBWRWWBBWW",".....-WWWBRWBWWRRWW","......-RBWWBWRRWWBB",".......-RWWRWBBWWRR","........-WWBWRRWWBB",".........-RWBWWRRWW","..........-WRWWBBWW","...........-WRRWWBB","............-WWRRWW",".............-BWWRR","..............-WWRR","...............-BWW","................-WW",".................-B","..................-"],"XW":["-2200000011TTTT0000",".-200000011TTTT0000","..-00000011TTTT0000","...-20011000000TTT0","....-0011000000TTT0",".....-2TT0011110000","......-TT0011110000",".......-20000000000","........-0000000000",".........-20000000T","..........-0000000T","...........-2220000","............-220000",".............-20000","..............-0000","...............-221","................-21",".................-1","..................-"],"MG":["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul"],"Kz":[["-","Emperor","Magician","Lovers","Devil","Sun","Judgement","Magician","Justice","Hermit","Sun","Priestess","Star","Justice","Death","Lovers","Hanged","Magician","Emperor"],["-","Magician","Lovers","Lovers","Emperor","Emperor","Sun","Justice","Emperor","Temperance","Justice","Emperor","Lovers","Emperor","Temperance","Lovers","Lovers","Temperance"],["-","Priestess","Magician","Hermit","Moon","Hermit","Empress","Priestess","Hermit","Magician","Hierophant","Temperance","Chariot","Judgement","Hermit","Magician","Hanged"],["-","Judgement","Judgement","Devil","Magician","Sun","Priestess","Priestess","Hierophant","Fortune","World","Death","Hierophant","Hanged","Judgement","Priestess"],["-","Temperance","Moon","Judgement","World","Hermit","Tower","Moon","Devil","Empress","Temperance","Moon","Magician","Devil","Moon"],["-","Priestess","Chariot","Empress","World","Chariot","Empress","Hierophant","Hierophant","Justice","Tower","World","Sun","World"],["-","World","Chariot","Justice","Tower","Justice","Chariot","Strength","Hierophant","World","Chariot","World","Hierophant"],["-","Sun","Star","Hanged","Hermit","Empress","Empress","Justice","Justice","Lovers","Judgement","Lovers"],["-","Priestess","Emperor","Empress","Fortune","Emperor","Sun","Sun","Moon","Moon","Judgement"],["-","Chariot","Temperance","Strength","Chariot","Hierophant","Temperance","Chariot","Temperance","Magician"],["-","Sun","Fortune","Strength","Sun","Hermit","Emperor","Judgement","Tower"],["-","Empress","Priestess","Empress","Moon","Empress","Temperance","Priestess"],["-","Hierophant","Justice","Death","Moon","Hermit","Hierophant"],["-","Star","Hermit","World","Star","Strength"],["-","Sun","Chariot","World","Fortune"],["-","Death","Judgement","Moon"],["-","World","Lovers"],["-","Star"],["-"]]}')}}]);