(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[875],{4209:(t,e,s)=>{"use strict";s.d(e,{n:()=>p});var n=s(5614),i=s(1116),r=s(3787);function a(t,e){1&t&&(n.TgZ(0,"th"),n._uU(1,"Target"),n.qZA())}function o(t,e){1&t&&(n.TgZ(0,"th"),n._uU(1,"Rank"),n.qZA())}function c(t,e){1&t&&(n.TgZ(0,"th"),n._uU(1,"Inherit"),n.qZA())}function l(t,e){1&t&&(n.TgZ(0,"th"),n._uU(1,"Level"),n.qZA())}const u=function(t,e){return{extra:t,unique:e}};function m(t,e){if(1&t&&n._UZ(0,"tr",4),2&t){const t=e.$implicit,s=n.oxw();n.Q6J("hasTarget",s.hasTarget)("hasRank",s.hasRank)("hasInherit",s.hasInherit)("hasLearned",!1)("hasLvl",s.hasLvl)("data",t)("ngClass",n.WLB(7,u,t.rank>70&&t.rank<90,t.rank>90))}}function h(t,e){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.uIk("colspan",t.skillHeaderLen),n.xp6(1),n.hij("No ",t.title," Found")}}let p=(()=>{class t{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.skillHeaderLen=5}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(t=>this.compendium.getSkill(t));for(const t of this.skills)t.level=this.skillLevels[t.name];this.elemOrder&&this.skills.sort((t,e)=>20*(t.level-e.level)+this.elemOrder[t.element]-this.elemOrder[e.element])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels"},features:[n.TTD],decls:22,vars:8,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","data","ngClass"]],template:function(t,e){1&t&&(n.TgZ(0,"table",0),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th",1),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"tr"),n.TgZ(6,"th"),n._uU(7,"Elem"),n.qZA(),n.TgZ(8,"th"),n._uU(9,"Name"),n.qZA(),n.TgZ(10,"th"),n._uU(11,"Cost"),n.qZA(),n.TgZ(12,"th"),n._uU(13,"Effect"),n.qZA(),n.YNc(14,a,2,0,"th",2),n.YNc(15,o,2,0,"th",2),n.YNc(16,c,2,0,"th",2),n.YNc(17,l,2,0,"th",2),n.qZA(),n.qZA(),n.TgZ(18,"tbody"),n.YNc(19,m,1,10,"tr",3),n.YNc(20,h,3,2,"tr",2),n._UZ(21,"tr"),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.uIk("colSpan",e.skillHeaderLen),n.xp6(1),n.Oqu(e.title),n.xp6(10),n.Q6J("ngIf",e.hasTarget),n.xp6(1),n.Q6J("ngIf",e.hasRank),n.xp6(1),n.Q6J("ngIf",e.hasInherit),n.xp6(1),n.Q6J("ngIf",e.hasLvl),n.xp6(2),n.Q6J("ngForOf",e.skills),n.xp6(1),n.Q6J("ngIf",!e.skills.length))},directives:[i.O5,i.sg,r.W,i.mk],encapsulation:2,changeDetection:0}),t})()},2573:(t,e,s)=>{"use strict";s.d(e,{O:()=>g});var n=s(5614),i=s(1116);function r(t,e){if(1&t&&(n.TgZ(0,"h2"),n._uU(1),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Oqu(t.title)}}function a(t,e){1&t&&(n.TgZ(0,"th"),n._uU(1,"Price"),n.qZA())}function o(t,e){if(1&t&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.xp6(1),n.Oqu(t)}}function c(t,e){1&t&&(n.TgZ(0,"th"),n._uU(1,"Inherits"),n.qZA())}function l(t,e){if(1&t&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.xp6(1),n.Oqu(t)}}function u(t,e){if(1&t&&(n.TgZ(0,"td"),n._uU(1),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Oqu(t.price)}}function m(t,e){if(1&t&&(n.TgZ(0,"td"),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.xp6(1),n.Oqu(t)}}function h(t,e){if(1&t&&(n.TgZ(0,"td"),n.TgZ(1,"div"),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.Gre("element-icon ",t.inherit,""),n.xp6(1),n.Oqu(t.inherit)}}const p=["*"];let g=(()=>{class t{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherit:"inherit",price:"price"},ngContentSelectors:p,decls:19,vars:10,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(n.F$t(),n.ynx(0),n.YNc(1,r,2,1,"h2",0),n.TgZ(2,"table",1),n.TgZ(3,"thead"),n.TgZ(4,"tr"),n.TgZ(5,"th",2),n._uU(6),n.qZA(),n.qZA(),n.TgZ(7,"tr"),n.YNc(8,a,2,0,"th",0),n.YNc(9,o,2,1,"th",3),n.YNc(10,c,2,0,"th",0),n.YNc(11,l,2,1,"th",3),n.qZA(),n.qZA(),n.TgZ(12,"tbody"),n.TgZ(13,"tr"),n.YNc(14,u,2,1,"td",0),n.YNc(15,m,2,1,"td",3),n.YNc(16,h,3,4,"td",0),n.Hsn(17),n.qZA(),n.qZA(),n.qZA(),n.GkF(18),n.BQk()),2&t&&(n.xp6(1),n.Q6J("ngIf",e.title.includes("Lvl")),n.xp6(4),n.uIk("colSpan",e.stats.length+e.fusionHeaders.length+(e.inherit?1:0)+(e.price?1:0)),n.xp6(1),n.hij(" ",e.title.includes("Lvl")?"Stats":e.title," "),n.xp6(2),n.Q6J("ngIf",e.price),n.xp6(1),n.Q6J("ngForOf",e.statHeaders),n.xp6(1),n.Q6J("ngIf",e.inherit),n.xp6(1),n.Q6J("ngForOf",e.fusionHeaders),n.xp6(3),n.Q6J("ngIf",e.price),n.xp6(1),n.Q6J("ngForOf",e.stats),n.xp6(1),n.Q6J("ngIf",e.inherit))},directives:[i.O5,i.sg],encapsulation:2,changeDetection:0}),t})()},7967:(t,e,s)=>{"use strict";s.d(e,{R:()=>p});var n=s(5614),i=s(9624),r=s(3522),a=s(1116);function o(t,e){if(1&t&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.xp6(1),n.Oqu(t.slice(0,4))}}const c=function(t,e){return[t,e]};function l(t,e){if(1&t&&(n.TgZ(0,"td",4),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.Q6J("ngClass",n.WLB(2,c,t.slice(0,4),t.slice(4,8))),n.xp6(1),n.Oqu(t.slice(4,8))}}function u(t,e){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"th"),n._uU(2),n.qZA(),n.YNc(3,l,2,5,"td",3),n.TgZ(4,"th"),n._uU(5),n.qZA(),n.qZA()),2&t){const t=e.$implicit;n.xp6(2),n.Oqu(t[0]),n.xp6(1),n.Q6J("ngForOf",t.slice(1,t.length-1)),n.xp6(2),n.Oqu(t[t.length-1])}}function m(t,e){if(1&t&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&t){const t=e.$implicit;n.xp6(1),n.Oqu(t.slice(0,4))}}function h(t,e){if(1&t&&(n.TgZ(0,"tr"),n.TgZ(1,"th",0),n._uU(2),n.qZA(),n.qZA()),2&t){const t=n.oxw();n.xp6(1),n.uIk("colspan",t.table[0].length),n.xp6(1),n.AsE("",t.appName," - ",t.tripTitle,"")}}let p=(()=>{class t{constructor(t,e){this.title2=t,this.route=e,this.normTitle="Normal Fusions",this.tripTitle="",this.isPersona=!1,this.filterDarks=!0,this.subscriptions=[],this.table=[]}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(t=>{this.appName=t.appName||"Shin Megami Tensei",this.title2.setTitle(`Fusion Chart - ${this.appName} Fusion Calculator`)}))}ngOnChanges(){this.normChart&&this.fillFusionChart()}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}fillFusionChart(){const t="None",e=this.normChart.elementDemons;let s=[],n=this.normChart.races,i=[];this.filterDarks&&(s=this.normChart.races.filter(t=>this.normChart.getLightDark(t)>0),n=this.normChart.races.filter(t=>0===this.normChart.getLightDark(t)),i=this.normChart.races.filter(t=>-1===this.normChart.getLightDark(t)),0===i.length&&s.length>0&&(s=this.normChart.races.filter(t=>this.normChart.getLightDark(t)>-1),n=[],i=this.normChart.races.filter(t=>this.normChart.getLightDark(t)<-1)));const r=s.length-i.length,a=s.concat(n,e),o=i.length?i.concat(Array(a.length-i.length).fill("")):a,c=this.mitaTable?a:s.concat(n,Array(e.length).fill("")),l=this.mitaTable||i.length?Array(r).fill("").concat(i,n,e):a;this.table=[[""].concat(a,[""])];for(let u=0;u<l.length;u++){const s=Array(a.length+2).fill("Empt-"),n=l[u],i=c[u],m=-1!==e.indexOf(n),h=-1!==e.indexOf(i);this.table.push(s),s[0]=n,s[s.length-1]=i;for(let r=u;r<a.length;r++){const n=a[r],o=-1!==e.indexOf(n);if(o&&h){const a=e.indexOf(i),o=e.indexOf(n);s[r+1]="mita"+(this.mitaTable[a][o-a-1]||t)}else if(o&&i){const t=this.normChart.getElemFusions(n)[i],e=t?t.toString():"";s[r+1]=t?(t>0?"ran"+e+"+":"ra"+e)+e:"rankNone"}else if(n&&i){const e=this.isPersona&&n===i?n:this.normChart.getRaceFusion(n,i);s[r+1]=(n===i?"elem":"norm")+(e||t)}}if(this.tripChart)for(let e=0;e<=u-r;e++){const i=o[e];if(i&&m){const t=this.tripChart.getElemFusions(n)[i],r=t?t.toString():"";s[e+1]=t?(t>0?"ran"+r+"+":"ra"+r)+r:"rankNone"}else if(i&&n){const r=this.tripChart.getRaceFusion(i,n);s[e+1]=(i===n?"elem":"trip")+(r||t)}}if(-1!==n.indexOf(" x ")){const[t,e]=n.split(" x "),i=t.slice(0,3)+"x"+e.slice(0,3);s[0]=i,s[s.length-1]=i}else if(-1!==n.indexOf(" ")){const t=n.split(" ")[0];s[0]=t,s[s.length-1]=t}}for(let u=0;u<this.table[0].length;u++){const t=this.table[0][u];if(-1!==t.indexOf(" x ")){const[e,s]=t.split(" x ");this.table[0][u]=e.slice(0,2)+s.slice(0,2)}}this.table.push([""].concat(o,[""]))}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(i.Dx),n.Y36(r.gz))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-fusion-chart"]],inputs:{normChart:"normChart",tripChart:"tripChart",mitaTable:"mitaTable",normTitle:"normTitle",tripTitle:"tripTitle",isPersona:"isPersona",filterDarks:"filterDarks",counter:"counter"},features:[n.TTD],decls:12,vars:7,consts:[[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(t,e){1&t&&(n.TgZ(0,"table"),n.TgZ(1,"tbody"),n.TgZ(2,"tr"),n.TgZ(3,"th",0),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"tr"),n.YNc(6,o,2,1,"th",1),n.qZA(),n.YNc(7,u,6,3,"tr",1),n.TgZ(8,"tr"),n.YNc(9,m,2,1,"th",1),n.qZA(),n.YNc(10,h,3,3,"tr",2),n.qZA(),n._UZ(11,"tbody"),n.qZA()),2&t&&(n.xp6(3),n.uIk("colspan",e.table[0].length),n.xp6(1),n.AsE("",e.appName," - ",e.normTitle,""),n.xp6(2),n.Q6J("ngForOf",e.table[0]),n.xp6(1),n.Q6J("ngForOf",e.table.slice(1,e.table.length-1)),n.xp6(2),n.Q6J("ngForOf",e.table[e.table.length-1]),n.xp6(1),n.Q6J("ngIf",e.tripTitle))},directives:[a.sg,a.O5,a.mk],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.elem[_ngcontent-%COMP%]{color:#0f0}td.trip[_ngcontent-%COMP%]{color:#d3d3d3}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.None[_ngcontent-%COMP%]{color:transparent}td.Ara[_ngcontent-%COMP%], td.Fien[_ngcontent-%COMP%], td.Flae[_ngcontent-%COMP%], td.Sala[_ngcontent-%COMP%]{color:red}td.Aqua[_ngcontent-%COMP%], td.Enig[_ngcontent-%COMP%], td.Nigi[_ngcontent-%COMP%], td.Undi[_ngcontent-%COMP%]{color:#0ff}td.Aero[_ngcontent-%COMP%], td.Kusi[_ngcontent-%COMP%], td.Sylp[_ngcontent-%COMP%], td.UMA[_ngcontent-%COMP%]{color:#0f0}td.Erth[_ngcontent-%COMP%], td.Gnom[_ngcontent-%COMP%], td.Rand[_ngcontent-%COMP%], td.Saki[_ngcontent-%COMP%]{color:orange}td.Empt[_ngcontent-%COMP%]{background-color:initial;color:transparent}"],changeDetection:0}),t})()},4354:(t,e,s)=>{"use strict";s.d(e,{O:()=>p});var n=s(1501),i=s(649),r=s(5614),a=s(1116),o=s(3522);const c=function(){return{exact:!0}};function l(t,e){if(1&t&&(r.TgZ(0,"th",4),r.TgZ(1,"a",5),r._uU(2),r.qZA(),r.qZA()),2&t){const t=e.$implicit,s=r.oxw();r.Udp("width",100/s.fusionOptions.length,"%"),r.Q6J("routerLink",t.link)("routerLinkActiveOptions",r.DdM(6,c)),r.xp6(1),r.Q6J("routerLink",t.link),r.xp6(1),r.Oqu(t.title)}}function u(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th",6),r._uU(2," DLC marked as excluded in fusion settings, results may be inaccurate! "),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.uIk("colspan",t.fusionOptions.length)}}function m(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"th",6),r.Hsn(2),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.uIk("colspan",t.fusionOptions.length)}}const h=["*"];let p=(()=>{class t{constructor(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.fusionOptions=t.NORMAL_FUSIONS}ngOnInit(){this.fusionOptions=this.hasTripleFusion?t.TRIPLE_FUSIONS:t.NORMAL_FUSIONS}ngOnChanges(){setTimeout(()=>this.stickyTable.nextEdges())}}return t.NORMAL_FUSIONS=[{title:"Reverse Fusions",link:"fissions"},{title:"Forward Fusions",link:"fusions"}],t.TRIPLE_FUSIONS=[{title:"Normal Reverse Fusions",link:"fissions"},{title:"Triple Reverse Fusions",link:"fissions/triple"},{title:"Triple Forward Fusions",link:"fusions/triple"},{title:"Normal Forward Fusions",link:"fusions"}],t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-smt-fusions"]],viewQuery:function(t,e){if(1&t&&r.Gf(i.v,5),2&t){let t;r.iGM(t=r.CRH())&&(e.stickyTable=t.first)}},inputs:{hasTripleFusion:"hasTripleFusion",showFusionAlert:"showFusionAlert",excludedDlc:"excludedDlc"},features:[r._Bn([n.L]),r.TTD],ngContentSelectors:h,decls:11,vars:3,consts:[["appPositionSticky","",1,"list-table"],["stickyTable",""],["class","nav","routerLinkActive","active",3,"routerLink","width","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],[1,"title"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div"),r.TgZ(1,"table",0,1),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.YNc(5,l,3,7,"th",2),r.qZA(),r.YNc(6,u,3,1,"tr",3),r._UZ(7,"tr"),r.YNc(8,m,3,1,"tr",3),r._UZ(9,"tr"),r.qZA(),r.qZA(),r._UZ(10,"router-outlet"),r.qZA()),2&t&&(r.xp6(5),r.Q6J("ngForOf",e.fusionOptions),r.xp6(1),r.Q6J("ngIf",e.excludedDlc),r.xp6(2),r.Q6J("ngIf",e.showFusionAlert))},directives:[i.v,a.sg,a.O5,o.lC,o.Od,o.rH,o.yS],encapsulation:2,changeDetection:0}),t})()},1742:(t,e,s)=>{"use strict";s.d(e,{V:()=>I});var n=s(3522),i=s(5614),r=s(3378),a=s(7089),o=s(1116);let c=(()=>{class t{constructor(t){this.appCssClasses=t.compConfig.appCssClasses}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.Y))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-smt1-compendium"]],decls:1,vars:2,consts:[[3,"ngClass","hasSettings"]],template:function(t,e){1&t&&i._UZ(0,"app-demon-compendium",0),2&t&&i.Q6J("ngClass",e.appCssClasses)("hasSettings",!1)},directives:[a.e,o.mk],styles:[".kuzu div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:50%;color:transparent}.kuzu div.element-icon.phy{background-image:url(/assets/images/smtsj/phy.png)}.kuzu div.element-icon.gun{background-image:url(/assets/images/smtsj/gun.png)}.kuzu div.element-icon.fir{background-image:url(/assets/images/smtsj/fir.png)}.kuzu div.element-icon.ele{background-image:url(/assets/images/smtsj/ele.png)}.kuzu div.element-icon.for{background-image:url(/assets/images/smtsj/win.png)}.kuzu div.element-icon.dea{background-image:url(/assets/images/smtsj/cur.png)}.kuzu div.element-icon.min{background-image:url(/assets/images/smt4f/panic.png)}.kuzu div.element-icon.alm{background-image:url(/assets/images/smtsj/alm.png)}.kuzu div.element-icon.rec{background-image:url(/assets/images/smtsj/rec.png)}.kuzu div.element-icon.sup{background-image:url(/assets/images/smtsj/sup.png)}.kuzu div.element-icon.pas{background-image:url(/assets/images/smtsj/pas.png)}.kuzu div.element-icon.bos,.kuzu div.element-icon.inv{background-image:url(/assets/images/smtsj/spe.png)}.kuzu div.element-icon.phys{background-image:url(/assets/images/smtsj/phy.png)}.kuzu div.element-icon.fire{background-image:url(/assets/images/smtsj/fir.png)}.kuzu div.element-icon.ice{background-image:url(/assets/images/smtsj/ice.png)}.kuzu div.element-icon.elec{background-image:url(/assets/images/smtsj/ele.png)}.kuzu div.element-icon.force{background-image:url(/assets/images/smtsj/win.png)}.kuzu div.element-icon.curse{background-image:url(/assets/images/smt4f/curse.png)}.kuzu div.element-icon.strike{background-image:url(/assets/images/smtsj/phy.png)}.kuzu div.element-icon.almighty{background-image:url(/assets/images/smtsj/alm.png)}.kuzu div.element-icon.recovery{background-image:url(/assets/images/smtsj/rec.png)}.kuzu div.element-icon.support{background-image:url(/assets/images/smtsj/sup.png)}.kuzu div.element-icon.passive{background-image:url(/assets/images/smtsj/pas.png)}.kuzu div.element-icon.auto,.kuzu div.element-icon.none,.kuzu div.element-icon.racial{background-image:url(/assets/images/smtsj/spe.png)}.krch th.nav.active,.krch th.nav.active a,.krch th.title{color:#000;background-color:#856363}.krao th.nav.active,.krao th.nav.active a,.krao th.title{color:#fff;background-color:#8e283d}.mjn1 th.nav.active,.mjn1 th.nav.active a,.mjn1 th.title{color:#fff;background-color:#004381}.ds1 th.nav.active,.ds1 th.nav.active a,.ds1 th.title{color:#fff;background-color:#e83145}.ds2 th.nav.active,.ds2 th.nav.active a,.ds2 th.title{color:#fff;background-color:#0078e8}"],encapsulation:2,changeDetection:0}),t})();var l=s(5438),u=s(9624),m=s(4008);let h=(()=>{class t extends l.l{constructor(t,e,s){super(t,e,s),this.appName=`List of Demons - ${s.appName}`,this.compConfig=s.compConfig,this.defaultSortFun=(t,e)=>200*(this.compConfig.raceOrder[t.race]-this.compConfig.raceOrder[e.race])+e.lvl-t.lvl}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(u.Dx),i.Y36(i.sBO),i.Y36(r.Y))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-demon-list-container"]],features:[i.qOj],decls:2,vars:6,consts:[[3,"raceOrder","statHeaders","resistHeaders","rowData"]],template:function(t,e){1&t&&(i._UZ(0,"app-smt-demon-list",0),i.ALo(1,"async")),2&t&&i.Q6J("raceOrder",e.compConfig.raceOrder)("statHeaders",e.compConfig.baseStats)("resistHeaders",e.compConfig.resistElems)("rowData",i.lcZ(1,4,e.demons))},directives:[m.Q],pipes:[o.Ov],encapsulation:2,changeDetection:0}),t})();var p=s(9261),g=s(3787);let d=(()=>{class t extends p.e{constructor(t,e,s){super(t,e,s),this.appName=`List of Skills - ${s.appName}`,this.compConfig=s.compConfig,this.defaultSortFun=(t,e)=>1e4*(this.compConfig.elemOrder[t.element]-this.compConfig.elemOrder[e.element])+t.rank-e.rank}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(u.Dx),i.Y36(i.sBO),i.Y36(r.Y))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-skill-list-container"]],features:[i.qOj],decls:2,vars:6,consts:[[3,"elemOrder","hasRank","hasTarget","rowData"]],template:function(t,e){1&t&&(i._UZ(0,"app-smt-skill-list",0),i.ALo(1,"async")),2&t&&i.Q6J("elemOrder",e.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("rowData",i.lcZ(1,4,e.skills))},directives:[g.J],pipes:[o.Ov],encapsulation:2,changeDetection:0}),t})();var f=s(7967);let k=(()=>{class t{constructor(t){this.fusionDataService=t,this.subscriptions=[]}ngOnInit(){const t=this.fusionDataService.compConfig;this.appName=t.appTitle,this.mitamaTable=t.mitamaTable,this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(t=>{this.normChart=t}))}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(r.Y))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-fusion-chart-container"]],decls:1,vars:2,consts:[[3,"normChart","mitaTable"]],template:function(t,e){1&t&&i._UZ(0,"app-fusion-chart",0),2&t&&i.Q6J("normChart",e.normChart)("mitaTable",e.mitamaTable)},directives:[f.R],encapsulation:2,changeDetection:0}),t})();var v=s(2573),b=s(858),O=s(4209),C=s(4354),Z=s(4897),T=s(3966);const x=function(){return["Personality"]};function A(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"app-demon-stats",2),i.TgZ(2,"td"),i._uU(3),i.qZA(),i.qZA(),i._UZ(4,"app-demon-resists",3),i._UZ(5,"app-demon-skills",4),i._UZ(6,"app-smt-fusions"),i.BQk()),2&t){const t=i.oxw();i.xp6(1),i.Q6J("title","Lvl "+t.demon.lvl+" "+t.demon.race+" "+t.demon.name)("price",t.demon.price)("statHeaders",t.compConfig.baseStats)("fusionHeaders",i.DdM(13,x))("stats",t.demon.stats),i.xp6(2),i.Oqu(t.demon.person),i.xp6(1),i.Q6J("resistHeaders",t.compConfig.resistElems)("resists",t.demon.resists),i.xp6(1),i.Q6J("title","Innate Skills")("hasTarget",!0)("elemOrder",t.compConfig.elemOrder)("compendium",t.compendium)("skillLevels",t.demon.skills)}}function D(t,e){if(1&t&&i._UZ(0,"app-demon-missing",5),2&t){const t=i.oxw();i.Q6J("name",t.name)}}let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","price","statHeaders","fusionHeaders","stats"],[3,"resistHeaders","resists"],[3,"title","hasTarget","elemOrder","compendium","skillLevels"],[3,"name"]],template:function(t,e){1&t&&(i.YNc(0,A,7,14,"ng-container",0),i.YNc(1,D,1,1,"app-demon-missing",1)),2&t&&(i.Q6J("ngIf",e.demon),i.xp6(1),i.Q6J("ngIf",!e.demon))},directives:[o.O5,v.O,b.I,O.n,C.O,Z.t],encapsulation:2,changeDetection:0}),t})(),q=(()=>{class t{constructor(t,e,s,n){this.route=t,this.title=e,this.currentDemonService=s,this.fusionDataService=n,this.subscriptions=[],this.appName="Test App",this.appName=n.appName,this.compConfig=n.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(t=>{this.name=t,this.getDemonEntry()})),this.route.params.subscribe(t=>{this.currentDemonService.nextCurrentDemon(t.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(n.gz),i.Y36(u.Dx),i.Y36(T.s),i.Y36(r.Y))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-demon-entry-container"]],decls:1,vars:4,consts:[[3,"name","demon","compConfig","compendium"]],template:function(t,e){1&t&&i._UZ(0,"app-demon-entry",0),2&t&&i.Q6J("name",e.name)("demon",e.demon)("compConfig",e.compConfig)("compendium",e.compendium)},directives:[_],encapsulation:2,changeDetection:0}),t})();var F=s(5946),y=s(2060);const L=[{path:"",redirectTo:"demons",pathMatch:"full"},{path:"",component:c,data:{fusionTool:"chart"},children:[{path:"chart",component:k}]},{path:"",component:c,children:[{path:"demons/:demonName",component:q,children:[{path:"fissions",component:F.t},{path:"fusions",component:y.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"demons",component:h},{path:"skills",component:d}]},{path:"**",redirectTo:"demons",pathMatch:"full"}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[n.Bz.forChild(L)],n.Bz]}),t})()},3378:(t,e,s)=>{"use strict";s.d(e,{Y:()=>u});var n=s(8512);class i{constructor(t,e){this.compConfig=t,this.gameAbbr=e,this.pairRecipes={},this.entryRecipes={},this.dlcDemons={},this.initImportedData(),this.updateDerivedData()}estimateKuzuPrice(t){return Math.floor(Math.pow(t.slice(t.length-4).reduce((t,e)=>e+t,0),2)/20)}estimateDesuPrice(t){const e=t.slice(2).reduce((t,e)=>e+t,0);return Math.floor(((-.01171*e+5.0625)*e-129)*e)+1115}initImportedData(){const t={},e={},s={},n={},i={},r=this.gameAbbr.startsWith("ds");for(const a of this.compConfig.demonData[this.gameAbbr])for(const[e,s]of Object.entries(a))t[e]={name:e,race:s.race,lvl:s.lvl,currLvl:s.lvl,price:r?this.estimateDesuPrice(s.stats):100*(this.estimateKuzuPrice(s.stats)+s.lvl),stats:s.stats,resists:(s.nresists||s.resists).split("").map(t=>this.compConfig.resistCodes[t]),skills:s.nskills||s.skills,person:s.person||"",fusion:"normal",prereq:s.prereq||""};for(const a of this.compConfig.skillData[this.gameAbbr])for(const[t,s]of Object.entries(a))e[t]={name:t,rank:s.rank||s.cost/100||0,cost:s.cost||0,effect:s.effect||"",target:s.prereq||s.target||"Self",element:s.elem,learnedBy:[],level:0};for(const a of this.compConfig.races)i[a]={};for(const[a,o]of Object.entries(t)){i[o.race][o.lvl]=a;for(const[t,s]of Object.entries(o.skills))e[t].learnedBy.push({demon:a,level:s})}for(const[a,o]of Object.entries(this.compConfig.specialRecipes[this.gameAbbr])){const e=o,i=[],r=[],c=t[a];c.fusion=e.length>1?"special":"accident",n[a]=i,s[a]=r;for(const t of e)if(t.includes(" x ")){const[e,s]=t.split(" x ");r.push({name1:e,name2:s}),c.fusion="special"}else i.push(t)}this.demons=t,this.skills=e,this.pairRecipes=s,this.entryRecipes=n,this.invertedDemons=i}updateDerivedData(){const t=Object.assign({},this.demons),e=Object.keys(this.skills).map(t=>this.skills[t]),s={},n={};for(const i of this.compConfig.races)s[i]=[],n[i]=[];for(const[i,r]of Object.entries(this.demons))this.isElementDemon(i)||s[r.race].push(r.lvl),this.pairRecipes[i]||this.entryRecipes[i]||n[r.race].push(r.lvl);for(const i of this.compConfig.races)s[i].sort((t,e)=>t-e),n[i].sort((t,e)=>t-e);this._allDemons=Object.keys(t).map(e=>t[e]),this._allSkills=e,this.allIngredients=s,this.allResults=n}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return[]}getDemon(t){return this.demons[t]}getSkill(t){return this.skills[t]}getSkills(t){const e=t.map(t=>this.skills[t]);return e.sort((t,e)=>1e4*(this.compConfig.elemOrder[t.element]-this.compConfig.elemOrder[e.element])+t.rank-e.rank),e}getIngredientDemonLvls(t){return this.allIngredients[t]||[]}getResultDemonLvls(t){return this.allResults[t]||[]}getSpecialNameEntries(t){return this.entryRecipes[t]||[]}getSpecialNamePairs(t){return this.pairRecipes[t]||[]}reverseLookupDemon(t,e){return this.invertedDemons[t][e]}reverseLookupSpecial(t){return[]}isElementDemon(t){return-1!==this.compConfig.elementTable.elems.indexOf(t)}}var r=s(6829);class a extends r.g{constructor(t){super(),this.initCharts(t)}initCharts(t){const e=t.normalTable.races,s=t.normalTable.table,n=t.elementTable.elems,i=t.elementTable.races,a=t.elementTable.table;this.races=e,this.elementDemons=n,this.lvlModifier=t.fusionLvlMod,this.fusionChart=r.g.loadFusionTableJson(e,s),this.fissionChart=r.g.loadFissionTableJson(e,[],s),this.elementChart={},this.elementChart=n.length?r.g.loadElementTableJson(i,n,a):e.reduce((t,e)=>(t[e]=[],t),{})}getLightDark(t){return 0}getRaceFusions(t){return Object.assign({},super.getRaceFusions(t))}}var o=s(115),c=s(5614),l=s(3522);let u=(()=>{class t{constructor(t,e){const s=e.url.split("/")[1],r=t.demonData[s]?s:"krch";this.appName=t.gameTitles[r]+" Fusion Calculator",this.fissionCalculator=t.fissionCalculator,this.fusionCalculator=t.fusionCalculator,this.compConfig=t,this.compendium=new n.X(new i(t,r)).asObservable(),this.fusionChart=new n.X(new a(t)).asObservable()}nextDlcDemons(t){return{}}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(o.I7),c.LFG(l.F0))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac}),t})()},5875:(t,e,s)=>{"use strict";s.d(e,{y:()=>c});var n=s(1116),i=s(5425),r=s(6487),a=s(1742),o=s(5614);let c=(()=>{class t{static forRoot(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,i.m,r.a,a.V]]}),t})()}}]);