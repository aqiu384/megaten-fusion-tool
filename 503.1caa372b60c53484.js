"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[503],{4938:(e1,B,m)=>{m.d(B,{S:()=>T1});var P=m(8935),U=m(2755),T=m(1090),e=m(2598),E=m(3262),j=m(177),Y=m(5583);let L=(()=>{class t{constructor(s){this.appCssClasses=["smt4","smt4f"];const n=s.compConfig.lang;this.appCssClasses=s.compConfig.appCssClasses,this.otherLinks=[],s.compConfig.maxSkillSlots>0&&(this.otherLinks=[this.appCssClasses.includes("smtsj")?{title:"Passwords",link:"passwords"}:{title:(0,U.o)(T.fu.RecipGenerator,n),link:"recipes"}])}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(E.i))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-smt4f-compendium"]],decls:1,vars:2,consts:[[3,"ngClass","otherLinks"]],template:function(n,i){1&n&&e.nrm(0,"app-demon-compendium",0),2&n&&e.Y8G("ngClass",i.appCssClasses)("otherLinks",i.otherLinks)},dependencies:[j.YU,Y.f],styles:['.smt4 div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.smt4 div.element-icon.phy{background-image:url(/assets/images/smtsj/phy.png)}.smt4 div.element-icon.thr{background-image:url(/assets/images/p1/havoc.png)}.smt4 div.element-icon.cla{background-image:url(/assets/images/p1/strike.png)}.smt4 div.element-icon.bit{background-image:url(/assets/images/p1/earth.png)}.smt4 div.element-icon.wea{background-image:url(/assets/images/p1/sword1h.png)}.smt4 div.element-icon.mou{background-image:url(/assets/images/p1/rush.png)}.smt4 div.element-icon.gun{background-image:url(/assets/images/smt4f/gun.png)}.smt4 div.element-icon.fir{background-image:url(/assets/images/smtsj/fir.png)}.smt4 div.element-icon.ice{background-image:url(/assets/images/smtsj/ice.png)}.smt4 div.element-icon.ele{background-image:url(/assets/images/smtsj/ele.png)}.smt4 div.element-icon.for{background-image:url(/assets/images/smt4f/force.png)}.smt4 div.element-icon.win{background-image:url(/assets/images/p1/wind.png)}.smt4 div.element-icon.eye{background-image:url(/assets/images/p1/curse.png)}.smt4 div.element-icon.mys{background-image:url(/assets/images/smt4f/curse.png)}.smt4 div.element-icon.exp,.smt4 div.element-icon.lig{background-image:url(/assets/images/smtsj/exp.png)}.smt4 div.element-icon.dea,.smt4 div.element-icon.rui,.smt4 div.element-icon.dar{background-image:url(/assets/images/smtsj/cur.png)}.smt4 div.element-icon.ail{background-image:url(/assets/images/smtsj/ail.png)}.smt4 div.element-icon.cur{background-image:url(/assets/images/smt4f/poison.png)}.smt4 div.element-icon.min{background-image:url(/assets/images/smt4f/panic.png)}.smt4 div.element-icon.ner{background-image:url(/assets/images/smt4f/bind.png)}.smt4 div.element-icon.rec{background-image:url(/assets/images/smtsj/rec.png)}.smt4 div.element-icon.alp,.smt4 div.element-icon.alm{background-image:url(/assets/images/smtsj/alm.png)}.smt4 div.element-icon.com,.smt4 div.element-icon.sup{background-image:url(/assets/images/smtsj/sup.png)}.smt4 div.element-icon.pas{background-image:url(/assets/images/smtsj/pas.png)}.smt4 div.element-icon.oth,.smt4 div.element-icon.inn,.smt4 div.element-icon.sab,.smt4 div.element-icon.inv,.smt4 div.element-icon.aut,.smt4 div.element-icon.rac,.smt4 div.element-icon.non,.smt4 div.element-icon.spe{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.lif{background-image:url(/assets/images/smtsj/lif.png)}.smt4 div.element-icon.man{background-image:url(/assets/images/smtsj/man.png)}.smt4 div.element-icon.tal{background-image:url(/assets/images/p1/gravity.png)}.smt4 div.element-icon.mai{background-image:url(/assets/images/p1/whip.png)}.smt4 div.element-icon.non{background-image:none}.smt4 td.affinity-9,.smt4 td.affinity-8{color:red}.smt4 td.affinity-7{color:#ff4500}.smt4 td.affinity-6{color:tomato}.smt4 td.affinity-5{color:coral}.smt4 td.affinity-4{color:#ff8c00}.smt4 td.affinity-3{color:orange}.smt4 td.affinity-2{color:#ffa07a}.smt4 td.affinity-1{color:gold}.smt4 td.affinity0{color:transparent}.smt4 td.affinity1{color:#7cfc00}.smt4 td.affinity2{color:#0f0}.smt4 td.affinity3{color:#00ff7f}.smt4 td.affinity4{color:#00fa9a}.smt4 td.affinity5{color:#32cd32}.smt4 td.affinity6{color:#3cb371}.smt4 td.affinity7{color:#2e8b57}.smt4 td.affinity8,.smt4 td.affinity9{color:#228b22}.smt4 .align-ll,.align-nl,.align-dl{color:#0ff}.smt4 .align-lc,.align-nc,.align-dc{color:tomato}.smt4 .align-ll:after,.align-ln:after,.align-lc:after{content:"\\2191"}.smt4 .align-dl:after,.align-dn:after,.align-dc:after{content:"\\2193"}.smt3 th.title,.smt3 th.nav.active,.smt3 th.nav.active a{color:#fff;background-color:#3b3a62}.smtsj th.title,.smtsj th.nav.active,.smtsj th.nav.active a{color:#fff;background-color:#200470}.smt4f th.title,.smt4f th.nav.active,.smt4f th.nav.active a{background-color:#fff;color:#000}.smt5 th.title,.smt5 th.nav.active,.smt5 th.nav.active a{background-color:#363361;color:#fff}.sh2 th.title,.sh2 th.nav.active,.sh2 th.nav.active a{background-color:#693cbe;color:#fff}.krch th.title,.krch th.nav.active,.krch th.nav.active a{color:#000;background-color:#856363}.krao th.title,.krao th.nav.active,.krao th.nav.active a{color:#fff;background-color:#8e283d}.ds1 th.title,.ds1 th.nav.active,.ds1 th.nav.active a,.dso th.title,.dso th.nav.active,.dso th.nav.active a{color:#fff;background-color:#e83145}.ds2 th.title,.ds2 th.nav.active,.ds2 th.nav.active a{color:#fff;background-color:#0078e8}\n'],encapsulation:2,changeDetection:0})}}return t})();var H=m(9404),G=m(345),w=m(9629);let K=(()=>{class t extends H.M{constructor(s,n,i){super(s,n,i),this.compConfig=i.compConfig,this.appName=(0,U.o)(T.vC.AppTitle,this.compConfig.lang)+i.appName,this.defaultSortFun=(u,r)=>200*(this.compConfig.raceOrder[u.race]-this.compConfig.raceOrder[r.race])+r.lvl-u.lvl}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(G.hE),e.rXU(e.gRc),e.rXU(E.i))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-demon-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"lang","raceOrder","statHeaders","resistHeaders","affinityHeaders","rowData"]],template:function(n,i){1&n&&(e.nrm(0,"app-smt-demon-list",0),e.nI1(1,"async")),2&n&&e.Y8G("lang",i.compConfig.lang)("raceOrder",i.compConfig.raceOrder)("statHeaders",i.compConfig.baseStats)("resistHeaders",i.compConfig.resistElems)("affinityHeaders",i.compConfig.hasNonelemInheritance?null:i.compConfig.affinityElems)("rowData",e.bMT(1,6,i.demons))},dependencies:[w.F,j.Jj],encapsulation:2,changeDetection:0})}}return t})();var W=m(9454),O=m(2940);let c=(()=>{class t extends W.E{constructor(s,n,i){super(s,n,i),this.compConfig=i.compConfig,this.appName=(0,U.o)(T.vf.AppTitle,this.compConfig.lang)+i.appName;const u=this.compConfig.appCssClasses;this.transferTitle=u.includes("smtsj")?"D-Source":u.includes("rrch")?"Skill Book":"",this.defaultSortFun=(r,k)=>1e4*(this.compConfig.elemOrder[r.element]-this.compConfig.elemOrder[k.element])+r.rank-k.rank}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(G.hE),e.rXU(e.gRc),e.rXU(E.i))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-skill-list-container"]],features:[e.Vt3],decls:2,vars:9,consts:[[3,"lang","elemOrder","inheritOrder","hasTarget","hasRank","transferTitle","rowData"]],template:function(n,i){1&n&&(e.nrm(0,"app-smt-skill-list",0),e.nI1(1,"async")),2&n&&e.Y8G("lang",i.compConfig.lang)("elemOrder",i.compConfig.elemOrder)("inheritOrder",i.compConfig.hasNonelemInheritance?i.compConfig.elemOrder:null)("hasTarget",!0)("hasRank",i.compConfig.hasSkillRanks)("transferTitle",i.transferTitle)("rowData",e.bMT(1,7,i.skills))},dependencies:[O.p,j.Jj],encapsulation:2,changeDetection:0})}}return t})();var f=m(8948),h=m(860);let D=(()=>{class t extends f.I{constructor(s,n){super(s,n),this.changeDetector=s,this.fusionDataService=n,this.appTitle=n.appName,this.lang=n.compConfig.lang}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(e.gRc),e.rXU(E.i))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-fusion-settings-container"]],features:[e.Vt3],decls:1,vars:4,consts:[[3,"lang","appTitle","fusionSettings","showEnableAll","toggledAll","toggledName"]],template:function(n,i){1&n&&(e.j41(0,"app-fusion-settings",0),e.bIt("toggledAll",function(r){return i.toggleAll(r)})("toggledName",function(r){return i.toggleName(r)}),e.k0s()),2&n&&e.Y8G("lang",i.lang)("appTitle",i.appTitle)("fusionSettings",i.fusionSettings)("showEnableAll",!0)},dependencies:[h.B],encapsulation:2,changeDetection:0})}}return t})();var v=m(5692),I=m(3679),a=m(2223),g=m(302),R=m(9436),S=m(1538),y=m(6122),M=m(4207),N=m(8696);function x(t,d){if(1&t&&e.nrm(0,"app-demon-inherits",11),2&t){const s=e.XpG(2);e.Y8G("lang",s.compConfig.lang)("hasLvls",!0)("inheritHeaders",s.compConfig.affinityElems)("inherits",s.demon.affinities)}}function $(t,d){if(1&t&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&t){const s=e.XpG(2);e.R7$(1),e.JRh(e.i5U(2,1,s.skillMsgs.Rank,s.lang))}}function X(t,d){if(1&t&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&t){const s=e.XpG().$implicit;e.xc7("color",99!==s.skill.rank?null:"transparent"),e.R7$(1),e.JRh(s.skill.rank)}}const z=function(t){return{unique:t}};function J(t,d){if(1&t&&(e.j41(0,"tr",12)(1,"td")(2,"div"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.nI1(8,"skillCostToString"),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.DNE(13,X,2,3,"td",13),e.j41(14,"td"),e.EFF(15),e.nI1(16,"skillLevelToString"),e.k0s()()),2&t){const s=d.$implicit,n=e.XpG(2);e.Y8G("ngClass",e.eq3(19,z,s.skill.rank>90)),e.R7$(2),e.ZvI("element-icon ",s.skill.element,""),e.R7$(1),e.JRh(s.skill.element),e.R7$(2),e.Lme("",s.skill.name," ",s.lvl>0?"+"+s.lvl:s.lvl||"",""),e.R7$(1),e.xc7("color",s.cost?null:"transparent"),e.R7$(1),e.JRh(e.bMT(8,15,s.cost)),e.R7$(3),e.Lme("",s.skill.effect," ",0===s.upgrade?"":"("+(s.upgrade>0?"+":"")+s.upgrade+"%)",""),e.R7$(2),e.JRh(s.skill.target||"Self"),e.R7$(1),e.Y8G("ngIf",n.compConfig.hasSkillRanks),e.R7$(2),e.JRh(e.bMT(16,17,s.skill.level))}}function V(t,d){if(1&t&&(e.j41(0,"tr")(1,"td",14),e.EFF(2),e.nI1(3,"translateComp"),e.k0s()()),2&t){const s=e.XpG(2);e.R7$(2),e.JRh(e.i5U(3,1,s.skillMsgs.NoLearnedSkills,s.lang))}}function p(t,d){if(1&t&&e.nrm(0,"app-demon-skills",15),2&t){const s=e.XpG(2);e.Y8G("title","D-Source Skills")("hasRank",!0)("hasTarget",!0)("hasLvl",!1)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.skillCards)}}const o=function(t){return[t]};function l(t,d){if(1&t&&(e.nrm(0,"app-fusion-entry-table",16),e.nI1(1,"translateComp")),2&t){const s=e.XpG(2);e.Y8G("title",e.i5U(1,4,s.statMsgs.EvolvesFrom,s.lang))("lang",s.compConfig.lang)("baseUrl","..")("rowData",e.eq3(7,o,s.demon.evolvesFrom))}}function F(t,d){if(1&t&&(e.nrm(0,"app-fusion-entry-table",16),e.nI1(1,"translateComp")),2&t){const s=e.XpG(2);e.Y8G("title",e.i5U(1,4,s.statMsgs.EvolvesTo,s.lang))("lang",s.compConfig.lang)("baseUrl","..")("rowData",e.eq3(7,o,s.demon.evolvesTo))}}function A(t,d){if(1&t&&(e.qex(0),e.nrm(1,"app-demon-stats",2)(2,"app-demon-resists",3),e.DNE(3,x,1,4,"app-demon-inherits",4),e.j41(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),e.EFF(8),e.nI1(9,"translateComp"),e.k0s()(),e.j41(10,"tr")(11,"th"),e.EFF(12),e.nI1(13,"translateComp"),e.k0s(),e.j41(14,"th"),e.EFF(15),e.nI1(16,"translateComp"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"translateComp"),e.k0s(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translateComp"),e.k0s(),e.j41(23,"th"),e.EFF(24),e.nI1(25,"translateComp"),e.k0s(),e.DNE(26,$,3,4,"th",0),e.j41(27,"th"),e.EFF(28,"Lvl"),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,J,17,21,"tr",7),e.DNE(31,V,4,4,"tr",0),e.nrm(32,"tr"),e.k0s()(),e.DNE(33,p,1,7,"app-demon-skills",8),e.DNE(34,l,2,9,"app-fusion-entry-table",9),e.DNE(35,F,2,9,"app-fusion-entry-table",9),e.nrm(36,"app-smt-fusions",10),e.bVm()),2&t){const s=e.XpG();e.R7$(1),e.Y8G("lang",s.compConfig.lang)("title","Lvl "+s.demon.lvl+" "+s.demon.race+" "+s.demon.name)("price",s.compConfig.appCssClasses.includes("ds1")?0:s.demon.price)("statHeaders",s.compConfig.baseStats)("stats",s.demon.stats),e.R7$(1),e.Y8G("lang",s.compConfig.lang)("resistHeaders",s.compConfig.resistElems)("resists",s.demon.resists)("ailmentHeaders",s.compConfig.ailmentElems)("ailments",s.demon.ailments),e.R7$(1),e.Y8G("ngIf",s.demon.affinities&&s.demon.affinities.length),e.R7$(5),e.JRh(e.i5U(9,25,s.skillMsgs.LearnedSkills,s.lang)),e.R7$(4),e.JRh(e.i5U(13,28,s.skillMsgs.Elem,s.lang)),e.R7$(3),e.JRh(e.i5U(16,31,s.skillMsgs.Name,s.lang)),e.R7$(3),e.JRh(e.i5U(19,34,s.skillMsgs.Cost,s.lang)),e.R7$(3),e.JRh(e.i5U(22,37,s.skillMsgs.Effect,s.lang)),e.R7$(3),e.JRh(e.i5U(25,40,s.skillMsgs.Target,s.lang)),e.R7$(2),e.Y8G("ngIf",s.compConfig.hasSkillRanks),e.R7$(4),e.Y8G("ngForOf",s.skillLvls),e.R7$(1),e.Y8G("ngIf",!s.skillLvls.length),e.R7$(2),e.Y8G("ngIf",s.compConfig.appCssClasses.includes("smtsj")),e.R7$(1),e.Y8G("ngIf",s.demon.evolvesFrom),e.R7$(1),e.Y8G("ngIf",s.demon.evolvesTo),e.R7$(1),e.Y8G("lang",s.compConfig.lang)("excludedDlc","excluded"===s.demon.fusion)}}function Z(t,d){if(1&t&&e.nrm(0,"app-demon-missing",17),2&t){const s=e.XpG();e.Y8G("name",s.name)}}let Q=(()=>{class t{constructor(){this.lang="en",this.statMsgs=T.Cj,this.skillMsgs=T.vf,this.skillLvls=[]}ngOnChanges(){if(this.demon){this.skillLvls=[];for(const s of Object.keys(this.demon.skills)){const i=this.compendium.getSkill(s),u=this.compConfig.affinityElems.indexOf(i.element),r=this.compConfig.affinityBonuses,k=(this.demon.affinities||[])[u];this.skillLvls.push(k&&r.costs[u]&&(64512&i.cost)<=3072?{skill:i,cost:(64512&i.cost)+Math.floor((100-r.costs[u][k+10])/100*(1023&i.cost)),lvl:k,upgrade:r.upgrades[u][k+10]}:{skill:i,cost:i.cost,lvl:0,upgrade:0})}for(const s of this.skillLvls)s.skill.level=this.demon.skills[s.skill.name];this.skillLvls.sort((s,n)=>200*(s.skill.level-n.skill.level)+this.compConfig.elemOrder[s.skill.element]-this.compConfig.elemOrder[n.skill.element])}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compConfig:"compConfig",compendium:"compendium",lang:"lang"},features:[e.OA$],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"lang","title","price","statHeaders","stats"],[3,"lang","resistHeaders","resists","ailmentHeaders","ailments"],[3,"lang","hasLvls","inheritHeaders","inherits",4,"ngIf"],[1,"entry-table"],["colSpan","7",1,"title"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"title","hasRank","hasTarget","hasLvl","elemOrder","compendium","skillLevels",4,"ngIf"],[3,"title","lang","baseUrl","rowData",4,"ngIf"],[3,"lang","excludedDlc"],[3,"lang","hasLvls","inheritHeaders","inherits"],[3,"ngClass"],[3,"color",4,"ngIf"],["colSpan","7"],[3,"title","hasRank","hasTarget","hasLvl","elemOrder","compendium","skillLevels"],[3,"title","lang","baseUrl","rowData"],[3,"name"]],template:function(n,i){1&n&&(e.DNE(0,A,37,43,"ng-container",0),e.DNE(1,Z,1,1,"app-demon-missing",1)),2&n&&(e.Y8G("ngIf",i.demon),e.R7$(1),e.Y8G("ngIf",!i.demon))},dependencies:[j.YU,j.Sq,j.bT,v.X,I.C,a.w,g.F,R.d,S.a,y.L,M.uz,M.X2,M.Q3],encapsulation:2,changeDetection:0})}}return t})(),q=(()=>{class t{constructor(s,n,i,u){this.route=s,this.title=n,this.currentDemonService=i,this.fusionDataService=u,this.subscriptions=[],this.appName=u.appName,this.compConfig=u.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(s=>{this.compendium=s,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(s=>{this.name=s,this.getDemonEntry()})),this.route.params.subscribe(s=>{this.currentDemonService.nextCurrentDemon(s.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(P.nX),e.rXU(G.hE),e.rXU(N.i),e.rXU(E.i))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-demon-entry-container"]],decls:1,vars:5,consts:[[3,"lang","name","demon","compConfig","compendium"]],template:function(n,i){1&n&&e.nrm(0,"app-demon-entry",0),2&n&&e.Y8G("lang",i.compConfig.lang)("name",i.name)("demon",i.demon)("compConfig",i.compConfig)("compendium",i.compendium)},dependencies:[Q],encapsulation:2,changeDetection:0})}}return t})();var n1=m(9023);function i1(t,d){if(1&t&&e.nrm(0,"app-fusion-chart",2),2&t){const s=e.XpG();e.Y8G("lang",s.lang)("normChart",s.normChart)("tripChart",s.normChart)("normTitle","Light and Neutral Normal Fusions")("tripTitle","Dark Normal Fusions")("mitaTable",s.mitamaTable)}}function o1(t,d){if(1&t&&e.nrm(0,"app-fusion-chart",3),2&t){const s=e.XpG();e.Y8G("lang",s.lang)("filterDarks",!1)("normChart",s.normChart)("mitaTable",s.mitamaTable)}}let a1=(()=>{class t{constructor(s,n){this.changeDetectorRef=s,this.fusionDataService=n,this.subscriptions=[],this.lang="en"}ngOnInit(){const s=this.fusionDataService.compConfig;this.lang=s.lang,this.mitamaTable=s.elementTable.pairs||null,this.hasLightDark=s.hasLightDark,this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(n=>{this.changeDetectorRef.markForCheck(),this.normChart=n}))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(e.gRc),e.rXU(E.i))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-fusion-chart-container"]],decls:2,vars:2,consts:[[3,"lang","normChart","tripChart","normTitle","tripTitle","mitaTable",4,"ngIf"],[3,"lang","filterDarks","normChart","mitaTable",4,"ngIf"],[3,"lang","normChart","tripChart","normTitle","tripTitle","mitaTable"],[3,"lang","filterDarks","normChart","mitaTable"]],template:function(n,i){1&n&&(e.DNE(0,i1,1,6,"app-fusion-chart",0),e.DNE(1,o1,1,4,"app-fusion-chart",1)),2&n&&(e.Y8G("ngIf",i.hasLightDark),e.R7$(1),e.Y8G("ngIf",!i.hasLightDark))},dependencies:[j.bT,n1.q],encapsulation:2,changeDetection:0})}}return t})();var l1=m(1289);let r1=(()=>{class t{constructor(s,n){this.fusionDataService=s,this.title=n,this.subscriptions=[],this.maxSkills=8,this.lang="en";const i=this.fusionDataService.compConfig;this.lang=i.lang,this.appName=(0,U.o)(T.hV.AppTitle,this.lang)+s.appName,this.maxSkills=i.maxSkillSlots,this.recipeConfig={fissionCalculator:this.fusionDataService.fissionCalculator,fusionCalculator:this.fusionDataService.fusionCalculator,races:i.races,skillElems:i.skillElems,inheritElems:i.affinityElems,displayElems:{},restrictInherits:i.appCssClasses.includes("sh2")||i.appCssClasses.includes("smt3"),triExclusiveRaces:[],triFissionCalculator:null,triFusionCalculator:null,defaultDemon:i.defaultRecipeDemon}}ngOnInit(){this.title.setTitle(this.appName),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(s=>{this.compendium=s})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(s=>{this.squareChart={normalChart:s,tripleChart:s}}))}unsubscribeAll(){for(const s of this.subscriptions)s.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(E.i),e.rXU(G.hE))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-recipe-generator-container"]],decls:1,vars:5,consts:[[3,"maxSkills","compendium","squareChart","recipeConfig","lang"]],template:function(n,i){1&n&&e.nrm(0,"app-recipe-generator",0),2&n&&e.Y8G("maxSkills",i.maxSkills)("compendium",i.compendium)("squareChart",i.squareChart)("recipeConfig",i.recipeConfig)("lang",i.lang)},dependencies:[l1.h],encapsulation:2,changeDetection:0})}}return t})();const s1=JSON.parse("[[21,19,9,15,17,12,10,2,13,11,16,18,7,8,20,6,1,3,4,14,5,0],[15,16,4,13,19,12,8,11,17,21,1,9,7,20,5,14,2,18,6,10,3,0],[20,15,17,5,10,13,18,8,4,6,3,14,12,21,7,16,19,2,9,0,11,1],[10,13,21,18,11,17,6,15,7,19,8,12,1,20,16,4,9,0,14,3,5,2],[16,21,15,10,17,18,11,9,1,13,3,8,2,6,4,19,12,7,20,5,0,14],[8,10,16,17,19,15,18,12,9,11,2,21,6,5,0,4,13,20,1,14,7,3],[5,17,12,9,21,13,19,3,14,10,1,8,7,20,2,11,18,16,6,15,4,0],[21,19,20,16,17,1,2,8,10,12,3,5,11,4,14,6,13,0,9,15,18,7],[21,20,14,18,17,9,11,16,6,12,19,3,15,10,4,13,8,5,7,2,1,0],[19,15,21,14,16,13,10,12,5,9,8,17,1,6,4,0,20,7,2,3,18,11],[10,19,21,4,18,6,7,14,12,1,5,20,13,8,9,16,0,17,2,3,15,11],[13,16,11,6,7,19,2,20,14,8,10,5,9,1,0,18,21,4,15,12,3,17],[18,17,5,16,7,13,10,21,12,14,20,1,2,6,11,4,3,9,8,19,0,15],[2,6,15,20,10,16,1,9,13,3,8,18,11,0,21,7,19,5,4,17,14,12],[11,21,5,15,20,12,1,10,14,13,3,17,0,18,9,2,16,6,19,8,7,4],[21,14,19,7,9,8,12,3,13,1,11,2,15,16,18,4,0,5,20,10,17,6],[20,14,16,13,21,17,0,9,10,4,7,2,19,12,3,18,15,5,1,6,11,8],[20,5,17,21,11,16,9,14,13,7,0,3,15,18,2,6,8,4,19,12,10,1],[16,19,8,12,11,9,0,20,15,18,7,6,14,17,21,3,4,2,1,5,13,10],[15,18,11,20,0,16,19,17,21,1,13,9,10,8,6,7,5,14,3,4,12,2],[21,10,18,17,15,19,8,9,13,14,11,16,5,6,7,4,3,20,2,1,0,12],[10,19,18,16,11,9,6,8,15,4,21,7,17,20,14,2,3,13,1,5,0,12],[21,14,13,5,17,12,16,19,15,7,11,4,3,6,20,2,8,10,18,1,0,9],[21,8,13,17,6,14,15,16,19,11,3,10,9,20,7,18,1,4,12,2,5,0],[13,18,19,7,11,17,15,8,3,6,21,1,20,10,16,4,0,5,9,12,2,14],[10,7,13,16,20,14,2,21,9,17,1,12,0,8,18,15,19,3,4,11,5,6],[12,20,13,18,10,17,14,19,15,4,11,16,8,0,9,3,5,2,6,21,1,7],[12,19,18,16,11,13,20,14,1,10,5,17,4,8,3,9,21,0,7,2,15,6],[21,20,15,17,16,18,12,19,14,13,8,10,9,0,1,5,7,11,2,6,3,4],[12,19,16,9,20,15,10,21,1,17,5,14,7,8,6,4,18,13,3,11,2,0],[13,10,16,14,6,12,0,21,9,4,7,11,8,18,3,19,20,17,5,1,15,2],[19,8,14,20,5,15,13,18,9,7,17,4,21,3,1,0,12,11,16,6,2,10],[19,14,12,17,20,9,10,5,21,13,0,6,3,2,1,18,15,8,7,4,11,16],[8,12,19,15,17,20,13,18,21,4,1,6,7,2,0,11,3,14,10,16,9,5],[12,20,15,3,9,21,4,1,13,8,11,10,16,18,17,0,19,14,7,5,2,6],[18,19,15,17,8,13,11,20,21,4,7,2,0,5,6,14,16,1,10,12,3,9],[16,7,9,18,17,13,15,8,19,10,11,20,6,14,2,21,3,0,5,12,1,4],[13,19,3,17,11,16,15,1,8,9,18,10,20,7,5,6,21,2,12,0,4,14],[18,16,19,17,15,5,21,8,14,11,6,2,9,7,13,20,12,10,1,3,4,0],[21,19,18,17,11,9,10,13,7,16,12,8,15,20,14,6,5,2,1,0,4,3],[8,12,18,14,11,3,21,15,7,10,2,20,0,19,4,5,13,6,16,17,9,1],[19,15,18,17,10,11,2,14,9,8,12,21,5,3,1,0,16,4,13,20,7,6],[14,18,19,20,12,16,7,21,13,9,6,10,17,8,15,4,5,1,3,2,11,0],[11,9,15,18,13,20,8,10,7,16,2,4,19,21,14,6,3,1,17,12,0,5],[15,17,14,21,9,16,18,5,11,2,13,6,3,8,4,20,19,7,10,1,0,12],[15,18,5,21,11,8,14,19,9,12,13,1,20,3,6,16,17,4,2,10,7,0],[18,7,16,13,21,14,15,5,12,17,1,10,9,4,19,3,20,0,11,6,2,8],[19,20,11,15,5,8,12,14,13,17,21,4,2,6,16,3,1,18,7,0,10,9],[20,8,18,7,13,15,17,12,16,10,14,4,9,21,2,5,3,11,0,1,19,6],[19,18,6,11,9,14,16,21,10,13,3,12,20,8,4,15,17,1,5,2,0,7],[21,8,19,13,10,15,9,14,17,2,11,18,20,16,1,6,5,3,7,12,4,0],[18,10,19,21,13,17,3,9,20,2,14,16,4,8,1,6,5,11,15,12,7,0],[9,20,19,13,17,11,21,6,12,18,15,1,16,14,3,0,2,4,7,10,5,8],[18,20,11,17,15,16,9,1,13,7,12,5,21,3,19,10,4,6,8,14,0,2],[9,13,3,12,17,11,7,10,14,6,16,4,20,0,1,18,8,21,2,5,15,19],[15,16,12,13,0,20,21,10,6,5,11,19,2,8,9,4,14,18,17,7,3,1],[19,20,16,21,14,9,0,12,7,13,2,15,6,11,18,17,8,10,3,4,1,5],[15,21,18,14,16,10,19,20,17,13,11,8,9,5,7,3,4,12,0,2,1,6],[15,18,14,12,16,8,20,13,5,4,21,3,2,10,17,11,19,6,1,9,0,7],[15,13,16,12,19,14,21,9,10,17,3,6,7,2,4,5,20,18,8,1,0,11],[11,14,13,18,8,7,20,15,16,10,19,2,4,3,21,9,0,6,1,17,5,12],[20,18,8,14,19,4,15,21,11,12,7,1,0,3,13,5,6,17,16,2,9,10],[20,19,21,17,14,13,15,12,18,9,3,4,5,10,2,0,16,1,7,6,8,11],[6,18,17,15,13,10,20,21,11,3,7,16,8,4,9,14,2,19,12,0,5,1],[7,18,16,17,19,6,12,20,11,9,4,5,21,2,15,14,3,10,13,0,8,1],[18,11,19,6,21,13,1,3,14,12,16,10,9,5,7,20,15,8,17,2,0,4],[15,14,17,19,11,16,20,13,21,8,10,18,9,5,3,1,12,7,4,0,6,2],[20,17,3,14,9,0,11,7,6,21,10,8,18,2,19,13,16,4,12,5,1,15],[19,14,13,17,6,16,12,18,15,20,2,7,4,3,5,21,1,9,8,0,11,10],[19,13,17,16,14,9,7,20,12,4,15,6,8,21,5,11,3,18,1,10,0,2],[19,18,14,15,5,13,10,21,7,6,2,16,1,11,12,20,0,9,17,4,8,3],[20,18,14,17,19,12,6,21,4,7,10,9,3,5,16,1,8,2,13,15,0,11],[21,12,16,17,11,13,7,6,10,18,19,20,1,5,9,15,14,2,3,8,0,4],[16,19,4,15,13,21,8,11,10,7,17,14,5,20,18,9,0,2,6,12,3,1],[12,19,4,10,8,15,13,21,20,18,0,16,14,6,1,3,7,9,5,2,11,17],[10,21,9,16,20,14,3,13,7,11,6,19,17,5,18,15,1,8,2,12,4,0],[18,17,14,19,3,12,10,16,6,11,21,7,1,15,0,2,4,13,20,8,9,5],[20,3,19,16,15,18,10,14,13,12,11,7,9,6,17,1,2,5,21,4,0,8],[16,19,6,12,18,14,5,21,9,7,10,17,13,0,11,20,15,3,8,2,1,4],[14,13,8,19,11,1,3,10,2,0,4,18,16,20,7,5,6,12,17,21,15,9],[15,10,17,5,16,20,8,21,11,18,19,6,2,14,1,4,0,13,12,7,9,3],[10,13,17,9,21,12,5,8,16,11,20,19,18,4,3,2,15,1,6,0,14,7],[21,20,19,9,12,16,11,13,14,15,17,10,8,18,6,0,3,7,1,5,2,4],[13,12,16,17,14,3,0,8,11,9,4,1,21,7,10,19,2,20,6,15,18,5],[18,4,7,11,15,8,16,21,20,10,17,1,2,14,13,3,12,19,0,5,9,6],[14,19,17,5,20,16,4,13,11,1,10,8,3,6,18,7,21,15,2,0,9,12],[19,20,11,17,21,18,5,14,4,7,16,8,9,12,15,0,3,13,2,10,1,6],[14,13,17,11,10,20,9,6,12,7,2,19,1,15,4,21,5,16,18,3,0,8],[21,20,13,16,11,6,10,14,12,15,4,19,9,8,7,18,2,3,17,5,1,0],[15,19,20,17,8,14,11,1,7,0,9,2,18,13,21,5,10,12,4,3,16,6],[19,15,9,14,17,5,21,10,8,20,1,0,3,13,7,18,16,4,12,6,11,2],[15,6,10,18,17,21,14,20,9,12,3,16,13,4,8,5,19,1,2,7,11,0],[14,8,15,17,16,5,2,10,13,12,1,9,21,20,6,3,18,11,0,19,4,7],[10,14,21,18,9,12,11,15,16,19,13,8,1,7,20,4,17,0,3,6,2,5],[10,16,17,2,20,19,9,14,3,8,15,11,6,5,13,21,0,18,7,12,1,4],[19,21,18,17,14,12,7,16,9,20,13,1,2,15,8,0,3,4,5,10,6,11],[19,17,18,21,11,3,5,1,13,6,20,15,9,8,7,0,10,4,2,16,14,12],[20,11,18,17,15,8,13,9,12,14,10,19,21,6,2,3,0,16,5,4,1,7],[14,3,13,17,15,7,12,21,5,19,16,1,10,8,11,2,18,0,20,6,4,9],[17,16,18,19,11,20,4,14,7,9,10,21,12,8,3,6,5,15,13,2,1,0],[17,14,18,13,12,15,5,8,21,9,10,2,19,7,20,3,11,16,0,4,6,1],[18,11,16,12,21,14,15,13,19,17,5,1,2,7,3,8,6,4,20,10,9,0],[19,2,15,10,7,5,18,20,6,3,13,21,8,14,11,17,16,4,1,9,12,0],[19,18,20,15,14,13,6,8,21,10,17,9,2,11,3,16,12,7,1,0,4,5],[18,19,16,17,20,6,13,1,10,15,9,12,4,21,5,8,11,2,0,7,3,14],[10,13,17,16,9,18,14,3,12,2,15,19,20,1,8,4,0,5,11,21,6,7],[20,19,11,5,3,16,18,15,12,7,21,8,2,6,0,10,14,4,17,9,1,13],[20,10,13,14,12,11,17,9,19,16,21,15,7,5,0,2,6,3,4,18,1,8],[14,12,21,15,10,20,11,3,2,17,1,8,5,6,9,16,0,7,19,18,13,4],[9,15,12,17,16,19,21,7,13,8,0,18,10,20,11,5,4,2,3,14,6,1],[15,5,18,16,7,20,14,12,11,9,3,17,6,21,2,8,19,1,0,4,10,13],[9,14,4,18,10,2,15,12,1,21,19,7,6,17,20,8,0,3,5,11,13,16],[17,21,13,16,15,18,12,11,20,19,2,4,5,6,7,10,0,1,9,14,3,8],[21,2,15,12,5,14,18,17,13,16,11,9,4,7,8,3,19,6,1,20,10,0],[17,18,14,15,10,12,16,20,11,8,2,9,21,19,1,0,7,5,4,13,6,3],[11,9,18,19,17,16,7,14,0,5,20,10,6,8,3,21,2,1,15,12,13,4],[14,13,19,1,9,16,5,11,4,18,21,10,7,6,2,15,8,20,3,17,12,0],[12,21,16,13,19,14,7,5,11,6,17,0,8,4,1,18,20,15,2,9,10,3],[18,13,15,20,21,10,9,8,17,12,11,19,1,4,5,7,3,14,2,0,16,6],[12,21,9,14,16,20,8,7,15,18,4,10,19,6,17,3,1,13,2,0,5,11],[16,21,11,14,18,17,20,13,15,12,5,8,9,1,19,7,0,3,10,2,6,4],[13,14,1,18,17,20,10,16,8,15,0,5,12,6,2,21,9,4,3,7,19,11],[14,21,4,16,17,9,13,20,1,11,10,18,12,19,7,2,5,8,0,6,15,3],[15,4,16,11,17,20,6,8,3,10,18,12,13,0,9,21,5,19,2,7,1,14],[9,19,12,10,17,15,1,2,13,11,5,3,20,8,4,6,21,16,18,14,7,0],[20,16,8,18,17,13,21,2,7,14,15,4,11,12,9,6,19,0,3,10,1,5],[20,21,5,16,18,17,15,10,13,12,4,9,6,14,7,8,19,11,0,2,1,3],[17,21,2,15,3,14,18,11,12,9,16,4,7,5,6,13,0,1,20,10,19,8],[15,13,17,14,21,10,9,19,3,12,4,18,16,8,5,6,2,7,11,0,20,1],[20,10,21,13,1,4,6,15,9,0,7,18,19,8,5,14,3,17,11,16,12,2],[21,4,18,17,13,8,6,14,20,16,11,9,19,0,7,10,5,15,2,1,12,3],[12,20,18,11,17,10,4,6,1,5,8,14,13,21,15,19,16,2,0,3,7,9],[17,14,5,18,21,8,11,20,19,6,15,13,4,10,1,0,16,12,3,2,9,7],[17,13,20,16,3,18,15,10,19,12,11,14,21,9,7,1,5,4,8,6,2,0],[5,8,19,15,17,18,13,9,12,16,7,0,21,6,14,4,11,3,1,10,20,2],[21,17,16,14,13,20,3,19,10,11,8,7,4,2,18,9,5,0,15,1,6,12],[17,14,3,15,6,0,18,5,7,12,1,4,19,2,20,21,13,16,9,8,10,11],[9,5,19,16,17,21,11,13,10,12,7,18,14,8,1,3,20,2,6,15,0,4],[19,6,18,14,21,16,1,15,3,10,11,13,12,0,7,17,9,4,8,2,20,5],[8,20,19,17,13,10,15,14,7,0,11,4,9,21,18,12,5,2,16,1,3,6],[20,18,19,14,17,6,15,9,10,2,7,4,21,13,1,5,16,12,0,8,11,3],[19,14,16,15,10,18,21,11,8,5,20,13,7,3,0,2,1,4,17,6,12,9],[8,18,21,16,14,3,5,19,17,9,4,7,11,20,2,1,12,0,13,15,10,6],[18,19,20,15,14,13,2,17,12,5,4,11,16,8,7,3,21,6,1,9,0,10],[19,3,18,13,17,14,5,12,16,9,0,10,4,11,1,6,2,20,21,7,8,15],[21,20,16,18,15,10,17,3,13,4,11,7,9,5,19,2,14,12,8,1,0,6],[5,15,12,14,10,17,11,20,6,19,9,21,18,1,8,2,4,16,13,3,7,0],[20,9,19,12,18,16,8,17,2,11,21,5,14,13,0,3,6,1,10,7,4,15],[16,18,12,6,17,19,15,20,10,21,14,9,1,4,5,11,8,2,3,0,13,7],[16,18,13,15,17,21,14,19,10,2,5,8,4,20,7,11,0,12,3,9,6,1],[20,12,19,21,16,11,17,14,9,13,15,8,18,1,3,5,7,10,6,4,2,0],[11,18,21,8,19,20,16,4,10,3,9,0,14,17,5,13,1,15,6,7,12,2],[17,16,15,18,21,11,19,14,20,12,13,7,9,8,10,6,3,5,4,1,2,0],[1,15,20,16,19,4,18,10,12,21,9,5,0,3,8,14,2,17,6,7,13,11],[19,11,20,18,9,7,14,16,10,0,21,12,6,3,8,5,17,13,15,1,4,2],[14,3,8,1,15,12,0,19,11,5,16,9,4,21,20,18,13,10,7,17,6,2],[17,20,21,9,18,15,7,12,11,6,14,13,8,3,16,4,1,2,19,0,10,5],[18,17,16,15,11,20,19,2,6,4,21,13,8,5,0,9,3,12,14,10,7,1],[11,15,19,20,17,16,10,14,13,12,18,21,9,2,8,5,7,6,3,1,4,0],[16,18,15,4,3,14,21,9,8,12,11,6,10,2,13,20,7,19,0,17,5,1],[20,21,17,7,12,13,11,8,16,10,14,6,4,19,5,15,9,0,2,1,18,3],[19,9,8,10,17,15,12,7,13,14,11,4,20,16,21,3,1,18,0,6,2,5],[9,21,19,17,15,11,10,4,2,3,8,20,16,5,1,13,18,0,12,14,6,7],[18,7,14,9,2,17,20,13,16,21,19,6,5,10,4,1,12,15,0,11,3,8],[21,13,19,4,17,16,14,12,11,20,15,18,5,0,6,2,1,10,3,9,7,8],[18,17,16,14,20,8,6,12,13,11,19,10,2,21,7,9,4,3,5,0,1,15],[21,5,19,9,18,14,8,16,17,11,2,20,13,12,0,15,10,3,1,7,4,6],[16,21,19,12,14,6,10,4,11,17,9,15,13,8,7,20,3,18,5,2,1,0],[21,10,18,7,16,12,14,20,3,2,15,19,1,17,11,5,4,9,0,6,8,13],[18,16,10,6,15,11,21,14,12,20,17,2,5,4,13,7,0,1,19,8,9,3],[13,15,19,8,1,16,11,21,12,7,14,3,5,18,20,10,4,2,0,6,17,9],[17,20,16,12,10,18,3,11,13,6,14,5,9,4,15,21,19,7,2,0,1,8],[20,17,11,10,16,18,14,9,2,15,21,19,5,1,6,0,4,12,7,3,8,13],[7,16,8,19,17,6,13,5,11,21,1,20,9,18,10,12,14,0,2,4,3,15],[20,21,4,15,10,12,18,16,5,19,6,8,13,9,3,0,14,17,11,1,7,2],[19,12,18,5,17,21,3,7,10,16,1,13,9,8,15,6,20,4,0,2,11,14],[13,10,19,20,17,16,15,14,21,4,6,8,7,18,11,5,9,1,2,12,3,0],[20,12,19,2,10,3,11,5,6,8,18,17,9,15,14,1,4,7,0,21,16,13],[14,17,11,16,4,18,13,10,9,7,21,20,15,0,8,3,2,19,5,6,1,12],[19,16,7,14,17,21,18,9,4,12,6,3,13,5,20,8,11,15,1,2,10,0],[20,16,5,3,17,9,11,15,13,10,21,0,18,12,2,6,8,19,14,4,7,1],[10,19,20,14,16,17,4,0,5,7,2,12,8,9,13,15,21,3,6,11,1,18],[20,15,19,8,17,16,11,5,18,14,10,13,9,21,12,7,4,0,3,1,6,2],[21,14,18,17,16,19,0,9,11,10,12,13,8,5,4,15,20,1,3,6,7,2],[21,17,15,9,20,10,11,14,13,19,16,12,7,8,1,18,2,4,3,0,6,5],[14,20,7,2,16,13,9,11,17,19,21,8,15,3,12,0,18,4,10,5,1,6],[15,18,5,16,14,19,7,10,6,1,0,8,9,17,21,3,20,4,11,2,12,13],[15,18,21,11,8,16,17,12,1,14,7,13,6,4,20,10,5,19,3,9,2,0],[20,18,16,6,17,13,9,21,11,12,4,10,14,3,2,15,5,7,8,19,1,0],[12,21,18,19,10,15,11,5,3,17,8,9,7,16,14,1,20,2,4,6,13,0],[17,14,8,1,16,15,21,6,19,20,12,2,3,9,10,5,11,0,13,7,18,4],[10,21,15,18,17,14,5,9,13,12,8,16,19,1,3,6,20,4,11,0,2,7],[21,16,19,17,13,15,7,14,10,2,11,18,4,5,6,20,9,1,3,0,8,12],[20,16,14,8,12,17,19,15,6,21,7,1,2,10,4,5,9,18,13,0,11,3],[19,16,18,15,21,8,17,13,11,9,3,6,4,12,5,7,10,20,1,14,2,0],[13,20,11,18,5,16,17,14,21,12,19,7,15,6,1,2,9,4,10,8,3,0],[16,13,21,9,8,19,7,12,14,17,10,11,20,5,2,3,18,6,15,1,0,4],[20,16,7,12,17,10,13,11,18,21,9,19,0,5,3,14,2,6,15,1,4,8],[18,20,14,16,3,6,12,7,1,13,10,19,9,5,11,21,17,2,8,0,15,4],[11,14,20,18,19,9,6,12,13,21,4,10,1,16,7,3,5,17,8,0,2,15],[12,11,18,16,17,21,15,1,5,13,14,20,9,7,10,4,19,0,3,2,6,8],[18,15,19,14,20,5,10,17,1,21,12,7,2,3,6,11,9,8,13,0,16,4],[17,19,16,15,13,20,9,12,21,8,5,6,14,3,1,2,11,7,18,10,0,4],[20,13,21,15,17,5,12,4,18,9,2,7,19,3,8,0,10,1,11,16,14,6],[11,17,18,8,14,2,15,21,4,9,10,19,16,6,13,20,7,3,1,5,0,12],[17,18,9,15,14,1,12,6,20,19,7,16,21,5,8,13,4,2,10,0,11,3],[15,20,16,14,17,19,18,12,13,11,9,10,21,5,6,7,2,3,1,4,8,0],[20,19,18,15,7,12,17,13,21,9,3,6,14,4,16,8,10,1,2,5,0,11],[18,14,6,9,20,13,17,3,11,19,21,10,15,0,12,8,7,2,16,5,1,4],[14,19,21,10,17,15,9,4,20,18,3,13,6,5,8,12,1,16,7,11,0,2],[2,17,13,18,9,16,12,5,19,21,6,8,20,4,3,15,1,0,7,11,14,10],[19,21,9,16,13,20,15,11,17,12,14,1,18,7,10,4,5,8,0,3,6,2],[14,21,4,15,13,6,11,12,17,20,7,2,3,5,18,16,10,0,19,1,8,9],[15,17,12,3,13,21,19,16,20,14,7,5,10,6,2,4,9,0,11,1,8,18],[8,20,18,16,7,13,15,14,19,0,11,21,6,10,2,1,4,3,5,17,9,12],[15,5,7,12,1,8,20,13,4,11,16,9,2,19,18,17,21,10,6,14,0,3],[20,15,12,8,9,19,18,17,3,6,5,4,16,10,13,14,2,21,0,1,11,7],[13,20,7,9,18,17,16,14,15,11,5,12,8,3,1,6,19,2,21,0,4,10],[12,20,18,14,10,21,19,3,13,16,2,6,9,7,4,17,11,8,15,1,5,0],[10,8,15,18,20,13,12,2,0,11,7,17,5,6,21,19,4,14,9,1,3,16],[15,18,17,19,2,12,16,14,10,11,6,8,21,9,3,13,7,5,4,20,0,1],[16,21,18,12,17,1,11,9,15,8,14,4,20,7,5,13,2,0,19,10,6,3],[14,19,17,2,13,11,1,20,21,8,16,10,12,3,7,4,0,18,5,9,6,15],[20,14,6,16,21,15,11,10,9,5,17,12,3,13,7,2,18,8,1,4,0,19],[16,10,21,8,0,12,19,11,13,20,2,15,14,6,7,18,5,4,3,1,17,9],[12,21,16,19,7,8,0,2,4,11,6,1,17,20,3,18,10,5,14,15,9,13],[17,20,19,21,11,18,2,8,16,5,9,10,15,1,12,4,14,7,3,13,6,0],[13,18,6,11,9,10,3,14,21,12,7,16,17,8,1,20,15,2,0,4,19,5],[16,20,8,17,9,14,7,18,2,12,6,13,15,21,5,10,19,11,4,0,3,1],[13,8,2,10,16,17,3,5,11,12,19,20,21,9,1,4,6,15,0,18,14,7],[20,19,17,4,16,7,2,14,8,12,10,18,5,0,21,13,1,11,6,9,15,3],[14,16,21,19,13,5,4,20,9,8,1,3,12,17,2,15,18,7,11,6,0,10],[20,12,16,8,1,10,15,14,0,7,6,18,13,4,5,2,19,21,9,3,11,17],[19,21,13,18,16,10,1,2,17,6,11,7,15,4,5,14,20,8,3,9,12,0],[14,20,11,13,8,7,15,19,10,0,18,17,12,6,3,21,2,9,4,1,16,5],[19,16,15,5,4,13,14,20,18,17,11,0,9,1,8,2,21,12,3,6,10,7],[21,15,17,18,16,6,11,12,13,8,19,20,14,7,4,5,10,3,1,9,0,2],[18,17,13,10,9,14,7,20,21,2,8,15,5,12,19,3,16,0,11,6,4,1],[12,11,21,2,18,19,15,0,13,10,16,20,1,7,3,6,9,4,14,17,5,8],[5,16,19,18,21,8,17,14,0,13,1,3,7,15,9,6,2,4,11,20,12,10],[11,17,13,7,16,15,19,21,14,6,18,3,5,12,20,2,4,10,0,1,9,8],[19,20,21,10,3,16,15,8,9,1,11,6,17,13,7,18,2,12,14,0,5,4],[12,13,17,2,7,21,1,6,20,19,15,8,9,3,5,10,11,18,4,0,16,14],[20,21,18,15,16,13,7,17,14,12,11,5,4,6,2,9,10,3,8,19,1,0],[15,21,10,18,12,17,16,6,14,19,11,20,4,9,1,13,0,2,7,3,8,5],[14,17,12,9,19,15,13,20,5,21,11,6,18,7,8,16,3,4,10,1,2,0],[13,18,10,16,21,19,0,12,14,3,8,20,6,2,5,1,15,7,17,9,11,4],[21,4,13,20,19,10,6,7,17,12,18,9,0,2,14,16,11,3,5,8,15,1],[15,6,13,20,16,12,10,9,1,8,21,17,3,11,5,18,7,0,19,14,4,2],[8,16,19,17,20,18,10,5,13,21,0,12,4,15,7,1,6,2,3,9,11,14],[19,21,6,0,16,13,9,10,17,12,2,8,20,18,7,15,3,1,11,5,14,4],[20,21,19,17,15,13,18,5,11,4,14,1,7,8,0,6,16,10,9,2,12,3],[16,14,8,0,19,12,20,13,21,5,9,7,3,15,2,4,17,1,6,11,18,10],[18,19,11,16,20,21,15,9,17,12,6,0,10,5,7,13,4,2,8,3,1,14],[21,19,17,12,18,5,15,9,7,8,4,16,14,1,13,6,2,11,3,0,20,10],[20,19,15,14,16,17,21,8,2,7,6,1,9,18,12,4,0,11,13,3,10,5]]");function b(t,d){const s=t.toString(2);return"0".repeat(d-s.length)+s}var _=m(4341);function p1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.index;e.Y8G("value",s),e.R7$(1),e.JRh(s)}}function f1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.index;e.Y8G("value",s+1),e.R7$(1),e.JRh(s+1)}}function d1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.$implicit;e.Y8G("value",s),e.R7$(1),e.JRh(s)}}function h1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.$implicit;e.Y8G("value",s.name),e.R7$(1),e.JRh(s.name)}}function g1(t,d){if(1&t&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&t){const s=d.$implicit;e.R7$(1),e.JRh(s)}}function u1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.index;e.Y8G("value",s+1),e.R7$(1),e.JRh(s+1)}}function k1(t,d){if(1&t&&(e.j41(0,"td")(1,"select",17),e.DNE(2,u1,2,2,"option",5),e.k0s()()),2&t){const s=d.index,n=e.XpG();e.R7$(1),e.Y8G("formControlName",s),e.R7$(1),e.Y8G("ngForOf",n.range99)}}function C1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.$implicit;e.Y8G("value",s),e.R7$(1),e.JRh(s)}}function v1(t,d){if(1&t&&(e.j41(0,"option",16),e.EFF(1),e.k0s()),2&t){const s=d.$implicit;e.Y8G("value",s.name),e.R7$(1),e.JRh(s.name)}}function b1(t,d){if(1&t){const s=e.RV6();e.qex(0,18),e.j41(1,"tr")(2,"td")(3,"select",19),e.bIt("change",function(){const u=e.eBV(s).$implicit,r=e.XpG();return e.Njj(u.controls.name.setValue(r.skills[u.controls.elem.value][0].name))}),e.DNE(4,C1,2,2,"option",5),e.k0s()(),e.j41(5,"td")(6,"select",20),e.DNE(7,v1,2,2,"option",5),e.k0s()()(),e.bVm()}if(2&t){const s=d.$implicit,n=d.index,i=e.XpG();e.Y8G("formGroupName",n),e.R7$(4),e.Y8G("ngForOf",i.allElems),e.R7$(3),e.Y8G("ngForOf",i.skills[s.controls.elem.value])}}let D1=(()=>{class t{constructor(s){this.fb=s,this.stats=["St","Ma","Vi","Ag","Lu"],this.internalMaxSkills=6,this.range99=Array(99),this.range256=Array(256),this.japPassword="",this.engPassword="",this.currHP=0,this.currMP=0,this.price=0,this.unknownDemon={name:"???",race:"-",align:"",code:0,lvl:0,currLvl:0,skills:{},skillCards:{},price:0,stats:[0,0,0,0,0],resists:[],ailments:[],inherits:0,affinities:[],fusion:"normal",prereq:""},this.blankSkill={name:"-",code:0,element:"-",rank:0,effect:"-",target:"-",cost:0,learnedBy:[],transfer:[],level:0},this.unknownSkill={name:"???",code:0,element:"-",rank:0,effect:"-",target:"-",cost:0,learnedBy:[],transfer:[],level:0},this.createForm()}ngOnChanges(){this.initDropdowns()}createForm(){const s=[];for(let n=0;n<6;n++)s.push(this.fb.group({elem:"-",name:"-"}));this.form=this.fb.group({maskByte:0,lvl:1,race:"-",demon:"???",stats:this.fb.array(Array(5).fill(1)),skills:this.fb.array(s)}),this.form.valueChanges.subscribe(n=>{const i=this.compendium.getDemon(n.demon)||this.unknownDemon,u=n.skills.map(C=>this.compendium.getSkill(C.name)||this.blankSkill),r={demonCode:i.code,lvl:parseInt(n.lvl,10),exp:0,stats:n.stats.map(C=>parseInt(C,10)),baseStats:n.stats.map(C=>parseInt(C,10)),skillCodes:u.map(C=>C.code),maskByte:parseInt(n.maskByte,10)};let k=0;for(const C of u)!i.skills.hasOwnProperty(C.name)&&k<C.rank&&C.rank<15&&(k=C.rank);const t1=function c1(t){const d=[b(0,4),b(t.demonCode,9),b(t.lvl,7),b(t.skillCodes[5],9),b(t.skillCodes[4],9),b(t.skillCodes[3],9),b(t.skillCodes[2],9),b(t.skillCodes[1],9),b(t.skillCodes[0],9),b(t.exp,32),b(t.stats[1],7),b(t.stats[4],7),b(t.stats[3],7),b(t.stats[2],7),b(t.stats[0],7),b(t.stats[1],7),b(t.stats[4],7),b(t.stats[3],7),b(t.stats[2],7),b(t.stats[0],7)].join(""),s=s1[t.maskByte],n=Array(22);for(let r=0;r<22;r++)n[s[r]]=parseInt(d.slice(8*r,8*r+8),2)^t.maskByte;n.push(t.maskByte),n.push(n.reduce((r,k)=>r+k,0)%256);const i=n.map(r=>b(r,8)).join(""),u=Array(32);for(let r=0;r<32;r++)u[r]=parseInt(i.slice(6*r,6*r+6),2);return u}(r);this.engPassword=t1.map(C=>this.encoding[C]).join("")})}initDropdowns(){if(this.demons={"-":[this.unknownDemon]},this.skills={"-":[this.blankSkill],"???":[this.unknownSkill]},this.dcodes={},this.scodes={0:this.blankSkill},this.compendium){for(const s of this.compendium.allDemons)this.demons[s.race]||(this.demons[s.race]=[]),this.demons[s.race].push(s),this.dcodes[s.code]=s;for(const s of this.compendium.allSkills)this.skills[s.element]||(this.skills[s.element]=[]),s.code>0&&(this.skills[s.rank<90?s.element:"???"].push(s),this.scodes[s.code]=s);for(const s of Object.values(this.demons))0===s.length&&s.push(),s.sort((n,i)=>i.lvl-n.lvl);for(const s of Object.values(this.skills))s.sort((n,i)=>n.rank-i.rank);this.allRaces=["-"].concat(this.races.filter(s=>this.demons[s])),this.allElems=["-"].concat(this.elems.filter(s=>this.skills[s]),["???"]),this.setDefaultValues(this.defaultDemon)}}changeRace(s){const n=this.demons[s][0];this.form.controls.demon.setValue(n.name),this.setDefaultValues(n.name)}setPasswordValues(s){const n=function m1(t){const d=t.map(C=>b(C,6)).join(""),s=Array(24);for(let C=0;C<24;C++)s[C]=parseInt(d.slice(8*C,8*C+8),2);s.pop();const i=s.pop(),u=s1[i],r=Array(22);for(let C=0;C<22;C++)r[C]=s[u[C]]^i;const k=r.map(C=>b(C,8)).join("");return{demonCode:parseInt(k.slice(4,13),2),lvl:parseInt(k.slice(13,20),2),exp:parseInt(k.slice(74,106),2),baseStats:[parseInt(k.slice(134,141),2),parseInt(k.slice(106,113),2),parseInt(k.slice(127,134),2),parseInt(k.slice(120,127),2),parseInt(k.slice(113,120),2)],stats:[parseInt(k.slice(169,176),2),parseInt(k.slice(141,148),2),parseInt(k.slice(162,169),2),parseInt(k.slice(155,162),2),parseInt(k.slice(148,155),2)],skillCodes:[parseInt(k.slice(65,74),2),parseInt(k.slice(56,65),2),parseInt(k.slice(47,56),2),parseInt(k.slice(38,47),2),parseInt(k.slice(29,38),2),parseInt(k.slice(20,29),2)],maskByte:i}}(s),i=n.skillCodes.map(r=>this.scodes[r]||this.unknownSkill),u=Object.assign({},this.dcodes[n.demonCode]||this.unknownDemon,{lvl:n.lvl,stats:[0,0].concat(n.stats.map(r=>Math.min(Math.max(r,1),99)))});this.form.setValue({maskByte:n.maskByte,lvl:u.lvl,race:u.race,demon:u.name,stats:u.stats.slice(2),skills:i.map(r=>({elem:r.element,name:r.name}))})}setDefaultValues(s){if(s!==this.unknownDemon.name){const n=this.compendium.getDemon(s),i=Object.entries(n.skills).slice(0,this.internalMaxSkills).filter(r=>r[1]<2).map(r=>this.compendium.getSkill(r[0])),u=Object.entries(n.skills).filter(r=>r[1]<100).map(r=>this.compendium.getSkill(r[0]));this.skills[this.blankSkill.element]=[this.blankSkill].concat(u),this.form.setValue({maskByte:0,lvl:Math.floor(n.lvl),race:n.race,demon:n.name,stats:n.stats.slice(2),skills:i.concat(Array(this.internalMaxSkills-i.length).fill(this.blankSkill)).map(r=>({elem:"-",name:r.name}))})}}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(_.ok))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-password-generator"]],inputs:{defaultDemon:"defaultDemon",encoding:"encoding",encodingRegex:"encodingRegex",compendium:"compendium",races:"races",elems:"elems"},features:[e.OA$],decls:70,vars:11,consts:[[3,"formGroup"],[1,"entry-table"],["colspan","2",1,"title"],["colspan","4",1,"title"],["formControlName","maskByte"],[3,"value",4,"ngFor","ngForOf"],["formControlName","lvl"],["formControlName","race",3,"change"],["formControlName","demon",3,"change"],[1,"title"],[4,"ngFor","ngForOf"],["formArrayName","stats"],[2,"width","25%"],[2,"width","75%"],["formArrayName","skills"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formControlName"],[3,"formGroupName"],["formControlName","elem",3,"change"],["formControlName","name"]],template:function(n,i){1&n&&(e.j41(0,"form",0)(1,"h2"),e.EFF(2,"Password Generator"),e.k0s(),e.j41(3,"table",1)(4,"thead")(5,"tr")(6,"th",2),e.EFF(7,"Passwords"),e.k0s()(),e.j41(8,"tr")(9,"th"),e.EFF(10,"Password"),e.k0s()()(),e.j41(11,"tbody")(12,"tr")(13,"td")(14,"div")(15,"code"),e.EFF(16),e.k0s()(),e.j41(17,"div")(18,"code"),e.EFF(19),e.k0s()()()()()(),e.j41(20,"table",1)(21,"thead")(22,"tr")(23,"th",3),e.EFF(24,"Demon Entry"),e.k0s()(),e.j41(25,"tr")(26,"th"),e.EFF(27,"Mask Byte"),e.k0s(),e.j41(28,"th"),e.EFF(29,"Level"),e.k0s(),e.j41(30,"th"),e.EFF(31,"Race"),e.k0s(),e.j41(32,"th"),e.EFF(33,"Demon"),e.k0s()()(),e.j41(34,"tbody")(35,"tr")(36,"td")(37,"select",4),e.DNE(38,p1,2,2,"option",5),e.k0s()(),e.j41(39,"td")(40,"select",6),e.DNE(41,f1,2,2,"option",5),e.k0s()(),e.j41(42,"td")(43,"select",7),e.bIt("change",function(){return i.changeRace(i.form.controls.race.value)}),e.DNE(44,d1,2,2,"option",5),e.k0s()(),e.j41(45,"td")(46,"select",8),e.bIt("change",function(){return i.setDefaultValues(i.form.controls.demon.value)}),e.DNE(47,h1,2,2,"option",5),e.k0s()()()()(),e.j41(48,"table",1)(49,"thead")(50,"tr")(51,"th",9),e.EFF(52,"Stats"),e.k0s()(),e.j41(53,"tr"),e.DNE(54,g1,2,1,"th",10),e.k0s()(),e.j41(55,"tbody")(56,"tr",11),e.DNE(57,k1,3,2,"td",10),e.k0s()()(),e.j41(58,"table",1)(59,"thead")(60,"tr")(61,"th",2),e.EFF(62,"Learned Skills"),e.k0s()(),e.j41(63,"tr")(64,"th",12),e.EFF(65,"Element"),e.k0s(),e.j41(66,"th",13),e.EFF(67,"Name"),e.k0s()()(),e.j41(68,"tbody",14),e.DNE(69,b1,8,3,"ng-container",15),e.k0s()()()),2&n&&(e.Y8G("formGroup",i.form),e.R7$(16),e.JRh(i.engPassword.slice(0,16)),e.R7$(3),e.JRh(i.engPassword.slice(16)),e.R7$(19),e.Y8G("ngForOf",i.range256),e.R7$(3),e.Y8G("ngForOf",i.range99),e.R7$(3),e.Y8G("ngForOf",i.allRaces),e.R7$(3),e.Y8G("ngForOf",i.demons[i.form.controls.race.value]),e.R7$(4),e.BMQ("colspan",i.stats.length),e.R7$(3),e.Y8G("ngForOf",i.stats),e.R7$(3),e.Y8G("ngForOf",i.form.controls.stats.controls),e.R7$(12),e.Y8G("ngForOf",i.form.controls.skills.controls))},dependencies:[j.Sq,_.qT,_.xH,_.y7,_.wz,_.BC,_.cb,_.j4,_.JD,_.$R,_.v8],styles:["td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}return t})(),y1=(()=>{class t{constructor(s,n){this.fusionDataService=s,this.title=n,this.subscriptions=[],this.encodingIndex=0,this.encodings=["$234567890ABCDEFGH%JKLMNOPQRSTUVWXYZabcdefghijk#mnopqrstuvwxyz-+","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz?&","\u3057\u3093\u3044\u304f\u307f\uff22\u3084\u308b\uff39\u3051\u3072\uff2b\uff26\u3068\uff28\u3080\uff21\u3061\u306b\uff3a\u304d\uff37\u3088\uff2c\u3092\u306e\u305f\u308c\uff2e\u3048\uff33\u3075\u308f\uff2a\u305d\u308a\u3059\uff23\u3081\uff30\u3078\uff31\uff27\uff32\uff24\u3053\uff2d\uff34\u307e\u3064\u305b\u304b\u306f\uff25\uff35\u3066\u3055\u306a\u3042\u3082\u3086\u304a\u3046\u308d"],this.encodingRegexes=["$2-90A-H%J-Za-k#m-z+-","0-9A-Za-z&?","\u3057\u3093\u3044\u304f\u307fB\u3084\u308bY\u3051\u3072KF\u3068H\u3080A\u3061\u306bZ\u304dW\u3088L\u3092\u306e\u305f\u308cN\u3048S\u3075\u308fJ\u305d\u308a\u3059C\u3081P\u3078QGRD\u3053MT\u307e\u3064\u305b\u304b\u306fEU\u3066\u3055\u306a\u3042\u3082\u3086\u304a\u3046\u308d"]}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`Password Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.compConfig=this.fusionDataService.compConfig,this.encodingIndex="en"!==this.compConfig.lang?2:this.compConfig.appCssClasses.includes("smtdsj")?1:0,this.subscriptions.push(this.fusionDataService.compendium.subscribe(s=>{this.compendium=s}))}unsubscribeAll(){for(const s of this.subscriptions)s.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(E.i),e.rXU(G.hE))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-password-generator-container"]],decls:1,vars:6,consts:[[3,"races","elems","defaultDemon","encoding","encodingRegex","compendium"]],template:function(n,i){1&n&&e.nrm(0,"app-password-generator",0),2&n&&e.Y8G("races",i.compConfig.races)("elems",i.compConfig.skillElems)("defaultDemon",i.compConfig.defaultRecipeDemon)("encoding",i.encodings[i.encodingIndex])("encodingRegex",i.encodingRegexes[i.encodingIndex])("compendium",i.compendium)},dependencies:[D1],encapsulation:2,changeDetection:0})}}return t})();var R1=m(2649),E1=m(3452);const F1=[{path:"",redirectTo:"demons",pathMatch:"full"},{path:"",component:L,data:{fusionTool:"chart"},children:[{path:"chart",component:a1}]},{path:"",component:L,children:[{path:"demons/:demonName",component:q,children:[{path:"fissions",component:R1.J},{path:"fusions",component:E1.y},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"demons",component:K},{path:"skills",component:c},{path:"recipes",component:r1},{path:"passwords",component:y1},{path:"settings",component:D}]},{path:"**",redirectTo:"demons",pathMatch:"full"}];let T1=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[P.iI.forChild(F1),P.iI]})}}return t})()},3262:(e1,B,m)=>{m.d(B,{i:()=>W});var P=m(4660);class U{constructor(c,f){this.compConfig=c,this.initImportedData(),this.updateDerivedData(f)}initImportedData(){const c={},f={},h={},D={},v={},I={},a={},g={},R="-".repeat(this.compConfig.ailmentElems.length);for(const[p,o]of Object.entries(this.compConfig.fusionSpells))for(const l of o)h[l]=p;for(const[p,o]of Object.entries(this.compConfig.resistCodes))a[p]=(o/1e3|0)<<10,g[p]=o%1e3/2.5|0;const S=(p,o,l)=>(p||o).split("").map((F,A)=>a[F]+(l?.[A]/2.5|0||g[F])),y="en"===this.compConfig.lang,M=y?"Innate resistance":"",N=y?"Self":"\u81ea\u8eab",x=y?["Weak ","Resist ","Null "]:["\u5f31","\u8010","\u7121"],$={},X={},z=this.compConfig.appCssClasses.includes("smt5v"),J=this.compConfig.alignments;for(const[p,o]of"wsn".split("").entries())$[a[o]>>10]=[],X[a[o]>>10]=x[p];for(const[p,o]of Object.entries(X))for(const l of this.compConfig.ailmentElems)$[p].push({name:o+l,code:0,element:"pas",inherit:"pas",effect:M,target:N,cost:0,rank:99,learnedBy:[],level:0});for(const p of this.compConfig.demonData)for(const[o,l]of Object.entries(p)){const F=l.race,A=J[o]||J[F]||"Neutral-Neutral",[Z,Q]=A.split("-");c[o]={name:o,race:F,align:`align-${Z[0].toLocaleLowerCase()}${Q[0].toLocaleLowerCase()}`,code:l.code||0,lvl:l.lvl,currLvl:l.currLvl||l.lvl,skills:l.skills,skillCards:l.skillCards||{},price:2*l.price,stats:l.stats,resists:S(l.resists,l.resists,l.resmods),ailments:S(l.ailments,R,l.ailmods),inherits:parseInt((l.affinities||[-10]).map(q=>q>-10?"1":"0").join(""),2),affinities:l.affinities,fusion:l.fusion||"normal",prereq:l.prereq||""},h[F]&&(c[o].skills[h[F]]=5278),z&&"-"!==l.innate&&(c[o].price=2*l.innatePrice,c[o].skills=Object.assign({},l.skills),c[o].skills[l.innate]=0,h[A]&&(c[o].skills[h[A]]=4884),h[o]&&(c[o].skills[h[o]]=4884))}for(const p of this.compConfig.demonUnlocks)for(const[o,l]of Object.entries(p.conditions))for(const F of o.split(","))c[F].prereq=l;for(const p of this.compConfig.skillData)for(const[o,l]of Object.entries(p))f[o]={name:o,code:l.code||0,element:l.element,inherit:l.inherit||l.element,rank:l.rank,effect:l.effect,damage:l.damage||"",target:l.target||"Self",hits:l.hits||"",cost:l.cost||0,learnedBy:[],transfer:[],level:0},f[o].rank||(f[o].rank=99),l.card&&(f[o].transfer=l.card.split(", ").map(F=>({demon:F,level:c[F]?0:-100})));for(const p of Object.values($))for(const o of p)f[o.name]=o;const V=this.compConfig.elementTable;for(const[p,o]of Object.entries((0,P.Jc)(V.elems,V.pairs)))v[p]=o,c[p].fusion="special";for(const[p,o]of Object.entries(this.compConfig.specialRecipes))c[p].fusion=o.length>0?"special":"accident",D[p]=o.filter(l=>!l.includes(" x ")),o.length>0&&this.compConfig.appCssClasses.includes("smt3")&&(v[p]=o.map(l=>({name1:l.split(" x ")[0],name2:l.split(" x ")[1]})));for(const[p,o]of Object.entries(this.compConfig.evolveData)){const l=o.result;c[p].evolvesTo={price:c[l].price,race1:c[l].race,lvl1:o.lvl,name1:l},c[l].evolvesFrom={price:c[p].price,race1:c[p].race,lvl1:o.lvl,name1:p}}for(const p of this.compConfig.races)I[p]={};for(const[p,o]of Object.entries(c))I[o.race][o.lvl]=p;for(const p of Object.values(c).sort((o,l)=>o.currLvl-l.currLvl))if("enemy"!==p.fusion){for(const[o,l]of Object.entries(p.skills))f[o].learnedBy.push({demon:p.name,level:l});for(const[o,l]of Object.entries(p.skillCards))f[o].transfer.push({demon:p.name,level:l});for(let o=0;o<p.ailments.length;o++)$[p.ailments[o]>>10]&&$[p.ailments[o]>>10][o].learnedBy.push({demon:p.name,level:0})}this.demons=c,this.skills=f,this.specialRecipes=D,this.specialPairRecipes=v,this.invertedDemons=I}updateDerivedData(c){const f=Object.assign({},this.demons),h=Object.keys(this.skills).map(a=>this.skills[a]),D={},v={},I=this.compConfig.appCssClasses.includes("smt4f");for(const a of this.compConfig.races)D[a]=[],v[a]=[];for(const[a,g]of Object.entries(this.demons))!this.isElementDemon(a)&&!this.isOverlappingResult(a)&&D[g.race].push(g.lvl),this.specialRecipes.hasOwnProperty(a)||v[g.race].push(g.lvl);for(const a of this.compConfig.races)D[a].sort((g,R)=>g-R),v[a].sort((g,R)=>g-R);for(const a of this.compConfig.races){const g=D[a],R=v[a],S=g.length,y=R.length;I&&S&&y&&g[S-1]!==R[y-1]&&R.push(100)}for(const[a,g]of Object.entries(c))if(!g){const{race:R,lvl:S}=this.demons[a];delete f[a],D[R]=D[R].filter(y=>y!==S),v[R]=v[R].filter(y=>y!==S)}this._allDemons=Object.keys(f).map(a=>f[a]),this._allSkills=h.filter(a=>a.rank<99||a.learnedBy.length>0),this.allIngredients=D,this.allResults=v}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(c=>this.demons[c])}getDemon(c){return this.demons[c]}getSkill(c){return this.skills[c]}getSkills(c){const f=this.compConfig.elemOrder,h=c.map(D=>this.skills[D]);return h.sort((D,v)=>1e4*(f[D.element]-f[v.element])+D.rank-v.rank),h}getIngredientDemonLvls(c){return this.allIngredients[c]||[]}getResultDemonLvls(c){return this.allResults[c]||[]}getSpecialNameEntries(c){return this.specialRecipes[c]||[]}getSpecialNamePairs(c){return this.specialPairRecipes[c]||[]}reverseLookupDemon(c,f){return this.invertedDemons[c][f]}reverseLookupSpecial(c){return[]}isElementDemon(c){return this.demons[c]&&this.demons[c].race===this.compConfig.elementRace}isOverlappingResult(c){return!1}updateFusionSettings(c){this.updateDerivedData(c)}}var T=m(8063);let e=(()=>{class O extends T.p{static{this.LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Entity","Wargod","Amatsu","Kunitsu","Godly","Chaos","Geist","\u5927\u5929\u4f7f","\u5973\u795e","\u970a\u9ce5","\u795e\u6a39","\u9b54\u795e","\u795e\u7363","\u8056\u7363","\u5e7b\u9b54","\u7834\u58ca\u795e","\u5730\u6bcd\u795e","\u9f8d\u795e","\u9b3c\u795e","\u79d8\u795e","\u5a01\u970a","\u8ecd\u795e","\u5929\u6d25\u795e","\u56fd\u6d25\u795e","\u795e\u970a","\u6df7\u6c8c\u738b"]}static{this.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot","\u90aa\u795e","\u51f6\u9ce5","\u5996\u6a39","\u6b7b\u795e","\u5996\u7363","\u90aa\u9b3c","\u5e7d\u866b","\u9b54\u738b","\u90aa\u9f8d","\u60aa\u970a","\u5e7d\u9b3c","\u5e7d\u9b3c","\u72c2\u795e"]}constructor(f){super(),this.initCharts(f)}initCharts(f){const h=f.normalTable.races,D=f.normalTable.table,v=f.elementTable.elems,I=f.elementTable.races,a=f.elementTable.table;if(this.lvlModifier=f.lvlModifier,this.elementDemons=v,this.fusionChart=T.p.loadFusionTableJson(h,D),this.fissionChart=T.p.loadFissionTableJson(h,v,D),this.elementChart=T.p.loadElementTableJson(I,v,a),this.races=h,this.raceOrder=f.raceOrder,f.appCssClasses.includes("smtsj"))for(const[g,R]of Object.entries({Beast:"UMA",Genma:"Fiend",Deity:"Enigma"}))this.fissionChart[R]=this.fissionChart[g]}getLightDark(f){return-1!==O.LIGHT_RACES.indexOf(f)?1:-1!==O.DARK_RACES.indexOf(f)?-1:0}}return O})();var E=m(6947),j=m(609),Y=m(1939),L=m(2755),H=m(1090),G=m(2598),w=m(9617),K=m(8935);let W=(()=>{class O extends j.d{constructor(f,h,D){const v=D.url.split("/"),I=Object.keys(f.configs)[0],a=f.configs[v[2]||v[1]]||f.configs[v[1]]||f.configs[I],g=h.supportedLanguages.includes(v[1])?v[1]:"en",R={"-":[a.defaultRecipeDemon]},S=h.translateRaces(a.races,g),y={appTitle:h.translateAppTitle(a.appTitle,g),lang:g,races:S,raceOrder:S.reduce((N,x,$)=>(N[x]=$,N),{}),appCssClasses:a.appCssClasses,affinityElems:a.affinityElems,skillData:a.skillData.map(N=>h.translateSkillData(N,g)),skillElems:a.skillElems,elemOrder:a.elemOrder,resistCodes:a.resistCodes,affinityBonuses:a.affinityBonuses,lvlModifier:a.lvlModifier,maxSkillSlots:a.maxSkillSlots,hasLightDark:a.hasLightDark,hasSkillRanks:a.hasSkillRanks,hasNonelemInheritance:a.hasNonelemInheritance,demonData:a.demonData.map(N=>h.translateDemonData(N,g)),fusionSpells:h.translateFusionSpells(a.fusionSpells,g),evolveData:h.translateEvolutions(a.evolveData,g),alignments:a.alignments,baseStats:h.translateElems(a.baseStats,g),resistElems:a.resistElems,ailmentElems:h.translateElems(a.ailmentElems,g),demonUnlocks:h.translateDemonUnlocks(a.demonUnlocks,g),normalTable:h.translateFusionChart(a.normalTable,g),elementTable:h.translateFusionChart(a.elementTable,g),specialRecipes:h.translateSpecialRecipes(a.specialRecipes,g),defaultRecipeDemon:h.translateSpecialRecipes(R,g)["-"][0],elementRace:h.translateRaces([a.elementRace],g)[0],settingsKey:h.translateSettingsKey(a.settingsKey,g),settingsVersion:a.settingsVersion},M=new Y.U(y.demonUnlocks,[]);super(new U(y,M.demonToggles),new e(y),M,y.settingsKey,y.settingsVersion),this.fissionCalculator=E.ov,this.fusionCalculator=E.nv,this.compConfig=y,this.appName=y.appTitle+(0,L.o)(H.fu.FusionCalculator,y.lang)}static{this.\u0275fac=function(h){return new(h||O)(G.KVO(E.HI),G.KVO(w.i),G.KVO(K.Ix))}}static{this.\u0275prov=G.jDH({token:O,factory:O.\u0275fac})}}return O})()},4503:(e1,B,m)=>{m.d(B,{G:()=>Y});var P=m(4341),U=m(177),T=m(3887),e=m(9447),E=m(4938),j=m(2598);let Y=(()=>{class L{static forRoot(){return{ngModule:L}}static{this.\u0275fac=function(w){return new(w||L)}}static{this.\u0275mod=j.$C({type:L})}static{this.\u0275inj=j.G2t({imports:[U.MD,T.G,P.X1,e.$,E.S]})}}return L})()}}]);