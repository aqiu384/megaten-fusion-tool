"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[261],{9436:(S,$,c)=>{c.d($,{d:()=>u});var D=c(1090),e=c(2598),b=c(177),d=c(4207);function T(a,m){if(1&a&&(e.j41(0,"th",4),e.EFF(1,"Inheritable Skills"),e.k0s()),2&a){const r=e.XpG();e.BMQ("colspan",r.inheritHeaders.length)}}function I(a,m){if(1&a&&(e.j41(0,"th",4),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&a){const r=e.XpG();e.BMQ("colspan",r.inheritHeaders.length),e.R7$(1),e.SpI(" ",e.i5U(2,2,r.msgs.SkillAffinities,r.lang)," ")}}function R(a,m){if(1&a&&(e.qex(0),e.EFF(1),e.bVm()),2&a){const r=e.XpG().$implicit;e.R7$(1),e.JRh(r)}}function O(a,m){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const r=e.XpG().$implicit;e.ZvI("element-icon ",r,""),e.R7$(1),e.JRh(r)}}function W(a,m){if(1&a&&(e.j41(0,"th"),e.DNE(1,R,2,1,"ng-container",3),e.DNE(2,O,2,4,"div",5),e.k0s()),2&a){const r=e.XpG();e.xc7("width",100/r.inheritHeaders.length,"%"),e.R7$(1),e.Y8G("ngIf",!r.hasIcons),e.R7$(1),e.Y8G("ngIf",r.hasIcons)}}function C(a,m){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const r=m.$implicit;e.xc7("color",r?null:"transparent"),e.R7$(1),e.SpI(" ",r?"yes":"no"," ")}}function l(a,m){if(1&a&&(e.j41(0,"tr"),e.DNE(1,C,2,3,"td",6),e.k0s()),2&a){const r=e.XpG();e.R7$(1),e.Y8G("ngForOf",r.inherits)}}function p(a,m){if(1&a&&(e.j41(0,"td"),e.nI1(1,"roundInheritPercent"),e.EFF(2),e.k0s()),2&a){const r=m.$implicit;e.ZvI("affinity",e.bMT(1,4,r),""),e.R7$(2),e.SpI(" ",r,"% ")}}function f(a,m){if(1&a&&(e.j41(0,"tr"),e.DNE(1,p,3,6,"td",7),e.k0s()),2&a){const r=e.XpG();e.R7$(1),e.Y8G("ngForOf",r.inherits)}}function _(a,m){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.nI1(2,"affinityToString"),e.k0s()),2&a){const r=m.$implicit;e.ZvI("affinity",r,""),e.R7$(1),e.SpI(" ",e.bMT(2,4,r)," ")}}function F(a,m){if(1&a&&(e.j41(0,"tr"),e.DNE(1,_,3,6,"td",7),e.k0s()),2&a){const r=e.XpG();e.R7$(1),e.Y8G("ngForOf",r.inherits)}}let u=(()=>{class a{constructor(){this.inheritHeaders=[],this.inherits=[],this.hasChance=!1,this.hasIcons=!0,this.hasLvls=!1,this.lang="en",this.msgs=D.dx}static{this.\u0275fac=function(v){return new(v||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-demon-inherits"]],inputs:{inheritHeaders:"inheritHeaders",inherits:"inherits",hasChance:"hasChance",hasIcons:"hasIcons",hasLvls:"hasLvls",lang:"lang"},decls:11,vars:6,consts:[[1,"entry-table"],["class","title",4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"title"],[3,"class",4,"ngIf"],[3,"color",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(v,k){1&v&&(e.j41(0,"table",0)(1,"thead")(2,"tr"),e.DNE(3,T,2,1,"th",1),e.DNE(4,I,3,5,"th",1),e.k0s(),e.j41(5,"tr"),e.DNE(6,W,3,4,"th",2),e.k0s()(),e.j41(7,"tbody"),e.DNE(8,l,2,1,"tr",3),e.DNE(9,f,2,1,"tr",3),e.DNE(10,F,2,1,"tr",3),e.k0s()()),2&v&&(e.R7$(3),e.Y8G("ngIf",!k.hasLvls),e.R7$(1),e.Y8G("ngIf",k.hasLvls&&k.inheritHeaders.length),e.R7$(2),e.Y8G("ngForOf",k.inheritHeaders),e.R7$(2),e.Y8G("ngIf",!k.hasLvls&&!k.hasChance),e.R7$(1),e.Y8G("ngIf",k.hasChance),e.R7$(1),e.Y8G("ngIf",k.hasLvls))},dependencies:[b.Sq,b.bT,d.uz,d.XM,d.D8],encapsulation:2,changeDetection:0})}}return a})()},5707:(S,$,c)=>{c.d($,{S:()=>ze});var D=c(8935),e=c(2598),b=c(6446),d=c(177),T=c(5583);const I=function(){return{title:"Demon List",link:"demons"}},R=function(n){return[n]};let O=(()=>{class n{constructor(t){this.appCssClasses=t.compConfig.appCssClasses}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(b.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p4-compendium"]],decls:1,vars:7,consts:[[3,"ngClass","mainList","hasSettings","otherLinks"]],template:function(i,s){1&i&&e.nrm(0,"app-demon-compendium",0),2&i&&e.Y8G("ngClass",s.appCssClasses)("mainList","persona")("hasSettings",!1)("otherLinks",e.eq3(5,R,e.lJ4(4,I)))},dependencies:[d.YU,T.f],styles:['.mib div.element-icon.s1h{background-image:url(/assets/images/elem-sprites.svg#swo)}.mib div.element-icon.sla,.mib div.element-icon.s2h{background-image:url(/assets/images/elem-sprites.svg#s2h)}.mib div.element-icon.spr{background-image:url(/assets/images/elem-sprites.svg#spr)}.mib div.element-icon.axe{background-image:url(/assets/images/elem-sprites.svg#axe)}.mib div.element-icon.whi{background-image:url(/assets/images/elem-sprites.svg#whi)}.mib div.element-icon.thr{background-image:url(/assets/images/elem-sprites.svg#thr)}.mib div.element-icon.arr{background-image:url(/assets/images/elem-sprites.svg#arr)}.mib div.element-icon.str,.mib div.element-icon.fis{background-image:url(/assets/images/elem-sprites.svg#fis)}.mib div.element-icon.hgn{background-image:url(/assets/images/elem-sprites.svg#gun)}.mib div.element-icon.agn{background-image:url(/assets/images/elem-sprites.svg#aut)}.mib div.element-icon.sgn{background-image:url(/assets/images/elem-sprites.svg#sho)}.mib div.element-icon.gun,.mib div.element-icon.rif{background-image:url(/assets/images/elem-sprites.svg#rif)}.mib div.element-icon.hav,.mib div.element-icon.tec{background-image:url(/assets/images/elem-sprites.svg#phy)}.mib div.element-icon.rus{background-image:url(/assets/images/elem-sprites.svg#rus)}.p1 div.element-icon.i14,.p2 div.element-icon.i5,.mib div.element-icon.fir{background-image:url(/assets/images/elem-sprites.svg#fir)}.p1 div.element-icon.i15,.mib div.element-icon.ice{background-image:url(/assets/images/elem-sprites.svg#ice)}.p2 div.element-icon.i6,.mib div.element-icon.wat{background-image:url(/assets/images/elem-sprites.svg#wat)}.p1 div.element-icon.i16,.p2 div.element-icon.i7,.mib div.element-icon.win{background-image:url(/assets/images/elem-sprites.svg#win)}.p1 div.element-icon.i17,.p2 div.element-icon.i8,.mib div.element-icon.ear{background-image:url(/assets/images/elem-sprites.svg#ear)}.p1 div.element-icon.i18,.mib div.element-icon.ele{background-image:url(/assets/images/elem-sprites.svg#ele)}.p1 div.element-icon.i19,.mib div.element-icon.nuk{background-image:url(/assets/images/elem-sprites.svg#nuk)}.p1 div.element-icon.i20,.mib div.element-icon.bla{background-image:url(/assets/images/elem-sprites.svg#for)}.p1 div.element-icon.i21,.mib div.element-icon.gra{background-image:url(/assets/images/elem-sprites.svg#psy)}.p1 div.element-icon.i22,.mib div.element-icon.lig,.mib div.element-icon.exp{background-image:url(/assets/images/elem-sprites.svg#lig)}.p1 div.element-icon.i23,.mib div.element-icon.mir{background-image:url(/assets/images/elem-sprites.svg#smt-alm)}.p1 div.element-icon.i24,.mib div.element-icon.dar,.mib div.element-icon.dea{background-image:url(/assets/images/elem-sprites.svg#smt-dar)}.p1 div.element-icon.i25,.mib div.element-icon.cur{background-image:url(/assets/images/elem-sprites.svg#paralyze)}.mib div.element-icon.min{background-image:url(/assets/images/elem-sprites.svg#panic)}.p1 div.element-icon.i26,.mib div.element-icon.ner{background-image:url(/assets/images/elem-sprites.svg#per-ail)}.p1 div.element-icon.i28,.mib div.element-icon.ail,.mib div.element-icon.occ{background-image:url(/assets/images/elem-sprites.svg#per-dar)}.p1 div.element-icon.i29,.mib div.element-icon.rec,.mib div.element-icon.ble{background-image:url(/assets/images/elem-sprites.svg#per-rec)}.p1 div.element-icon.i30,.mib div.element-icon.sup,.mib div.element-icon.pra{background-image:url(/assets/images/elem-sprites.svg#per-sup)}.p1 div.element-icon.i32,.p2 div.element-icon.i17,.mib div.element-icon.spe,.mib div.element-icon.alm{background-image:url(/assets/images/elem-sprites.svg#per-alm)}.p1 div.target-icon{height:52px;background-size:52px;background-repeat:no-repeat;background-position:center;color:transparent}.p1 div.target-icon.a101000{background-image:url(/assets/images/target-sprites.svg#a101000)}.p1 div.target-icon.a101010{background-image:url(/assets/images/target-sprites.svg#a101010)}.p1 div.target-icon.a201020{background-image:url(/assets/images/target-sprites.svg#a201020)}.p1 div.target-icon.a202010{background-image:url(/assets/images/target-sprites.svg#a202010)}.p1 div.target-icon.a202020{background-image:url(/assets/images/target-sprites.svg#a202020)}.p1 div.target-icon.a303030{background-image:url(/assets/images/target-sprites.svg#a303030)}.p1 div.target-icon.a303132{background-image:url(/assets/images/target-sprites.svg#a303132)}.p1 div.target-icon.a505050{background-image:url(/assets/images/target-sprites.svg#a505050)}.p1 div.target-icon.a540000{background-image:url(/assets/images/target-sprites.svg#a540000)}.p1 div.target-icon.a606060{background-image:url(/assets/images/target-sprites.svg#a606060)}.p1 div.target-icon.a636363{background-image:url(/assets/images/target-sprites.svg#a636363)}.p1 div.target-icon.a727272{background-image:url(/assets/images/target-sprites.svg#a727272)}.p1 div.target-icon.a904010{background-image:url(/assets/images/target-sprites.svg#a904010)}.p1 div.target-icon.a909000{background-image:url(/assets/images/target-sprites.svg#a909000)}.p1 div.target-icon.a909090{background-image:url(/assets/images/target-sprites.svg#a909090)}.p1 div.target-icon.a949494{background-image:url(/assets/images/target-sprites.svg#a949494)}.p1-fusion-table td.sec:after,.p1 tr.fusion-color.second td.price:after{content:"\\2191"}.p1-fusion-table td.fir:after,.p1 tr.fusion-color.first td.price:after{content:"\\2192"}.p1-fusion-table td.non:after,.p1 tr.fusion-color.none td.price:after{content:"\\25cb"}.p1-fusion-table td.unf:after,.p1 tr.fusion-color.unfav td.price:after{content:"\\2193"}.p1-fusion-table td.blu,.p1 tr.fusion-color.blue td.price{color:#0ff}.p1-fusion-table td.red,.p1 tr.fusion-color.red td.price{color:tomato}.p1 td.lvl111,.p1 td.lvl115{color:red}.p1 td.lvl112,.p1 td.lvl116{color:orange}.p1 td.lvl113,.p1 td.lvl117{color:#f0f}.p1 td.lvl114,.p1 td.lvl118{color:#0ff}.p1 th.title,.p1 th.nav.active,.p1 th.nav.active a{color:#000;background-color:#a9a9a9}.p2t th.title,.p2t th.nav.active,.p2t th.nav.active a{color:#fff;background-color:#8b668b}.p2b th.title,.p2b th.nav.active,.p2b th.nav.active a{color:#fff;background-color:#b3668b}\n'],encapsulation:2,changeDetection:0})}}return n})();var W=c(9404),C=c(345),l=c(9629);let p=(()=>{class n extends W.M{constructor(t,i,s,g){super(t,s,g),this.showAllies=!i.snapshot.data.showEnemies,this.showEnemies=!this.showAllies,this.compConfig=g.compConfig,this.defaultSortFun=(h,M)=>200*(this.compConfig.raceOrder[h.race]-this.compConfig.raceOrder[M.race])+M.lvl-h.lvl,this.appName=`List of Personas - ${g.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Demons - ${g.appName}`,this.statHeaders=this.compConfig.enemyStats)}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(C.hE),e.rXU(D.nX),e.rXU(e.gRc),e.rXU(b.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(i,s){1&i&&(e.nrm(0,"app-smt-demon-list",0),e.nI1(1,"async")),2&i&&e.Y8G("isEnemy",s.showEnemies)("raceOrder",s.compConfig.raceOrder)("statHeaders",s.statHeaders)("resistHeaders",s.resistHeaders)("inheritOrder",s.inheritOrder)("rowData",e.bMT(1,6,s.demons))},dependencies:[l.F,d.Jj],encapsulation:2,changeDetection:0})}}return n})();var f=c(3515),_=c(5692),F=c(3679),u=c(2223),a=c(302),m=c(9436),r=c(1538);function v(n,o){if(1&n&&(e.j41(0,"li")(1,"a",7),e.EFF(2),e.k0s()()),2&n){const t=o.$implicit;e.R7$(1),e.Mz_("routerLink","../",t,""),e.R7$(1),e.SpI("",t," ")}}function k(n,o){if(1&n&&(e.j41(0,"li")(1,"a",7),e.EFF(2),e.k0s()()),2&n){const t=o.$implicit;e.R7$(1),e.Mz_("routerLink","../",t,""),e.R7$(1),e.SpI("",t," ")}}function z(n,o){if(1&n&&(e.j41(0,"ul",5),e.DNE(1,k,3,2,"li",4),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.names2)}}function Q(n,o){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.SpI("",t," ")}}function x(n,o){if(1&n&&(e.j41(0,"ul",5),e.DNE(1,Q,2,1,"li",4),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("ngForOf",t.names2)}}function Z(n,o){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td")(4,"ul",5),e.DNE(5,v,3,2,"li",4),e.k0s()(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.DNE(11,z,2,1,"ul",6),e.DNE(12,x,2,1,"ul",6),e.k0s()()),2&n){const t=o.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.price),e.R7$(3),e.Y8G("ngForOf",t.names1),e.R7$(2),e.JRh(t.lvl1),e.R7$(2),e.JRh(t.lvl2),e.R7$(2),e.Y8G("ngIf",i.leftHeader===i.rightHeader),e.R7$(1),e.Y8G("ngIf",i.leftHeader!==i.rightHeader)}}let q=(()=>{class n{constructor(){this.leftHeader="Ingredient",this.rightHeader="Ingredient",this.resultName="Result"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-fusion-multi-pair-table"]],inputs:{leftHeader:"leftHeader",rightHeader:"rightHeader",resultName:"resultName",rowData:"rowData"},decls:23,vars:6,consts:[[1,"entry-table"],["colspan","5",1,"title"],["rowspan","2"],["colspan","3"],[4,"ngFor","ngForOf"],[1,"comma-list"],["class","comma-list",4,"ngIf"],[3,"routerLink"]],template:function(i,s){1&i&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr")(6,"th",2),e.EFF(7,"Price"),e.k0s(),e.j41(8,"th",3),e.EFF(9),e.k0s(),e.j41(10,"th"),e.EFF(11),e.k0s()(),e.j41(12,"tr")(13,"th"),e.EFF(14,"Names"),e.k0s(),e.j41(15,"th"),e.EFF(16,"MinLvl"),e.k0s(),e.j41(17,"th"),e.EFF(18,"MaxLvl"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Names"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,Z,13,6,"tr",4),e.k0s()()),2&i&&(e.R7$(4),e.E5c("",s.leftHeader," 1 x ",s.rightHeader," 2 = ",s.resultName,""),e.R7$(5),e.SpI("",s.leftHeader," 1"),e.R7$(2),e.SpI("",s.rightHeader," 2"),e.R7$(11),e.Y8G("ngForOf",s.rowData))},dependencies:[d.Sq,d.bT,D.Wk],encapsulation:2,changeDetection:0})}}return n})();var ee=c(2649);function w(n){const o={};for(let t=0;t<n.length;t++)o[n[t]]=t;return o}const P=["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Strength","Hermit","Fortune","Justice","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement","World","Fool"],L=P.concat(["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul","Karma","Fiend","Meta"]).concat(["Gem"]),se=["sword1h","sword2h","spear","axe","whip","thrown","arrow","fist","handgun","autogun","shotgun","rifle","tech","rush"].concat("fire","ice","wind","earth","elec","nuke","blast","gravity","expel","miracle","bless","prayer","death","curse","nerve","occult","almighty","spec");w(L),w(se);var Y=c(8689);const ie={B:0,W:1e5,R:2e5},oe={2:2e4,1:4e4,0:6e4,T:8e4},J={0:null,2e4:"fusion-color blue second",4e4:"fusion-color blue first",6e4:"fusion-color blue none",8e4:"fusion-color blue unfav",12e4:"fusion-color white second",14e4:"fusion-color white first",16e4:"fusion-color white none",18e4:"fusion-color white unfav",22e4:"fusion-color red second",24e4:"fusion-color red first",26e4:"fusion-color red none",28e4:"fusion-color red unfav"},B=Y.d4,j=L.reduce((n,o)=>(n[o]={},n),{});for(let n=0;n<B.length;n++){const o=B[n],t=Array.from(Y.Tj[n]),i=Array.from(Y.B[n]);for(let s=n+1;s<B.length;s++){const g=B[s],h=ie[t[s]]+oe[i[s]];j[o][g]=h,j[g][o]=h}}var U=c(1540),X=c(4207);function me(n,o){if(1&n&&(e.j41(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),e.EFF(4),e.nI1(5,"translateComp"),e.k0s()()(),e.j41(6,"tbody")(7,"tr")(8,"td"),e.EFF(9),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(4),e.JRh(e.i5U(5,2,t.msgs.SpecialFusionCondition,t.lang)),e.R7$(5),e.JRh(t.fusionPrereq)}}function le(n,o){if(1&n&&(e.nrm(0,"app-fusion-entry-table",5),e.nI1(1,"translateComp")),2&n){const t=e.XpG();e.Y8G("lang",t.lang)("title",e.i5U(1,5,t.msgs.SpecialFusionIngredients,t.lang)+t.currentDemon)("baseUrl",t.hasFissionFromDemons?"../../demons":"../..")("rowData",t.fusionEntries)("isFusion",!0)}}function ce(n,o){if(1&n&&(e.nrm(0,"app-fusion-pair-table",6),e.nI1(1,"translateComp"),e.nI1(2,"translateComp"),e.nI1(3,"translateComp")),2&n){const t=e.XpG();e.Y8G("lang",t.lang)("title",e.i5U(1,8,t.msgs.Title,t.lang)+t.currentDemon)("leftHeader",e.i5U(2,11,t.msgs.LeftHeader,t.lang))("rightHeader",e.i5U(3,14,t.msgs.RightHeader,t.lang))("leftBaseUrl",t.hasFissionFromDemons?"../../demons":"../..")("rightBaseUrl",t.hasFissionFromDemons?"../../demons":"../..")("raceOrder",t.fusionChart.raceOrder)("rowData",t.fusionPairs)}}let pe=(()=>{class n extends ee.J{constructor(){super(...arguments),this.hasFissionFromDemons=!0,this.toFusionPair=t=>i=>function re(n,o){const t=o.getDemon(n.name1),i=o.getDemon(n.name2),s=j[t.race][i.race]||0;return{price:s+t.price+i.price,race1:t.race,lvl1:t.lvl,name1:n.name1,race2:i.race,lvl2:i.lvl,name2:n.name2,notes:J[s]}}(i,this.compendium)}static{this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fission-table"]],features:[e.Vt3],decls:3,vars:3,consts:[["class","list-table",4,"ngIf"],[3,"lang","title","baseUrl","rowData","isFusion",4,"ngIf"],[3,"lang","title","leftHeader","rightHeader","leftBaseUrl","rightBaseUrl","raceOrder","rowData",4,"ngIf"],[1,"list-table"],[1,"title"],[3,"lang","title","baseUrl","rowData","isFusion"],[3,"lang","title","leftHeader","rightHeader","leftBaseUrl","rightBaseUrl","raceOrder","rowData"]],template:function(i,s){1&i&&(e.DNE(0,me,10,5,"table",0),e.DNE(1,le,2,8,"app-fusion-entry-table",1),e.DNE(2,ce,4,17,"app-fusion-pair-table",2)),2&i&&(e.Y8G("ngIf",s.fusionPrereq),e.R7$(1),e.Y8G("ngIf",s.fusionEntries.length),e.R7$(1),e.Y8G("ngIf",s.fusionPairs.length||!s.fusionEntries.length))},dependencies:[d.bT,r.a,U.cK,X.uz],encapsulation:2,changeDetection:0})}}return n})();var ue=c(8696),he=c(3452);let de=(()=>{class n extends he.y{constructor(){super(...arguments),this.hasFusionToPersonas=!0,this.toFusionPair=t=>i=>function ae(n,o,t){const i=t.getDemon(n),s=t.getDemon(o.name1),g=t.getDemon(o.name2),h=j[i.race][s.race]||0;return{price:h+i.price+s.price,race1:s.race,lvl1:s.lvl,name1:o.name1,race2:g.race,lvl2:g.lvl,name2:o.name2,notes:J[h]}}(t,i,this.compendium)}static{this.\u0275fac=function(){let t;return function(s){return(t||(t=e.xGo(n)))(s||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fusion-table"]],features:[e.Vt3],decls:4,vars:17,consts:[[3,"lang","title","leftHeader","rightHeader","leftBaseUrl","rightBaseUrl","raceOrder","rowData"]],template:function(i,s){1&i&&(e.nrm(0,"app-fusion-pair-table",0),e.nI1(1,"translateComp"),e.nI1(2,"translateComp"),e.nI1(3,"translateComp")),2&i&&e.Y8G("lang",s.lang)("title",s.currentDemon+e.i5U(1,8,s.msgs.Title,s.lang))("leftHeader",e.i5U(2,11,s.msgs.LeftHeader,s.lang))("rightHeader",e.i5U(3,14,s.msgs.RightHeader,s.lang))("leftBaseUrl","../..")("rightBaseUrl",s.hasFusionToPersonas?"../../personas":"../..")("raceOrder",s.fusionChart.raceOrder)("rowData",s.fusionPairs)},dependencies:[U.cK,X.uz],encapsulation:2,changeDetection:0})}}return n})();function ge(n,o){if(1&n&&e.nrm(0,"app-demon-resists",3),2&n){const t=e.XpG();e.Y8G("resistHeaders",t.compConfig.presistElems)("resists",t.demon.presists)}}function fe(n,o){1&n&&e.nrm(0,"app-p1-fusion-table")}const ve=function(){return["Traits","Drops"]};let _e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:11,vars:28,consts:[[3,"title","price","statHeaders","stats","fusionHeaders","inherits"],[3,"title","statHeaders","stats"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"title","hasLvl","hasTarget","elemOrder","compendium","skillLevels"],[4,"ngIf"]],template:function(i,s){1&i&&(e.j41(0,"app-demon-stats",0)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()(),e.nrm(5,"app-demon-stats",1),e.DNE(6,ge,1,2,"app-demon-resists",2),e.nrm(7,"app-demon-resists",3)(8,"app-demon-skills",4)(9,"app-demon-skills",4),e.DNE(10,fe,1,0,"app-p1-fusion-table",5)),2&i&&(e.Y8G("title","Lvl "+s.demon.lvl+" "+s.demon.race+" "+s.demon.name)("price",s.demon.price)("statHeaders",s.compConfig.enemyStats)("stats",s.demon.stats)("fusionHeaders",e.lJ4(27,ve))("inherits",s.demon.inherits),e.R7$(2),e.JRh(s.demon.trait),e.R7$(2),e.JRh(s.demon.drop),e.R7$(1),e.Y8G("title","Stats")("statHeaders",s.compConfig.baseStats)("stats",s.demon.atks),e.R7$(1),e.Y8G("ngIf",s.compConfig.presistElems.length),e.R7$(1),e.Y8G("resistHeaders",s.compConfig.mresistElems)("resists",s.demon.mresists),e.R7$(1),e.Y8G("title","Transferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.transfers),e.R7$(1),e.Y8G("title","Nontransferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.skills),e.R7$(1),e.Y8G("ngIf","p1"===s.compConfig.appCssClasses[0]))},dependencies:[d.bT,F.C,u.w,a.F,de],encapsulation:2,changeDetection:0})}}return n})();function Ce(n,o){if(1&n&&(e.j41(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),e.EFF(4,"Special Fusion Condition"),e.k0s()()(),e.j41(5,"tbody")(6,"tr")(7,"td"),e.EFF(8),e.k0s()()()()),2&n){const t=e.XpG(2);e.R7$(8),e.JRh(t.demon.prereq)}}function be(n,o){if(1&n&&e.nrm(0,"app-fusion-entry-table",13),2&n){const t=e.XpG(2);e.Y8G("title","Mutates From")("baseUrl","..")("rowData",t.mutatesFrom)}}function Fe(n,o){if(1&n&&e.nrm(0,"app-fusion-entry-table",13),2&n){const t=e.XpG(2);e.Y8G("title","Mutates To")("baseUrl","..")("rowData",t.mutatesTo)}}function Re(n,o){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t)}}function Ee(n,o){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t)}}function De(n,o){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.DNE(3,Ee,2,1,"td",7),e.k0s()),2&n){const t=o.$implicit,i=o.index;e.R7$(2),e.JRh(i+1),e.R7$(1),e.Y8G("ngForOf",t)}}function Te(n,o){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t)}}function ke(n,o){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t)}}function ye(n,o){if(1&n&&e.nrm(0,"app-demon-resists",9),2&n){const t=e.XpG(2);e.Y8G("resistHeaders",t.compConfig.presistElems)("resists",t.demon.presists)}}function $e(n,o){if(1&n&&e.nrm(0,"app-fusion-multi-pair-table",14),2&n){const t=e.XpG(2);e.Y8G("resultName",t.name)("leftHeader","Recipe")("rightHeader","Gem")("rowData",t.elemRecipes)}}function Ie(n,o){1&n&&e.nrm(0,"app-p1-fission-table")}const Oe=function(){return["Traits","Returns"]};function We(n,o){if(1&n&&(e.qex(0),e.j41(1,"app-demon-stats",2)(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s()(),e.DNE(6,Ce,9,1,"table",3),e.DNE(7,be,1,3,"app-fusion-entry-table",4),e.DNE(8,Fe,1,3,"app-fusion-entry-table",4),e.j41(9,"table",5)(10,"thead")(11,"tr")(12,"th",6),e.EFF(13,"Stat Growths"),e.k0s()(),e.j41(14,"tr")(15,"th"),e.EFF(16,"Rank"),e.k0s(),e.DNE(17,Re,2,1,"th",7),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,De,4,2,"tr",7),e.k0s()(),e.j41(20,"table",5)(21,"thead")(22,"tr")(23,"th",6),e.EFF(24,"Party Affinities"),e.k0s()(),e.j41(25,"tr"),e.DNE(26,Te,2,1,"th",7),e.k0s()(),e.j41(27,"tbody")(28,"tr"),e.DNE(29,ke,2,1,"td",7),e.k0s()()(),e.DNE(30,ye,1,2,"app-demon-resists",8),e.nrm(31,"app-demon-resists",9)(32,"app-demon-inherits",10)(33,"app-demon-skills",11),e.DNE(34,$e,1,4,"app-fusion-multi-pair-table",12),e.DNE(35,Ie,1,0,"app-p1-fission-table",0),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("title","Lvl "+t.demon.lvl+" "+t.demon.race+" "+t.demon.name)("statHeaders",t.compConfig.baseAtks)("stats",t.demon.atks)("inherits",t.demon.inherits)("fusionHeaders",e.lJ4(27,Oe)),e.R7$(2),e.JRh(t.demon.trait),e.R7$(2),e.JRh(t.demon.drop),e.R7$(1),e.Y8G("ngIf",t.demon.prereq),e.R7$(1),e.Y8G("ngIf",t.mutatesFrom.length),e.R7$(1),e.Y8G("ngIf",t.mutatesTo.length),e.R7$(4),e.BMQ("colSpan",t.compConfig.baseStats.length+1),e.R7$(5),e.Y8G("ngForOf",t.compConfig.baseStats),e.R7$(2),e.Y8G("ngForOf",t.statGrowths),e.R7$(4),e.BMQ("colSpan",t.compConfig.party.length),e.R7$(3),e.Y8G("ngForOf",t.compConfig.party),e.R7$(3),e.Y8G("ngForOf",t.partyAffines),e.R7$(1),e.Y8G("ngIf",t.compConfig.presistElems.length),e.R7$(1),e.Y8G("resistHeaders",t.compConfig.mresistElems)("resists",t.demon.mresists),e.R7$(1),e.Y8G("inheritHeaders",t.compConfig.inheritElems)("inherits",t.demon.affinities),e.R7$(1),e.Y8G("elemOrder",t.compConfig.elemOrder)("hasTarget",!0)("compendium",t.compendium)("skillLevels",t.demon.skills),e.R7$(1),e.Y8G("ngIf",t.elemRecipes.length),e.R7$(1),e.Y8G("ngIf","p1"===t.compConfig.appCssClasses[0])}}function Ge(n,o){if(1&n&&e.nrm(0,"app-demon-missing",15),2&n){const t=e.XpG();e.Y8G("name",t.name)}}function Se(n,o){if(1&n&&e.nrm(0,"app-demon-entry",2),2&n){const t=e.XpG();e.Y8G("name",t.name)("demon",t.demon)("elemRecipes",t.elemRecipes)("compConfig",t.compConfig)("compendium",t.compendium)}}function He(n,o){if(1&n&&e.nrm(0,"app-enemy-entry",3),2&n){const t=e.XpG();e.Y8G("name",t.name)("demon",t.demon)("compConfig",t.compConfig)("compendium",t.compendium)}}let Ne=(()=>{class n{constructor(){this.affinityLookup={11264:"Great",12308:"Good",13352:"Norm",14396:"Bad",14416:"Worst"}}ngOnChanges(){const t=[this.demon.stats];for(const i of this.compendium.getStatGrowths(this.demon.growth))t.push(t[t.length-1].map((s,g)=>s+i[g]));this.statGrowths=t,this.partyAffines=this.demon.party.map(i=>this.affinityLookup[i]),this.mutatesTo=this.compendium.reverseLookupSpecial(this.demon.name).map(i=>this.compendium.getDemon(i)).map(i=>({price:i.atks[0],race1:i.race,lvl1:i.lvl,name1:i.name})),this.mutatesFrom=this.compendium.getSpecialNameEntries(this.demon.name).map(i=>this.compendium.getDemon(i)).map(i=>({price:i.atks[0],race1:i.race,lvl1:i.lvl,name1:i.name}))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",elemRecipes:"elemRecipes",compendium:"compendium",compConfig:"compConfig"},features:[e.OA$],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","statHeaders","stats","inherits","fusionHeaders"],["class","entry-table",4,"ngIf"],[3,"title","baseUrl","rowData",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"inheritHeaders","inherits"],[3,"elemOrder","hasTarget","compendium","skillLevels"],[3,"resultName","leftHeader","rightHeader","rowData",4,"ngIf"],[3,"title","baseUrl","rowData"],[3,"resultName","leftHeader","rightHeader","rowData"],[3,"name"]],template:function(i,s){1&i&&(e.DNE(0,We,36,28,"ng-container",0),e.DNE(1,Ge,1,1,"app-demon-missing",1)),2&i&&(e.Y8G("ngIf",s.demon),e.R7$(1),e.Y8G("ngIf",!s.demon))},dependencies:[d.Sq,d.bT,_.X,F.C,u.w,a.F,m.d,r.a,q,pe],encapsulation:2,changeDetection:0})}}return n})(),A=(()=>{class n{constructor(t,i,s,g,h){this.route=t,this.title=i,this.changeDetectorRef=s,this.currentDemonService=g,this.fusionDataService=h,this.subscriptions=[],this.appName="Test App",this.appName=h.appName,this.compConfig=h.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t,this.getDemonEntry()})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(t=>{this.fusionChart=t,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(t=>{this.name=t,this.getDemonEntry()})),this.route.params.subscribe(t=>{this.currentDemonService.nextCurrentDemon(t.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name),this.elemRecipes=this.demon?(0,f.o4)(this.name,this.compendium,this.fusionChart):[],this.changeDetectorRef.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(D.nX),e.rXU(C.hE),e.rXU(e.gRc),e.rXU(ue.i),e.rXU(b.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","elemRecipes","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","elemRecipes","compConfig","compendium"],[3,"name","demon","compConfig","compendium"]],template:function(i,s){1&i&&(e.DNE(0,Se,1,5,"app-demon-entry",0),e.DNE(1,He,1,4,"app-enemy-entry",1)),2&i&&(e.Y8G("ngIf",!s.demon||!s.demon.isEnemy),e.R7$(1),e.Y8G("ngIf",s.demon&&s.demon.isEnemy))},dependencies:[d.bT,Ne,_e],encapsulation:2,changeDetection:0})}}return n})();var Pe=c(9454),Be=c(2940);let je=(()=>{class n extends Pe.E{constructor(t,i,s){super(t,i,s),this.compConfig=s.compConfig,this.appName=`List of Skills - ${s.appName}`,this.defaultSortFun=(g,h)=>1e4*(this.compConfig.elemOrder[g.element]-this.compConfig.elemOrder[h.element])+g.rank-h.rank}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(C.hE),e.rXU(e.gRc),e.rXU(b.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-skill-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(i,s){1&i&&(e.nrm(0,"app-smt-skill-list",0),e.nI1(1,"async")),2&i&&e.Y8G("elemOrder",s.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Inherit From")("rowData",e.bMT(1,6,s.skills))},dependencies:[Be.p,d.Jj],encapsulation:2,changeDetection:0})}}return n})();function Me(n,o){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}const V=function(n){return[n]};function Ye(n,o){if(1&n&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("ngClass",e.eq3(2,V,t.slice(0,8))),e.R7$(1),e.JRh(t.slice(8,12))}}function we(n,o){if(1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,Ye,2,4,"td",3),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t[0]),e.R7$(1),e.Y8G("ngForOf",t.slice(1,t.length-1)),e.R7$(2),e.JRh(t[t.length-1])}}function Le(n,o){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}function Je(n,o){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}function Ue(n,o){if(1&n&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.Y8G("ngClass",e.eq3(2,V,t.slice(0,4))),e.R7$(1),e.JRh(t.slice(4))}}function Xe(n,o){if(1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,Ue,2,4,"td",3),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&n){const t=o.$implicit;e.R7$(2),e.JRh(t[0]),e.R7$(1),e.Y8G("ngForOf",t.slice(1,t.length-1)),e.R7$(2),e.JRh(t[t.length-1])}}function Ae(n,o){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=o.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}let Ve=(()=>{class n{ngOnChanges(){this.normChart&&this.fillFusionChart()}getColorClass(t,i){const s=this.normChart.fuseColors[t].charAt(i);return"B"===s?"blu":"R"===s?"red":"whi"}getInheritClass(t,i){const s=this.normChart.fuseInherits[t].charAt(i);return"2"===s?"sec":"1"===s?"fir":"T"===s?"unf":"0"===s?"non":"emp"}fillFusionChart(){const t="None",s=[],g=[],h=this.normChart.races,M=this.normChart.elementDemons;s.push([""].concat(h,[""]));for(let E=0;E<h.length;E++){const H=h[E],G=[h[E]];for(let y=0;y<E;y++)G.push("Empt    -");for(let y=E;y<h.length;y++){const N=this.normChart.getRaceFusion(H,h[y])||t;G.push(`${this.getColorClass(E,y)} ${this.getInheritClass(E,y)} ${N}`)}G.push(h[E]),s.push(G)}s.push([""].concat(h,[""])),this.table=s,g.push([""].concat(P,[""]));for(const E of M){const H=[E],G=this.normChart.getElemFusions(E);for(const y of P){const N=(G[y]||t).toString(),K=N.length<2?"+"+N:N;H.push(K.replace("+","ran").replace("-","ra-")+K)}H.push(E),g.push(H)}g.push([""].concat(P,[""])),this.elemTable=g}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fusion-chart"]],inputs:{normChart:"normChart",normTitle:"normTitle",elemTitle:"elemTitle"},features:[e.OA$],decls:20,vars:10,consts:[[1,"p1-fusion-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(i,s){1&i&&(e.j41(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr"),e.DNE(6,Me,2,1,"th",2),e.k0s(),e.DNE(7,we,6,3,"tr",2),e.j41(8,"tr"),e.DNE(9,Le,2,1,"th",2),e.k0s()()(),e.j41(10,"table",0)(11,"tbody")(12,"tr")(13,"th",1),e.EFF(14),e.k0s()(),e.j41(15,"tr"),e.DNE(16,Je,2,1,"th",2),e.k0s(),e.DNE(17,Xe,6,3,"tr",2),e.j41(18,"tr"),e.DNE(19,Ae,2,1,"th",2),e.k0s()()()),2&i&&(e.R7$(3),e.BMQ("colspan",s.table[0].length),e.R7$(1),e.JRh(s.normTitle),e.R7$(2),e.Y8G("ngForOf",s.table[0]),e.R7$(1),e.Y8G("ngForOf",s.table.slice(1,s.table.length-1)),e.R7$(2),e.Y8G("ngForOf",s.table[s.table.length-1]),e.R7$(4),e.BMQ("colspan",s.elemTable[0].length),e.R7$(1),e.JRh(s.elemTitle),e.R7$(2),e.Y8G("ngForOf",s.elemTable[0]),e.R7$(1),e.Y8G("ngForOf",s.elemTable.slice(1,s.elemTable.length-1)),e.R7$(2),e.Y8G("ngForOf",s.elemTable[s.elemTable.length-1]))},dependencies:[d.YU,d.Sq],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.None[_ngcontent-%COMP%], td.emp[_ngcontent-%COMP%]{color:transparent}td.Empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0})}}return n})();const Ke=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:O,data:{fusionTool:"chart"},children:[{path:"chart",component:(()=>{class n{constructor(t,i,s){this.title2=t,this.changeDetectorRef=i,this.fusionDataService=s,this.subscriptions=[]}ngOnInit(){const t=this.fusionDataService.compConfig.appTitle;this.appName=t,this.title2.setTitle(`Fusion Chart - ${t} Fusion Calculator`),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(i=>{this.changeDetectorRef.markForCheck(),this.normChart=i}))}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(C.hE),e.rXU(e.gRc),e.rXU(b.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-fusion-chart-container"]],decls:1,vars:3,consts:[[3,"normChart","normTitle","elemTitle"]],template:function(i,s){1&i&&e.nrm(0,"app-p1-fusion-chart",0),2&i&&e.Y8G("normChart",s.normChart)("normTitle",s.appName+" - Normal Fusions")("elemTitle",s.appName+" - Gem Fusions")},dependencies:[Ve],encapsulation:2,changeDetection:0})}}return n})()}]},{path:"",component:O,children:[{path:"personas/:demonName",component:A},{path:"demons/:demonName",component:A},{path:"personas",component:p},{path:"demons",component:p,data:{showEnemies:!0}},{path:"skills",component:je}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let ze=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[D.iI.forChild(Ke),D.iI]})}}return n})()},6446:(S,$,c)=>{c.d($,{i:()=>W});var D=c(4412);class e{constructor(l){this.compConfig=l,this.specialNameEntries={},this.specialNamePairs={},this.invertedSpecials={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const{demons:l,enemies:p,skills:f}=this.compConfig,_={},F={},u={},a={};for(const[m,r]of Object.entries(this.compConfig.mutations)){u[m]=r;for(const v of r)_[v]||(_[v]=[]),_[v].push(m)}for(const[m,r]of Object.entries(this.compConfig.fusionPrereqs))l[m].prereq=r,"normal"===l[m].fusion&&(l[m].fusion="special"),F[m]=[{name1:m,name2:m}];for(const[m,r]of Object.entries(this.compConfig.specialRecipes))r.length>0?F[m]=[{name1:r[0],name2:r[1]}]:(l[m].prereq="Fusion Accident",l[m].fusion="accident");for(const m of this.compConfig.races)a[m]={};for(const m of Object.values(l).sort((r,v)=>r.lvl-v.lvl)){a[m.race][m.lvl]=m.name;for(const[r,v]of Object.entries(m.skills))f[r].learnedBy.push({demon:m.name,level:v})}for(const m of Object.values(p).sort((r,v)=>r.lvl-v.lvl)){a[m.race][m.lvl]=m.name;for(const[r,v]of Object.entries(m.transfers))f[r].transfer.push({demon:m.name,level:v})}for(const m of Object.values(f))if(""!==m.card)for(const r of m.card.split(", "))l[r]?m.learnedBy.push({demon:r,level:5084}):p[r]&&m.transfer.push({demon:r,level:3680});this.demons=l,this.enemies=p,this.skills=f,this.specialNameEntries=_,this.specialNamePairs=F,this.invertedSpecials=u,this.invertedDemons=a}updateDerivedData(){const l=Object.keys(this.skills).map(u=>this.skills[u]),p={},f={};for(const u of this.compConfig.races)p[u]=[],f[u]=[];for(const[u,a]of Object.entries(this.demons))"normal"===this.demons[u].fusion&&f[a.race].push(a.lvl);for(const[u,a]of Object.entries(this.enemies))p[a.race].push(a.lvl);for(const u of this.compConfig.races)p[u].sort((a,m)=>a-m),f[u].sort((a,m)=>a-m);const _=Object.keys(this.demons).map(u=>this.demons[u]),F=Object.keys(this.enemies).map(u=>this.enemies[u]);this._allDemons=F.concat(_),this._allSkills=l.filter(u=>u.rank<90),this.allIngredients=p,this.allResults=f}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return this._allDemons.filter(l=>"special"===l.fusion)}getDemon(l){return this.enemies[l]||this.demons[l]}getEnemy(l){return this.enemies[l]}getSkill(l){return this.skills[l]}getSkills(l){const p=this.compConfig.elemOrder,f=l.map(_=>this.skills[_]);return f.sort((_,F)=>1e4*(p[_.element]-p[F.element])+_.rank-F.rank),f}getStatGrowths(l){return this.compConfig.growthTypes[l]||[]}getIngredientDemonLvls(l){return this.allIngredients[l]||[]}getResultDemonLvls(l){return this.allResults[l]||[]}getSpecialNameEntries(l){return this.specialNameEntries[l]||[]}getSpecialNamePairs(l){return this.specialNamePairs[l]||[]}getInheritElems(l){return l.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(p=>100*parseInt(p))}reverseLookupDemon(l,p){return this.invertedDemons[l][p]}reverseLookupSpecial(l){return this.invertedSpecials[l]||[]}isElementDemon(l){return!1}updateFusionSettings(l){}}var b=c(8063),d=c(8689);const T=JSON.parse('{"hx":["Alexandrite","Diamond","Sapphire","Emerald","Ruby","Pearl","Tanzanite","Opal","Amethyst","Garnet","Aquamarine","Topaz","Moonstone","Malachite","Onyx","Turquoise"],"d4":["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Hermit","Justice","Sun","Judgement","World","Fool"],"tp":[[1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0,1],[1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,0,1,0],[-2,0,-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2],[1,1,0,0,-1,1,0,1,1,1,-1,1,0,-1,1,0],[1,0,-2,2,-2,0,-1,2,0,1,1,2,-1,1,0,-1],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,1,1,0]]}');class I extends b.p{constructor(l){super(),this.elementDemons=[],this.lvlModifier=2.5,this.initCharts(l)}initCharts(l){const p=d.d4,f=d.tp,_=T.d4,F=T.tp,u=T.hx;this.races=p,this.elementDemons=u,this.raceOrder=l.raceOrder,this.fusionChart=b.p.loadFusionTableJson(p,f),this.fissionChart=b.p.loadFissionTableJson(p,u,f),this.elementChart=b.p.loadElementTableJson(_,u,F),this.fuseColors=d.Tj,this.fuseInherits=d.B}getLightDark(l){return 0}}var R=c(6947),O=c(2598);let W=(()=>{class C{constructor(p){this.fissionCalculator=R.ov,this.fusionCalculator=R.nv,this.settingsKey="p1-fusion-tool-settings",this.lang="en",this._compendium=new e(p),this._compendium$=new D.t(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new I(p),this._fusionChart$=new D.t(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this.compConfig=p,this.appName=p.appTitle+" Fusion Calculator"}updateFusionSettings(p){}static{this.\u0275fac=function(f){return new(f||C)(O.KVO(R.HI))}}static{this.\u0275prov=O.jDH({token:C,factory:C.\u0275fac})}}return C})()},3261:(S,$,c)=>{c.d($,{n:()=>I});var D=c(177),e=c(3887),b=c(9447),d=c(5707),T=c(2598);let I=(()=>{class R{static forRoot(){return{ngModule:R}}static{this.\u0275fac=function(C){return new(C||R)}}static{this.\u0275mod=T.$C({type:R})}static{this.\u0275inj=T.G2t({imports:[D.MD,e.G,b.$,d.S]})}}return R})()},8689:S=>{S.exports=JSON.parse('{"Tj":["-WWRBRWWWRBWRWWBBWW",".-BWWWRBRWWRWBBWWRR","..-WWWRBRWWRWBBWWRR","...-RBWWWBRWBWWRRWW","....-RWWWRBWRWWBBWW",".....-WWWBRWBWWRRWW","......-RBWWBWRRWWBB",".......-RWWRWBBWWRR","........-WWBWRRWWBB",".........-RWBWWRRWW","..........-WRWWBBWW","...........-WRRWWBB","............-WWRRWW",".............-BWWRR","..............-WWRR","...............-BWW","................-WW",".................-B","..................-"],"B":["-2200000011TTTT0000",".-200000011TTTT0000","..-00000011TTTT0000","...-20011000000TTT0","....-0011000000TTT0",".....-2TT0011110000","......-TT0011110000",".......-20000000000","........-0000000000",".........-20000000T","..........-0000000T","...........-2220000","............-220000",".............-20000","..............-0000","...............-221","................-21",".................-1","..................-"],"d4":["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul"],"tp":[["-","Emperor","Magician","Lovers","Devil","Sun","Judgement","Magician","Justice","Hermit","Sun","Priestess","Star","Justice","Death","Lovers","Hanged","Magician","Emperor"],["-","Magician","Lovers","Lovers","Emperor","Emperor","Sun","Justice","Emperor","Temperance","Justice","Emperor","Lovers","Emperor","Temperance","Lovers","Lovers","Temperance"],["-","Priestess","Magician","Hermit","Moon","Hermit","Empress","Priestess","Hermit","Magician","Hierophant","Temperance","Chariot","Judgement","Hermit","Magician","Hanged"],["-","Judgement","Judgement","Devil","Magician","Sun","Priestess","Priestess","Hierophant","Fortune","World","Death","Hierophant","Hanged","Judgement","Priestess"],["-","Temperance","Moon","Judgement","World","Hermit","Tower","Moon","Devil","Empress","Temperance","Moon","Magician","Devil","Moon"],["-","Priestess","Chariot","Empress","World","Chariot","Empress","Hierophant","Hierophant","Justice","Tower","World","Sun","World"],["-","World","Chariot","Justice","Tower","Justice","Chariot","Strength","Hierophant","World","Chariot","World","Hierophant"],["-","Sun","Star","Hanged","Hermit","Empress","Empress","Justice","Justice","Lovers","Judgement","Lovers"],["-","Priestess","Emperor","Empress","Fortune","Emperor","Sun","Sun","Moon","Moon","Judgement"],["-","Chariot","Temperance","Strength","Chariot","Hierophant","Temperance","Chariot","Temperance","Magician"],["-","Sun","Fortune","Strength","Sun","Hermit","Emperor","Judgement","Tower"],["-","Empress","Priestess","Empress","Moon","Empress","Temperance","Priestess"],["-","Hierophant","Justice","Death","Moon","Hermit","Hierophant"],["-","Star","Hermit","World","Star","Strength"],["-","Sun","Chariot","World","Fortune"],["-","Death","Judgement","Moon"],["-","World","Lovers"],["-","Star"],["-"]]}')}}]);