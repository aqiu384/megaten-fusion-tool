"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[636],{9023:(q,W,g)=>{g.d(W,{q:()=>N});var U=g(2755),e=g(1090),n=g(2598),m=g(345),X=g(8935),P=g(177);function S(j,C){if(1&j&&(n.j41(0,"th"),n.EFF(1),n.k0s()),2&j){const R=C.$implicit,b=n.XpG();n.R7$(1),n.JRh(R.slice(0,b.nameCut))}}function x(j,C){if(1&j&&(n.j41(0,"td",4),n.EFF(1),n.k0s()),2&j){const R=C.$implicit,b=n.XpG(2);n.Y8G("ngClass",R.slice(0,4)),n.R7$(1),n.JRh(R.slice(4,b.nameCut+4))}}function J(j,C){if(1&j&&(n.j41(0,"tr")(1,"th"),n.EFF(2),n.k0s(),n.DNE(3,x,2,2,"td",3),n.j41(4,"th"),n.EFF(5),n.k0s()()),2&j){const R=C.$implicit;n.R7$(2),n.JRh(R[0]),n.R7$(1),n.Y8G("ngForOf",R.slice(1,R.length-1)),n.R7$(2),n.JRh(R[R.length-1])}}function w(j,C){if(1&j&&(n.j41(0,"th"),n.EFF(1),n.k0s()),2&j){const R=C.$implicit,b=n.XpG();n.R7$(1),n.JRh(R.slice(0,b.nameCut))}}function H(j,C){if(1&j&&(n.j41(0,"tr")(1,"th",0),n.EFF(2),n.k0s()()),2&j){const R=n.XpG();n.R7$(1),n.BMQ("colspan",R.table[0].length),n.R7$(1),n.Lme("",R.appName," ",R.tripTitle,"")}}class N{static{this.RESULT_COLORS=Object.entries({oran:["-2","Erthys","Gnome","Saki","Saki Mitama","Random","\u30a2\u30fc\u30b7\u30fc\u30ba","\u30ce\u30fc\u30e0","\u30b5\u30ad\u30df\u30bf\u30de"],redd:["-1","Flaemis","Salamander","Ara ","Ara Mitama","Fiend","\u30d5\u30ec\u30a4\u30df\u30fc\u30ba","\u30b5\u30e9\u30de\u30f3\u30c0\u30fc","\u30a2\u30e9\u30df\u30bf\u30de"],gree:["1","Aeros","Sylph","Kusi","Kusi Mitama","UMA","\u30a8\u30a2\u30ed\u30b9","\u30b7\u30eb\u30ad\u30fc","\u30af\u30b7\u30df\u30bf\u30de"],blue:["2","Aquans","Undine","Nigi","Nigi Mitama","Enigma","\u30a2\u30af\u30a2\u30f3\u30ba","\u30a6\u30f3\u30c7\u30a3\u30fc\u30cd","\u30cb\u30ae\u30df\u30bf\u30de"]})}constructor(C,R){this.title2=C,this.route=R,this.normTitle="Normal Fusions",this.tripTitle="",this.isPersona=!1,this.filterDarks=!0,this.lang="en",this.msgs=e.qh,this.subscriptions=[],this.table=[],this.nameCut=4}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(C=>{this.appName=C.appName||"Shin Megami Tensei",this.nameCut=parseInt((0,U.o)(this.msgs.NameCut,C.lang)),this.title2.setTitle((0,U.o)(this.msgs.AppTitle,C.lang).replace("$APP",this.appName))}))}ngOnChanges(){this.normChart&&this.fillFusionChart()}ngOnDestroy(){for(const C of this.subscriptions)C.unsubscribe()}fillFusionChart(){const C="noneNone",b=N.RESULT_COLORS.reduce((F,[E,k])=>k.reduce((t,a)=>(t[a]=E,t),F),{}),_=this.normChart.elementDemons;let A=[],B=this.normChart.races,I=[];this.filterDarks&&(A=this.normChart.races.filter(F=>this.normChart.getLightDark(F)>0),B=this.normChart.races.filter(F=>0===this.normChart.getLightDark(F)),I=this.normChart.races.filter(F=>-1===this.normChart.getLightDark(F)),0===I.length&&A.length>0&&(A=this.normChart.races.filter(F=>this.normChart.getLightDark(F)>-1),B=[],I=this.normChart.races.filter(F=>this.normChart.getLightDark(F)<-1)));const z=A.length-I.length,Y=A.concat(B,_),V=I.length?I.concat(Array(Y.length-I.length).fill("")):Y,Z=this.mitaTable?Y:A.concat(B,Array(_.length).fill("")),K=this.mitaTable||I.length?Array(z).fill("").concat(I,B,_):Y;this.table=[[""].concat(Y,[""])];for(let F=0;F<K.length;F++){const E=Array(Y.length+2).fill("empt-"),k=K[F],t=Z[F],a=-1!==_.indexOf(k),p=-1!==_.indexOf(t);this.table.push(E),E[0]=k,E[E.length-1]=t;for(let r=F;r<Y.length;r++){const o=Y[r],u=-1!==_.indexOf(o);if(u&&p){const l=_.indexOf(t),f=_.indexOf(o),h=this.mitaTable[f][l].replace("-","");E[r+1]=h?(b[h]||"norm")+h:C}else if(u&&t){const l=this.normChart.getElemFusions(o)[t];E[r+1]=l?(b[l]||"rank")+(l>0?"+":"")+l.toString():C}else if(o&&t){const l=this.isPersona&&o===t?o:this.normChart.getRaceFusion(o,t);E[r+1]=l?(b[l]||(o===t?"elem":"norm"))+l:C}}if(this.tripChart)for(let r=0;r<=F-z;r++){const o=V[r];if(o&&a){const u=this.tripChart.getElemFusions(k)[o];E[r+1]=u?(b[u]||"rank")+(u>0?"+":"")+u.toString():C}else if(o&&k){const u=this.tripChart.getRaceFusion(o,k);E[r+1]=u?(b[u]||(o===k?"elem":"trip"))+u:C}}if(-1!==k.indexOf(" x ")){const[r,o]=k.split(" x "),u=r.slice(0,3)+"x"+o.slice(0,3);E[0]=u,E[E.length-1]=u}else if(-1!==k.indexOf(" ")){const r=k.split(" ")[0];E[0]=r,E[E.length-1]=r}}for(let F=0;F<this.table[0].length;F++){const E=this.table[0][F];if(-1!==E.indexOf(" x ")){const[k,t]=E.split(" x ");this.table[0][F]=k.slice(0,2)+t.slice(0,2)}}this.table.push([""].concat(V,[""]))}static{this.\u0275fac=function(R){return new(R||N)(n.rXU(m.hE),n.rXU(X.nX))}}static{this.\u0275cmp=n.VBU({type:N,selectors:[["app-fusion-chart"]],inputs:{normChart:"normChart",tripChart:"tripChart",mitaTable:"mitaTable",normTitle:"normTitle",tripTitle:"tripTitle",isPersona:"isPersona",filterDarks:"filterDarks",lang:"lang",counter:"counter"},features:[n.OA$],decls:12,vars:7,consts:[[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(R,b){1&R&&(n.j41(0,"table")(1,"tbody")(2,"tr")(3,"th",0),n.EFF(4),n.k0s()(),n.j41(5,"tr"),n.DNE(6,S,2,1,"th",1),n.k0s(),n.DNE(7,J,6,3,"tr",1),n.j41(8,"tr"),n.DNE(9,w,2,1,"th",1),n.k0s(),n.DNE(10,H,3,3,"tr",2),n.k0s(),n.nrm(11,"tbody"),n.k0s()),2&R&&(n.R7$(3),n.BMQ("colspan",b.table[0].length),n.R7$(1),n.Lme("",b.appName," ",b.normTitle,""),n.R7$(2),n.Y8G("ngForOf",b.table[0]),n.R7$(1),n.Y8G("ngForOf",b.table.slice(1,b.table.length-1)),n.R7$(2),n.Y8G("ngForOf",b.table[b.table.length-1]),n.R7$(1),n.Y8G("ngIf",b.tripTitle))},dependencies:[P.YU,P.Sq,P.bT],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto;white-space:nowrap}td.elem[_ngcontent-%COMP%]{color:#0f0}td.trip[_ngcontent-%COMP%]{color:#d3d3d3}td.oran[_ngcontent-%COMP%]{color:orange}td.redd[_ngcontent-%COMP%]{color:red}td.gree[_ngcontent-%COMP%]{color:#0f0}td.blue[_ngcontent-%COMP%]{color:#0ff}td.none[_ngcontent-%COMP%]{color:transparent}td.empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0})}}},6122:(q,W,g)=>{g.d(W,{L:()=>j});var U=g(3885),e=g(9108),n=g(1090),m=g(2598),X=g(177),P=g(8935),S=g(4207);const x=function(){return{exact:!0}};function J(C,R){if(1&C&&(m.j41(0,"th",4)(1,"a",5),m.EFF(2),m.nI1(3,"translateComp"),m.k0s()()),2&C){const b=R.$implicit,_=m.XpG();m.xc7("width",100/_.fusionOptions.length,"%"),m.Y8G("routerLink",b.link)("routerLinkActiveOptions",m.lJ4(9,x)),m.R7$(1),m.Y8G("routerLink",b.link),m.R7$(1),m.JRh(m.i5U(3,6,b.title,_.lang))}}function w(C,R){if(1&C&&(m.j41(0,"tr")(1,"th",6),m.EFF(2),m.nI1(3,"translateComp"),m.k0s()()),2&C){const b=m.XpG();m.R7$(1),m.BMQ("colspan",b.fusionOptions.length),m.R7$(1),m.SpI(" ",m.i5U(3,2,b.msgs.DlcExcluded,b.lang)," ")}}function H(C,R){if(1&C&&(m.j41(0,"tr")(1,"th",6),m.SdG(2),m.k0s()()),2&C){const b=m.XpG();m.R7$(1),m.BMQ("colspan",b.fusionOptions.length)}}const N=["*"];let j=(()=>{class C{constructor(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.lang="en",this.msgs=n.Lq,this.fusionOptions=[{title:this.msgs.NormalFissions,link:"fissions"},{title:this.msgs.NormalFusions,link:"fusions"}]}ngOnInit(){this.hasTripleFusion&&(this.fusionOptions=[{title:this.msgs.DoubleFissions,link:"fissions"},{title:this.msgs.TripleFissions,link:"fissions/triple"},{title:this.msgs.TripleFusions,link:"fusions/triple"},{title:this.msgs.DoubleFusions,link:"fusions"}])}ngOnChanges(){setTimeout(()=>this.stickyTable.nextEdges())}static{this.\u0275fac=function(_){return new(_||C)}}static{this.\u0275cmp=m.VBU({type:C,selectors:[["app-smt-fusions"]],viewQuery:function(_,A){if(1&_&&m.GBs(e.a,5),2&_){let B;m.mGM(B=m.lsd())&&(A.stickyTable=B.first)}},inputs:{hasTripleFusion:"hasTripleFusion",showFusionAlert:"showFusionAlert",excludedDlc:"excludedDlc",lang:"lang"},features:[m.Jv_([U.P]),m.OA$],ngContentSelectors:N,decls:11,vars:3,consts:[["appPositionSticky","",1,"list-table"],["stickyTable",""],["class","nav","routerLinkActive","active",3,"routerLink","width","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],[1,"title"]],template:function(_,A){1&_&&(m.NAR(),m.j41(0,"div")(1,"table",0,1)(3,"thead")(4,"tr"),m.DNE(5,J,4,10,"th",2),m.k0s(),m.DNE(6,w,4,5,"tr",3),m.nrm(7,"tr"),m.DNE(8,H,3,1,"tr",3),m.nrm(9,"tr"),m.k0s()(),m.nrm(10,"router-outlet"),m.k0s()),2&_&&(m.R7$(5),m.Y8G("ngForOf",A.fusionOptions),m.R7$(1),m.Y8G("ngIf",A.excludedDlc),m.R7$(2),m.Y8G("ngIf",A.showFusionAlert))},dependencies:[X.Sq,X.bT,P.n3,P.Wk,P.wQ,e.a,S.uz],encapsulation:2,changeDetection:0})}}return C})()},1151:(q,W,g)=>{g.d(W,{S:()=>$});var U=g(8935),e=g(2598),n=g(1057),m=g(177),X=g(5583);let P=(()=>{class i{constructor(s){this.appCssClasses=["smtnes","smt1"],this.appCssClasses=s.compConfig.appCssClasses}static{this.\u0275fac=function(d){return new(d||i)(e.rXU(n.i))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-smt1-compendium"]],decls:1,vars:2,consts:[[3,"ngClass","hasSettings"]],template:function(d,v){1&d&&e.nrm(0,"app-demon-compendium",0),2&d&&e.Y8G("ngClass",v.appCssClasses)("hasSettings",!1)},dependencies:[m.YU,X.f],styles:[".devilsum div.element-icon,.smtnes div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.smtnes div.element-icon.sword{background-image:url(/assets/images/smt4f/sword.png)}.smtnes div.element-icon.gun{background-image:url(/assets/images/smtsj/gun.png)}.smtnes div.element-icon.fire{background-image:url(/assets/images/smtsj/fir.png)}.smtnes div.element-icon.i4{background-image:url(/assets/images/smtsj/fir.png)}.smtnes div.element-icon.ice{background-image:url(/assets/images/smtsj/ice.png)}.smtnes div.element-icon.i5{background-image:url(/assets/images/smtsj/ice.png)}.smtnes div.element-icon.elec{background-image:url(/assets/images/smtsj/ele.png)}.smtnes div.element-icon.i6{background-image:url(/assets/images/smtsj/ele.png)}.smtnes div.element-icon.force{background-image:url(/assets/images/smtsj/win.png)}.smtnes div.element-icon.i7{background-image:url(/assets/images/smtsj/win.png)}.smtnes div.element-icon.nerve{background-image:url(/assets/images/smt4f/panic.png)}.smtnes div.element-icon.almighty{background-image:url(/assets/images/smtsj/alm.png)}.smtnes div.element-icon.i13{background-image:url(/assets/images/smtsj/alm.png)}.smtnes div.element-icon.expel{background-image:url(/assets/images/smtsj/exp.png)}.smtnes div.element-icon.i8{background-image:url(/assets/images/smtsj/exp.png)}.smtnes div.element-icon.death{background-image:url(/assets/images/smtsj/cur.png)}.smtnes div.element-icon.i9{background-image:url(/assets/images/smtsj/cur.png)}.smtnes div.element-icon.curse{background-image:url(/assets/images/smt4f/poison.png)}.smtnes div.element-icon.bind{background-image:url(/assets/images/smt4f/bind.png)}.smtnes div.element-icon.rush{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.punch{background-image:url(/assets/images/smt4f/sword.png)}.smtnes div.element-icon.kick{background-image:url(/assets/images/smtsj/gun.png)}.smtnes div.element-icon.flying{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.energy{background-image:url(/assets/images/smtsj/alm.png)}.smtnes div.element-icon.recovery{background-image:url(/assets/images/smtsj/rec.png)}.smtnes div.element-icon.support{background-image:url(/assets/images/smtsj/sup.png)}.smtnes div.element-icon.special{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.attack{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.tech{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.slash{background-image:url(/assets/images/smt4f/sword.png)}.smtnes div.element-icon.charge{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.blunt{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.handgun{background-image:url(/assets/images/smtsj/gun.png)}.smtnes div.element-icon.penetrate{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.spread{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.mystic{background-image:url(/assets/images/smt4f/poison.png)}.smtnes div.element-icon.mind{background-image:url(/assets/images/smt4f/bind.png)}.smtnes div.element-icon.suicide{background-image:url(/assets/images/smtsj/alm.png)}.smtnes div.element-icon.passive{background-image:url(/assets/images/smtsj/pas.png)}.smtnes div.element-icon.defend{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.phys{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.gro{background-image:url(/assets/images/smt4f/sword.png)}.smtnes div.element-icon.air{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.fir{background-image:url(/assets/images/smtsj/fir.png)}.smtnes div.element-icon.ele{background-image:url(/assets/images/smtsj/ele.png)}.smtnes div.element-icon.for{background-image:url(/assets/images/smtsj/win.png)}.smtnes div.element-icon.gig{background-image:url(/assets/images/smt4f/bind.png)}.smtnes div.element-icon.alm{background-image:url(/assets/images/smtsj/alm.png)}.smtnes div.element-icon.lig{background-image:url(/assets/images/smtsj/exp.png)}.smtnes div.element-icon.dar{background-image:url(/assets/images/smtsj/cur.png)}.smtnes div.element-icon.phy{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.ail{background-image:url(/assets/images/smtsj/ail.png)}.smtnes div.element-icon.rec{background-image:url(/assets/images/smtsj/rec.png)}.smtnes div.element-icon.sup{background-image:url(/assets/images/smtsj/sup.png)}.smtnes div.element-icon.psy{background-image:url(/assets/images/smt4f/panic.png)}.smtnes div.element-icon.spear{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.thrown{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.ailment{background-image:url(/assets/images/smtsj/ail.png)}.smtnes div.element-icon.quad{background-image:url(/assets/images/smt4f/curse.png)}.smtnes div.element-icon.elem{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.none{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.strike{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.i0{background-image:url(/assets/images/smtsj/phy.png)}.smtnes div.element-icon.skill{background-image:url(/assets/images/smt4f/gun.png)}.smtnes div.element-icon.temp{background-image:url(/assets/images/smt4f/smirk.png)}.smtnes div.element-icon.i17{background-image:url(/assets/images/smt4f/smirk.png)}.smtnes div.element-icon.dark{background-image:url(/assets/images/smt4f/curse.png)}.smtnes div.element-icon.i18{background-image:url(/assets/images/smt4f/curse.png)}.smtnes div.element-icon.witch{background-image:url(/assets/images/smtsj/ail.png)}.smtnes div.element-icon.i19{background-image:url(/assets/images/smtsj/ail.png)}.smtnes div.element-icon.rea{background-image:url(/assets/images/smtsj/rec.png)}.smtnes div.element-icon.i20{background-image:url(/assets/images/smtsj/rec.png)}.smtnes div.element-icon.reb{background-image:url(/assets/images/smtsj/sup.png)}.smtnes div.element-icon.i21{background-image:url(/assets/images/smtsj/sup.png)}.smtnes div.element-icon.element{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.hero{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.i22{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.i23{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.i24{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.starter{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.autorec{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.phase{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.explore{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.area{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.plugin{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.self{background-image:url(/assets/images/smtsj/spe.png)}.smtnes div.element-icon.universe{background-image:url(/assets/images/smtsj/spe.png)}.smtnes td.align.ll,.smtnes td.align.nl,.smtnes td.align.dl{color:#0ff}.smtnes td.align.lc,.smtnes td.align.nc,.smtnes td.align.dc{color:tomato}.smtnes td.align.el{color:#0f0}.smtnes td.align.ec{color:gold}.smt1 th.title,.smt1 th.nav.active,.smt1 th.nav.active a{background-color:#608341;color:#fff}.smt2 th.title,.smt2 th.nav.active,.smt2 th.nav.active a{background-color:#2f4f4f;color:#fff}.smtif th.title,.smtif th.nav.active,.smtif th.nav.active a{background-color:#8fbc8f;color:#000}.dsum th.title,.dsum th.nav.active,.dsum th.nav.active a{background-color:#4372aa;color:#fff}.dssh th.title,.dssh th.nav.active,.dssh th.nav.active a{background-color:#302878;color:#fff}.mjn1 th.title,.mjn1 th.nav.active,.mjn1 th.nav.active a{color:#fff;background-color:#004381}.mjn2 th.title,.mjn2 th.nav.active,.mjn2 th.nav.active a{background-color:#514f7e;color:#fff}.smt9 th.title,.smt9 th.nav.active,.smt9 th.nav.active a{background-color:#693cbe;color:#fff}.smtim th.title,.smtim th.nav.active,.smtim th.nav.active a{background-color:#009d96;color:#fff}\n"],encapsulation:2,changeDetection:0})}}return i})();var S=g(9404),x=g(345),J=g(9629);let w=(()=>{class i extends S.M{constructor(s,d,v){super(s,d,v),this.appName=`List of Demons - ${v.appName}`,this.compConfig=v.compConfig,this.defaultSortFun=(M,G)=>200*(this.compConfig.raceOrder[M.race]-this.compConfig.raceOrder[G.race])+G.lvl-M.lvl}static{this.\u0275fac=function(d){return new(d||i)(e.rXU(x.hE),e.rXU(e.gRc),e.rXU(n.i))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-demon-list-container"]],features:[e.Vt3],decls:2,vars:7,consts:[[3,"raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(d,v){1&d&&(e.nrm(0,"app-smt-demon-list",0),e.nI1(1,"async")),2&d&&e.Y8G("raceOrder",v.compConfig.raceOrder)("statHeaders",v.compConfig.baseStats)("resistHeaders",v.compConfig.resistElems)("inheritOrder",v.compConfig.elemOrder)("rowData",e.bMT(1,5,v.demons))},dependencies:[J.F,m.Jj],encapsulation:2,changeDetection:0})}}return i})();var H=g(9454),N=g(2940);let j=(()=>{class i extends H.E{constructor(s,d,v){super(s,d,v),this.appName=`List of Skills - ${v.appName}`,this.compConfig=v.compConfig,this.defaultSortFun=(M,G)=>1e4*(this.compConfig.elemOrder[M.element]-this.compConfig.elemOrder[G.element])+M.rank-G.rank}static{this.\u0275fac=function(d){return new(d||i)(e.rXU(x.hE),e.rXU(e.gRc),e.rXU(n.i))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-skill-list-container"]],features:[e.Vt3],decls:2,vars:6,consts:[[3,"elemOrder","hasRank","hasTarget","rowData"]],template:function(d,v){1&d&&(e.nrm(0,"app-smt-skill-list",0),e.nI1(1,"async")),2&d&&e.Y8G("elemOrder",v.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("rowData",e.bMT(1,4,v.skills))},dependencies:[N.p,m.Jj],encapsulation:2,changeDetection:0})}}return i})();var C=g(9023);function R(i,L){if(1&i&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&i){const s=L.$implicit;e.R7$(1),e.JRh(s.slice(0,4))}}function b(i,L){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const s=L.$implicit;e.R7$(1),e.JRh(s.slice(0,4))}}function _(i,L){if(1&i&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,b,2,1,"td",1),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&i){const s=L.$implicit;e.R7$(2),e.JRh(s[0]),e.R7$(1),e.Y8G("ngForOf",s.slice(1,s.length-1)),e.R7$(2),e.JRh(s[s.length-1])}}function A(i,L){if(1&i&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&i){const s=L.$implicit;e.R7$(1),e.JRh(s.slice(0,4))}}let B=(()=>{class i{constructor(){this.table=[]}ngOnChanges(){this.fillFusionChart()}fillFusionChart(){this.table=[];const s=this.speciesChart.races,d=[""].concat(s,[""]);this.table.push(d);for(let v=0;v<s.length;v++)for(let M=v+1;M<s.length;M++){const G="3"+s[v]+"|3"+s[M];this.table.push([s[v]].concat(s.map(Q=>this.speciesChart.getRaceFusion("3"+Q,G)),[s[M]]))}this.table.push(d)}static{this.\u0275fac=function(d){return new(d||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-species-triple-chart"]],inputs:{speciesChart:"speciesChart",title:"title"},features:[e.OA$],decls:9,vars:5,consts:[[1,"title"],[4,"ngFor","ngForOf"]],template:function(d,v){1&d&&(e.j41(0,"table")(1,"tr")(2,"th",0),e.EFF(3),e.k0s()(),e.j41(4,"tr"),e.DNE(5,R,2,1,"th",1),e.k0s(),e.DNE(6,_,6,3,"tr",1),e.j41(7,"tr"),e.DNE(8,A,2,1,"th",1),e.k0s()()),2&d&&(e.R7$(2),e.BMQ("colspan",v.table[0].length),e.R7$(1),e.JRh(v.title),e.R7$(2),e.Y8G("ngForOf",v.table[0]),e.R7$(1),e.Y8G("ngForOf",v.table.slice(1,v.table.length-1)),e.R7$(2),e.Y8G("ngForOf",v.table[v.table.length-1]))},dependencies:[m.Sq],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.elem[_ngcontent-%COMP%]{color:#0f0}td.trip[_ngcontent-%COMP%]{color:#d3d3d3}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.None[_ngcontent-%COMP%]{color:#222}td.Sala[_ngcontent-%COMP%], td.Flae[_ngcontent-%COMP%], td.Ara[_ngcontent-%COMP%], td.Fien[_ngcontent-%COMP%]{color:red}td.Undi[_ngcontent-%COMP%], td.Aqua[_ngcontent-%COMP%], td.Nigi[_ngcontent-%COMP%], td.Enig[_ngcontent-%COMP%]{color:#0ff}td.Sylp[_ngcontent-%COMP%], td.Aero[_ngcontent-%COMP%], td.Kusi[_ngcontent-%COMP%], td.UMA[_ngcontent-%COMP%]{color:#0f0}td.Gnom[_ngcontent-%COMP%], td.Erth[_ngcontent-%COMP%], td.Saki[_ngcontent-%COMP%], td.Rand[_ngcontent-%COMP%]{color:orange}td.Empt[_ngcontent-%COMP%]{background-color:#000;color:transparent}"],changeDetection:0})}}return i})();function I(i,L){if(1&i&&(e.qex(0),e.nrm(1,"app-fusion-chart",1)(2,"app-fusion-chart",1),e.bVm()),2&i){const s=e.XpG();e.R7$(1),e.Y8G("normChart",s.normChart)("tripChart",s.normChart)("mitaTable",s.mitamaTable)("normTitle","Light and Neutral Normal Fusions")("tripTitle","Dark Normal Fusions"),e.R7$(1),e.Y8G("normChart",s.tripChart)("tripChart",s.tripChart)("mitaTable",s.tripleMitamaTable)("normTitle","Light and Neutral Triple Fusions")("tripTitle","Dark Triple Fusions")}}function z(i,L){if(1&i&&e.nrm(0,"app-species-triple-chart",4),2&i){const s=e.XpG(2);e.Y8G("speciesChart",s.tripChart)("title",s.appName+" - Triple Fusions")}}function Y(i,L){if(1&i&&(e.qex(0),e.nrm(1,"app-fusion-chart",2),e.DNE(2,z,1,2,"app-species-triple-chart",3),e.bVm()),2&i){const s=e.XpG();e.R7$(1),e.Y8G("normChart",s.fullChart)("mitaTable",s.mitamaTable)("filterDarks",!1)("normTitle","Normal Fusions"),e.R7$(1),e.Y8G("ngIf",s.hasTripleFusion)}}function V(i,L){if(1&i&&(e.qex(0),e.nrm(1,"app-fusion-chart",1)(2,"app-species-triple-chart",4),e.bVm()),2&i){const s=e.XpG();e.R7$(1),e.Y8G("normChart",s.fullChart)("tripChart",s.fullChart)("mitaTable",s.mitamaTable)("normTitle","Light and Neutral Normal Fusions")("tripTitle","Dark Normal Fusions"),e.R7$(1),e.Y8G("speciesChart",s.tripChart)("title",s.appName+" - Triple Fusions")}}let Z=(()=>{class i{constructor(s){this.fusionDataService=s,this.subscriptions=[]}ngOnInit(){const s=this.fusionDataService.compConfig;this.appName=s.appTitle,this.mitamaTable=s.mitamaTable,this.tripleMitamaTable=s.tripleMitamaTable,this.hasDarkRanks=s.darknessRecipes,this.hasTripleFusion=!s.appCssClasses.includes("mjn1"),this.fusionDataService.compConfig.useSpeciesFusion&&this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(d=>{this.fullChart=d})),this.subscriptions.push(this.fusionDataService.squareChart.subscribe(d=>{this.normChart=d.normalChart,this.tripChart=d.tripleChart}))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}static{this.\u0275fac=function(d){return new(d||i)(e.rXU(n.i))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-fusion-chart-container"]],decls:3,vars:3,consts:[[4,"ngIf"],[3,"normChart","tripChart","mitaTable","normTitle","tripTitle"],[3,"normChart","mitaTable","filterDarks","normTitle"],[3,"speciesChart","title",4,"ngIf"],[3,"speciesChart","title"]],template:function(d,v){1&d&&(e.DNE(0,I,3,10,"ng-container",0),e.DNE(1,Y,3,5,"ng-container",0),e.DNE(2,V,3,7,"ng-container",0)),2&d&&(e.Y8G("ngIf",!v.fullChart),e.R7$(1),e.Y8G("ngIf",v.fullChart&&!v.hasDarkRanks),e.R7$(1),e.Y8G("ngIf",v.fullChart&&v.hasDarkRanks))},dependencies:[m.bT,C.q,B],encapsulation:2,changeDetection:0})}}return i})();var K=g(5692),F=g(3679),E=g(2223),k=g(302),t=g(6122),a=g(8696);function p(i,L){if(1&i&&e.nrm(0,"app-demon-stats",8),2&i){const s=e.XpG(2);e.Y8G("title","Attacks")("statHeaders",s.compConfig.baseAtks)("stats",s.demon.atks)}}function r(i,L){if(1&i&&e.nrm(0,"app-demon-skills",5),2&i){const s=e.XpG(2);e.Y8G("title","Inheritable Skills")("hasTarget",!0)("hasLvl",!1)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.compConfig.inheritSkills[s.demon.inherits])}}const o=function(){return["Drop"]};function u(i,L){if(1&i&&(e.qex(0),e.j41(1,"app-demon-stats",2)(2,"td"),e.EFF(3),e.k0s()(),e.DNE(4,p,1,3,"app-demon-stats",3),e.nrm(5,"app-demon-resists",4)(6,"app-demon-skills",5),e.DNE(7,r,1,6,"app-demon-skills",6),e.nrm(8,"app-smt-fusions",7),e.bVm()),2&i){const s=e.XpG();e.R7$(1),e.Y8G("title","Lvl "+s.demon.lvl+" "+s.demon.race+" "+s.demon.name)("statHeaders",s.compConfig.baseStats)("fusionHeaders",e.lJ4(17,o))("stats",s.demon.stats)("inherits",s.demon.inherits),e.R7$(2),e.JRh(s.demon.drop),e.R7$(1),e.Y8G("ngIf",s.compConfig.baseAtks.length),e.R7$(1),e.Y8G("resistHeaders",s.compConfig.resistElems)("resists",s.demon.resists),e.R7$(1),e.Y8G("title","Innate Skills")("hasTarget",!0)("hasLvl",!1)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.skills),e.R7$(1),e.Y8G("ngIf",s.compConfig.inheritSkills),e.R7$(1),e.Y8G("hasTripleFusion",!s.compConfig.appCssClasses.includes("mjn1"))}}function l(i,L){if(1&i&&e.nrm(0,"app-demon-missing",9),2&i){const s=e.XpG();e.Y8G("name",s.name)}}let f=(()=>{class i{static{this.\u0275fac=function(d){return new(d||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","statHeaders","fusionHeaders","stats","inherits"],[3,"title","statHeaders","stats",4,"ngIf"],[3,"resistHeaders","resists"],[3,"title","hasTarget","hasLvl","elemOrder","compendium","skillLevels"],[3,"title","hasTarget","hasLvl","elemOrder","compendium","skillLevels",4,"ngIf"],[3,"hasTripleFusion"],[3,"title","statHeaders","stats"],[3,"name"]],template:function(d,v){1&d&&(e.DNE(0,u,9,18,"ng-container",0),e.DNE(1,l,1,1,"app-demon-missing",1)),2&d&&(e.Y8G("ngIf",v.demon),e.R7$(1),e.Y8G("ngIf",!v.demon))},dependencies:[m.bT,K.X,F.C,E.w,k.F,t.L],encapsulation:2,changeDetection:0})}}return i})(),h=(()=>{class i{constructor(s,d,v,M){this.route=s,this.title=d,this.currentDemonService=v,this.fusionDataService=M,this.subscriptions=[],this.appName="Test App",this.appName=M.appName,this.compConfig=M.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(s=>{this.compendium=s,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(s=>{this.name=s,this.getDemonEntry()})),this.route.params.subscribe(s=>{this.currentDemonService.nextCurrentDemon(s.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}static{this.\u0275fac=function(d){return new(d||i)(e.rXU(U.nX),e.rXU(x.hE),e.rXU(a.i),e.rXU(n.i))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-demon-entry-container"]],decls:1,vars:4,consts:[[3,"name","demon","compConfig","compendium"]],template:function(d,v){1&d&&e.nrm(0,"app-demon-entry",0),2&d&&e.Y8G("name",v.name)("demon",v.demon)("compConfig",v.compConfig)("compendium",v.compendium)},dependencies:[f],encapsulation:2,changeDetection:0})}}return i})();var c=g(2649),D=g(3452),O=g(6188),T=g(131);const y=[{path:"",redirectTo:"demons",pathMatch:"full"},{path:"",component:P,data:{fusionTool:"chart"},children:[{path:"chart",component:Z}]},{path:"",component:P,children:[{path:"demons/:demonName",component:h,children:[{path:"fissions/triple",component:O.X},{path:"fusions/triple",component:T.W},{path:"fissions",component:c.J},{path:"fusions",component:D.y},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"demons",component:w},{path:"skills",component:j}]},{path:"**",redirectTo:"demons",pathMatch:"full"}];let $=(()=>{class i{static{this.\u0275fac=function(d){return new(d||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[U.iI.forChild(y),U.iI]})}}return i})()},1057:(q,W,g)=>{g.d(W,{i:()=>E});var U=g(4412);class e{constructor(t){this.pairRecipes={},this.initImportedData(t),this.updateDerivedData(t)}initImportedData(t){const a={},p={},r={},o={},u=t.baseStats.length,l=t.resistElems.length,f={};for(const[h,c]of Object.entries(t.resistCodes))f[h]=((c/1e3|8)<<10)+(c%1e3/2.5|0);for(const[h,c]of Object.entries(t.demonData)){const D="Shin Megami Tensei IMAGINE"!==t.appTitle?c.skills.reduce((O,T,y)=>(T&&(O[T.replace("*","")]=y-8),O),{}):c.skills;a[h]={name:h,race:c.race,lvl:c.lvl,currLvl:c.lvl,fusion:"normal",inherits:t.inheritSkills?t.skillElems.indexOf(c.inherit):24,drop:c.drop||"-",price:Math.pow(Math.floor(c.lvl),3),stats:c.stats.slice(0,u),atks:c.atks||[],resists:c.resists.substring(0,l).split("").map(O=>f[O]),align:c.align||t.alignData.races[c.race],skills:D}}for(const[h,c]of Object.entries(t.skillData)){const D="recovery"===c.element?" Rec ":" Dmg ";p[h]={name:h,element:c.element,power:c.power||0,cost:c.cost||0,rank:(c.enemy?99:0)+(1023&c.cost||0)/100,effect:(c.power?c.power.toString()+D:" ")+(c.effect||""),target:c.target,level:0,learnedBy:[]}}for(const h of Object.values(a).sort((c,D)=>c.lvl-D.lvl))for(const[c,D]of Object.entries(h.skills))p[c].learnedBy.push({demon:h.name,level:D});if(t.specialRecipes)for(const[h,c]of Object.entries(t.specialRecipes))a[h].fusion=c.fusion||"special",c.prereq&&(a[h].prereq=c.prereq),c.special&&(r[h]=c.special),c.pairs&&(o[h]=c.pairs.map(D=>{const[O,T]=D.split(" x ");return{name1:O,name2:T}}));this.demons=a,this.skills=p,this.elementDemons=t.elementTable.elems,this.specialRecipes=r,this.pairRecipes=o}updateDerivedData(t){const a={},p={},r={};for(const o of t.races)a[o]={},p[o]=[],r[o]=[];for(const[o,u]of Object.entries(this.demons))a[u.race][u.lvl]=o,p[u.race].push(u.lvl),"normal"===u.fusion&&r[u.race].push(u.lvl);for(const[o,u]of Object.entries(t.species)){const l="3"+o;a[o]={},p[o]=[],r[o]=[],a[l]={},p[l]=[],r[l]=[];for(let f=u.length;f>0;f--){const h=u[f-1];let c=u.length-f;"d"==t.alignData.races[h].charAt(0)?c-=400:(Object.assign(a[o],a[h]),p[o]=p[o].concat(p[h]),r[o]=r[o].concat(r[h]));for(const[D,O]of Object.entries(a[h])){const T=(100*parseInt(D)+c)/100;a[l][T]=O.toString(),p[l].push(T),r[l].push(T)}}}for(const o of Object.keys(p))p[o].sort((u,l)=>u-l),r[o].sort((u,l)=>u-l);this._allDemons=Object.values(this.demons),this._allSkills=Object.values(this.skills),this.invertedDemons=a,this.allIngredients=p,this.allResults=r}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(t=>this.demons[t])}getDemon(t){return this.demons[t]}getSkill(t){return this.skills[t]}getSkills(t){const a=t.map(p=>this.skills[p]);return a.sort((p,r)=>1e4*(this.compConfig.elemOrder[p.element]-this.compConfig.elemOrder[r.element])+p.rank-r.rank),a}getIngredientDemonLvls(t){return this.allIngredients[t]||[]}getResultDemonLvls(t){return this.allResults[t]||[]}getSpecialNameEntries(t){return this.specialRecipes[t]||[]}getSpecialNamePairs(t){return this.pairRecipes[t]||[]}reverseLookupDemon(t,a){return this.invertedDemons[t][a]}reverseLookupSpecial(t){return[]}isElementDemon(t){return-1!==this.elementDemons.indexOf(t)}updateFusionSettings(t){}}var n=g(8063);class m extends n.p{constructor(t,a){super(),this.elementDemons=[],this.lvlModifier=1.5,this.hasDarkTable=!1,this.initCharts(t,a)}initCharts(t,a){this.raceOrder=t.raceOrder,this.alignments=t.alignData.races,this.speciesLookup=t.speciesLookup,this.elementDemons=a?t.tripleElementTable.elems:t.elementTable.elems;const p=a?t.tripleTable.races:t.normalTable.races,r=a?t.tripleTable.table:t.normalTable.table,o=n.p.loadFusionTableJson(p,r),u=n.p.loadFissionTableJson(p,[],r);if(this.lvlModifier=a?t.tripleLvlModifier:t.normalLvlModifier,t.darkTable){this.hasDarkTable=!0;const l=a&&t.tripleDarkTable?t.tripleDarkTable.races:t.darkTable.races,f=a&&t.tripleDarkTable?t.tripleDarkTable.table:t.darkTable.table,h=n.p.loadFusionTableJson(l,f),c=n.p.loadFissionTableJson(l,[],f);this.races=p.concat(l.filter(D=>this.getLightDark(D)<0)),this.fusionChart=n.p.mergeFusionTables(o,h),this.fissionChart=n.p.mergeFissionTables(u,c)}else this.races=p,this.fusionChart=o,this.fissionChart=u;if(t.darknessRecipes)for(const[l,f]of Object.entries(t.darknessRecipes)){const h=f;this.fusionChart[l]={},this.fusionChart[l][l]=h,this.fissionChart[h]={},this.fissionChart[h][l]=[l],this.races.includes(l)||this.races.push(l)}if(t.useSpeciesFusion)for(const l of this.races)if(this.fissionChart[l]){const f=this.speciesLookup[l];this.fissionChart[l]["2"+f]=["2"+f]}this.elementChart=n.p.loadElementTableJson(t.elementTable.races,this.elementDemons,a?t.tripleElementTable.table:t.elementTable.table)}getLightDark(t){return"l"==this.alignments[t].charAt(0)?1:"d"==this.alignments[t].charAt(0)?-1:"D"==this.alignments[t].charAt(0)?-2:0}getRaceFissions(t){return this.fissionChart[t]||{}}getRaceFusions(t){return this.fusionChart[t]||{}}getRaceFusion(t,a){return this.getRaceFusions(t)[a]||""}}class X{constructor(t){this.lvlModifier=7.5,this.elementDemons=[],this.initCharts(t)}initCharts(t){const a=t.tripleTable.races,p=t.tripleTable.table,r=a.map(u=>"3"+u);this.raceOrder=t.raceOrder,this.speciesLookup=t.speciesLookup,this.fissionChart={},this.fusionChart={},this.races=a;for(const u of r)this.fusionChart[u]={};let o=-1;for(let u=0;u<r.length;u++)for(let l=u+1;l<r.length;l++){const f=r[u],h=r[l],c=f+"|"+h;o+=1,this.fissionChart[c]={},this.fusionChart[c]={},this.fissionChart[c][f]=[h],this.fusionChart[f][h]=c,this.fusionChart[h][f]=c;for(let D=0;D<r.length;D++){const O=r[D],T=p[o][D];this.fissionChart[T]||(this.fissionChart[T]={}),this.fissionChart[T][c]=[O],this.fusionChart[c][O]=T,this.fusionChart[O][c]=T}}}getRaceFissions(t){return this.fissionChart[t]||{}}getRaceFusions(t){const a=this.speciesLookup[t];return a?this.fusionChart["3"+a]||{}:this.fusionChart[t]||{}}getRaceFusion(t,a){return this.getRaceFusions(t)[a]||""}getLightDark(t){return 0}getElemModifiers(t){return{}}getElemFusions(t){return{}}isConvertedRace(t){return!1}}var P=g(7396),S=g(8939),x=g(6947);const J={Deity:2,Dragon:1,Snake:1,Divine:1,Kishin:1};function w(k,t,a){const p=[],{race:r,lvl:o}=t.getDemon(k),l=t.getResultDemonLvls(r).indexOf(o);if(-1===l)return[];for(const[f,h]of Object.entries(a.getRaceFissions(r))){const c=J[f]||0,D=t.getIngredientDemonLvls(f);for(let O=0;O<D.length;O++)for(const T of h){const y=J[T]||0,$=t.getIngredientDemonLvls(T);for(let i=0;i<$.length;i++)Math.floor(O/2+i/2)==l&&(Math.floor((O+c+i+y)/2),p.push({name1:t.reverseLookupDemon(f,D[O]),name2:t.reverseLookupDemon(T,$[i])}))}}return p}function H(k,t,a){const p=[],{race:r,lvl:o}=t.getDemon(k),u=J[r]||0,f=t.getIngredientDemonLvls(r).indexOf(o);if(-1===f)return[];for(const[h,c]of Object.entries(a.getRaceFusions(r))){const D=t.getResultDemonLvls(c),O=J[h]||0,T=t.getIngredientDemonLvls(h);for(let y=0;y<T.length;y++){const $=Math.floor((f+u+y+O)/2);$<D.length&&p.push({name1:t.reverseLookupDemon(h,T[y]),name2:t.reverseLookupDemon(c,D[$])})}}return p}var N=g(7178),j=g(6208),C=g(2338);const R=["Deity","Megami","Fury","Lady"],b=["Vile","Tyrant","Reaper"],_=["Entity","Zealot"];function A(k,t,a){const p=[],{race:r,lvl:o}=t.getDemon(k),u=2*(a.lvlModifier-3),l=t.getResultDemonLvls(r),f=l.indexOf(o);if(-1===_.indexOf(r)||-1===f)return p;const h=l[f-1]?2*l[f-1]-u:0,c=l[f+1]?2*o-u:200;for(const D of R)for(const O of t.getIngredientDemonLvls(D)){const T=t.reverseLookupDemon(D,O),y=h-O,$=c-O;for(const i of b)for(const L of t.getIngredientDemonLvls(i)){const s=t.reverseLookupDemon(i,L);y<L&&L<=$&&p.push({name1:T,name2:s})}}return p}function B(k,t,a){const p=[],{race:r,lvl:o}=t.getDemon(k),u=3*(a.tripleChart.lvlModifier-1),l=t.getResultDemonLvls(r),f=l.indexOf(o);if(-1===_.indexOf(r)||-1===f)return p;const h=l[f-1]?3*l[f-1]-u:0,c=3*o-u;for(const D of R)for(const O of t.getIngredientDemonLvls(D)){const T=t.reverseLookupDemon(D,O),y=h-O,$=c-O;for(const i of b)for(const L of t.getIngredientDemonLvls(i)){const s=t.reverseLookupDemon(i,L),d=y-L,v=$-L;for(const M of R)for(const G of t.getIngredientDemonLvls(M)){const Q=t.reverseLookupDemon(M,G);d<G&&G<=v&&T.localeCompare(Q)<0&&p.push({name1:T,name2:s,name3:Q})}for(const M of b)for(const G of t.getIngredientDemonLvls(M)){const Q=t.reverseLookupDemon(M,G);d<G&&G<=v&&s.localeCompare(Q)<0&&p.push({name1:T,name2:s,name3:Q})}}}return p}var I=g(3357);function z(k,t,a){const{normalChart:p,tripleChart:r}=a,{raceOrder:o}=p,u=[];for(const l of Object.keys(r.getRaceFissions(k)))for(const f of t.getIngredientDemonLvls(l)){const h=t.reverseLookupDemon(l,f);for(const[c,D]of Object.entries(p.getRaceFissions(l)))for(const O of t.getIngredientDemonLvls(c))if(f>O||f===O&&o[l]<o[c]){const T=t.reverseLookupDemon(c,O);for(const y of D)for(const $ of t.getIngredientDemonLvls(y))if(f>$||f===$&&o[l]<o[y]){const i=t.reverseLookupDemon(y,$);u.push({name1:h,name2:T,name3:i})}}}return u}function Y(k,t,a){const{tripleChart:p}=a,r=[];for(const o of Object.keys(p.getRaceFissions(k))){const u=t.getIngredientDemonLvls(o);for(let l=0;l<u.length;l++){const f=t.reverseLookupDemon(o,u[l]);for(let h=l+1;h<u.length;h++){const c=t.reverseLookupDemon(o,u[h]);for(let D=h+1;D<u.length;D++){const O=t.reverseLookupDemon(o,u[D]);r.push({name1:f,name2:c,name3:O})}}}}return r}var V=g(7101);function Z(k,t,a){const p=a.tripleChart.elementDemons.filter(o=>o.indexOf(k)>-1);let r=[];for(const o of p){const u=o.replace(k,"").replace(" x ",""),l=(0,V.Dy)(o,t,a.tripleChart).concat((0,V.sk)(o,t,a.tripleChart));r=r.concat(l.map(f=>({name1:u,name2:f.name1,name3:f.name2})))}return r}var K=g(1080),F=g(2598);let E=(()=>{class k{constructor(a){this.fusionCalculator=x.nv,this.fissionCalculator=x.ov,this.triFusionCalculator=new S.$([K.LW,K.FE],[]),this.triFissionCalculator=new S.$([I.Hr],[]),this.compConfig=a,this.appName=a.appTitle+" Fusion Calculator",this.compendium=new U.t(new e(a)).asObservable();const p=new m(a);let r,o;a.useSpeciesFusion?(r=new X(a),o=r):(r=p,o=new m(a,!0)),this.fusionChart=new U.t(new m(a)).asObservable(),this.squareChart=new U.t({normalChart:r,tripleChart:o,raceOrder:a.raceOrder}).asObservable(),a.darknessRecipes&&(this.fusionCalculator=x._J,this.fissionCalculator=x.ty),a.tripleElementTable&&(this.triFissionCalculator=new S.$([I.Hr,I.XN],[])),a.appCssClasses.includes("dssh")&&(this.fissionCalculator=new P.s([N.Hr,N.rj,A],[C.X]),this.triFusionCalculator=new S.$([K.LW,K.FE,K.Hy,K.q6],[Z]),this.triFissionCalculator=new S.$([I.Hr,I.XN,B],[z,Y])),(a.appCssClasses.includes("smt1")||a.appCssClasses.includes("smt2"))&&(this.fissionCalculator=new P.s([N.Hr,N.Hg,j.i,N.rj],[C.X])),a.appCssClasses.includes("mjn1")&&(this.fissionCalculator=new P.s([w],[]),this.fusionCalculator=new P.s([H],[]))}updateFusionSettings(a){return{}}static{this.\u0275fac=function(p){return new(p||k)(F.KVO(x.HI))}}static{this.\u0275prov=F.jDH({token:k,factory:k.\u0275fac})}}return k})()},1636:(q,W,g)=>{g.d(W,{d:()=>P});var U=g(177),e=g(3887),n=g(9447),m=g(1151),X=g(2598);let P=(()=>{class S{static forRoot(){return{ngModule:S}}static{this.\u0275fac=function(w){return new(w||S)}}static{this.\u0275mod=X.$C({type:S})}static{this.\u0275inj=X.G2t({imports:[U.MD,e.G,n.$,m.S]})}}return S})()}}]);