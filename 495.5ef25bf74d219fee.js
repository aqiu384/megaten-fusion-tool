"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[495],{3687:(J,L,m)=>{m.d(L,{d:()=>F});var e=m(4769),t=m(6593),l=m(6814);function b(C,O){if(1&C){const T=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"label"),e._uU(3),e.TgZ(4,"input",3),e.NdJ("change",function(){const I=e.CHM(T).$implicit,E=e.oxw();return e.KtG(E.toggledName.emit(I.name))}),e.qZA()()()()}if(2&C){const T=O.$implicit;e.xp6(3),e.hij("",T.name.split(",").join(", ")," "),e.xp6(1),e.Q6J("checked",T.included)}}let F=(()=>{var C;class O{constructor(S){this.title=S,this.dlcTitle="Included DLC Demons",this.langEn=!0,this.toggledName=new e.vpe}set appTitle(S){this.title.setTitle((this.langEn?"Fusion Settings - ":"\u5408\u4f53\u8a2d\u5b9a ")+S)}}return(C=O).\u0275fac=function(S){return new(S||C)(e.Y36(t.Dx))},C.\u0275cmp=e.Xpm({type:C,selectors:[["app-demon-dlc-settings"]],inputs:{dlcDemons:"dlcDemons",dlcTitle:"dlcTitle",langEn:"langEn",appTitle:"appTitle"},outputs:{toggledName:"toggledName"},decls:10,vars:2,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(S,U){1&S&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th",1),e._uU(7,"DLC"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,b,5,2,"tr",2),e.qZA()(),e.BQk()),2&S&&(e.xp6(2),e.Oqu(U.dlcTitle),e.xp6(7),e.Q6J("ngForOf",U.dlcDemons))},dependencies:[l.sg],encapsulation:2,changeDetection:0}),O})()},8520:(J,L,m)=>{m.d(L,{O:()=>E});var e=m(4769),t=m(6814);function l(d,D){if(1&d&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&d){const a=e.oxw();e.xp6(1),e.Oqu(a.title)}}function b(d,D){if(1&d&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&d){const a=e.oxw();e.xp6(1),e.Oqu(a.langEn?"Price":"\u4fa1\u683c")}}function F(d,D){if(1&d&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&d){const a=D.$implicit;e.xp6(1),e.Oqu(a)}}function C(d,D){1&d&&(e.TgZ(0,"th"),e._uU(1,"Inherits"),e.qZA())}function O(d,D){if(1&d&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&d){const a=D.$implicit;e.xp6(1),e.Oqu(a)}}function T(d,D){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&d){const a=e.oxw();e.xp6(1),e.Oqu(a.price)}}function S(d,D){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&d){const a=D.$implicit;e.xp6(1),e.Oqu(a)}}function U(d,D){if(1&d&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()()),2&d){const a=e.oxw();e.xp6(1),e.Gre("element-icon i",a.inherits,""),e.xp6(1),e.Oqu(a.inherits)}}const I=["*"];let E=(()=>{var d;class D{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.langEn=!0}}return(d=D).\u0275fac=function(n){return new(n||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",langEn:"langEn"},ngContentSelectors:I,decls:19,vars:10,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(n,p){1&n&&(e.F$t(),e.ynx(0),e.YNc(1,l,2,1,"h2",0),e.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),e._uU(6),e.qZA()(),e.TgZ(7,"tr"),e.YNc(8,b,2,1,"th",0),e.YNc(9,F,2,1,"th",3),e.YNc(10,C,2,0,"th",0),e.YNc(11,O,2,1,"th",3),e.qZA()(),e.TgZ(12,"tbody")(13,"tr"),e.YNc(14,T,2,1,"td",0),e.YNc(15,S,2,1,"td",3),e.YNc(16,U,3,4,"td",0),e.Hsn(17),e.qZA()()(),e.GkF(18),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngIf",p.title.includes("Lvl")),e.xp6(4),e.uIk("colSpan",p.stats.length+p.fusionHeaders.length+(p.inherits?1:0)+(p.price?1:0)),e.xp6(1),e.hij(" ",p.title.includes("Lvl")?p.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9":p.title," "),e.xp6(2),e.Q6J("ngIf",p.price),e.xp6(1),e.Q6J("ngForOf",p.statHeaders),e.xp6(1),e.Q6J("ngIf",p.inherits),e.xp6(1),e.Q6J("ngForOf",p.fusionHeaders),e.xp6(3),e.Q6J("ngIf",p.price),e.xp6(1),e.Q6J("ngForOf",p.stats),e.xp6(1),e.Q6J("ngIf",p.inherits))},dependencies:[t.sg,t.O5],encapsulation:2,changeDetection:0}),D})()},4069:(J,L,m)=>{m.d(L,{O:()=>I});var e=m(3247),t=m(3808),l=m(4769),b=m(6814),F=m(4487);const C=function(){return{exact:!0}};function O(E,d){if(1&E&&(l.TgZ(0,"th",4)(1,"a",5),l._uU(2),l.qZA()()),2&E){const D=d.$implicit,a=l.oxw();l.Udp("width",100/a.fusionOptions.length,"%"),l.Q6J("routerLink",D.link)("routerLinkActiveOptions",l.DdM(6,C)),l.xp6(1),l.Q6J("routerLink",D.link),l.xp6(1),l.Oqu(D.title)}}function T(E,d){if(1&E&&(l.TgZ(0,"tr")(1,"th",6),l._uU(2),l.qZA()()),2&E){const D=l.oxw();l.xp6(1),l.uIk("colspan",D.fusionOptions.length),l.xp6(1),l.hij(" ",D.langEn?"DLC marked as excluded in fusion settings, results may be inaccurate!":"DLC\u306a\u3057"," ")}}function S(E,d){if(1&E&&(l.TgZ(0,"tr")(1,"th",6),l.Hsn(2),l.qZA()()),2&E){const D=l.oxw();l.xp6(1),l.uIk("colspan",D.fusionOptions.length)}}const U=["*"];let I=(()=>{var E;class d{constructor(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.langEn=!0,this.fusionOptions=d.NORMAL_FUSIONS_EN}ngOnInit(){this.fusionOptions=this.hasTripleFusion?d.TRIPLE_FUSIONS:this.langEn?d.NORMAL_FUSIONS_EN:d.NORMAL_FUSIONS_JA}ngOnChanges(){setTimeout(()=>this.stickyTable.nextEdges())}}return(E=d).NORMAL_FUSIONS_EN=[{title:"Reverse Fusions",link:"fissions"},{title:"Forward Fusions",link:"fusions"}],E.NORMAL_FUSIONS_JA=[{title:"\u9006\u5f15\u304d\u5408\u4f53",link:"fissions"},{title:"2\u4f53\u5408\u4f53",link:"fusions"}],E.TRIPLE_FUSIONS=[{title:"Normal Reverse Fusions",link:"fissions"},{title:"Triple Reverse Fusions",link:"fissions/triple"},{title:"Triple Forward Fusions",link:"fusions/triple"},{title:"Normal Forward Fusions",link:"fusions"}],E.\u0275fac=function(a){return new(a||E)},E.\u0275cmp=l.Xpm({type:E,selectors:[["app-smt-fusions"]],viewQuery:function(a,n){if(1&a&&l.Gf(t.v,5),2&a){let p;l.iGM(p=l.CRH())&&(n.stickyTable=p.first)}},inputs:{hasTripleFusion:"hasTripleFusion",showFusionAlert:"showFusionAlert",excludedDlc:"excludedDlc",langEn:"langEn"},features:[l._Bn([e.L]),l.TTD],ngContentSelectors:U,decls:11,vars:3,consts:[["appPositionSticky","",1,"list-table"],["stickyTable",""],["class","nav","routerLinkActive","active",3,"routerLink","width","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],[1,"title"]],template:function(a,n){1&a&&(l.F$t(),l.TgZ(0,"div")(1,"table",0,1)(3,"thead")(4,"tr"),l.YNc(5,O,3,7,"th",2),l.qZA(),l.YNc(6,T,3,2,"tr",3),l._UZ(7,"tr"),l.YNc(8,S,3,1,"tr",3),l._UZ(9,"tr"),l.qZA()(),l._UZ(10,"router-outlet"),l.qZA()),2&a&&(l.xp6(5),l.Q6J("ngForOf",n.fusionOptions),l.xp6(1),l.Q6J("ngIf",n.excludedDlc),l.xp6(2),l.Q6J("ngIf",n.showFusionAlert))},dependencies:[b.sg,b.O5,F.lC,F.rH,F.Od,t.v],encapsulation:2,changeDetection:0}),d})()},3186:(J,L,m)=>{m.d(L,{f:()=>t});var e=m(4769);let t=(()=>{var l;class b{constructor(C,O){this.changeDetector2=C,this.fusionDataService2=O,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService2.compendium.subscribe(C=>{this.changeDetector2.markForCheck(),this.compendium=C,this._dlcDemons=Object.assign({},this.compendium.dlcDemons),this.dlcDemons=Object.entries(this._dlcDemons).map(([O,T])=>({name:O,included:T}))}))}ngOnDestroy(){for(const C of this.subscriptions)C.unsubscribe()}toggleName(C){this._dlcDemons[C]=!this._dlcDemons[C],this.fusionDataService2.nextDlcDemons(this._dlcDemons)}}return(l=b).\u0275fac=function(C){e.$Z()},l.\u0275dir=e.lG2({type:l}),b})()},1135:(J,L,m)=>{m.d(L,{V:()=>it});var e=m(4487),t=m(4769),l=m(329),b=m(6814),F=m(5390);let C=(()=>{var s;class _{constructor(o){this.appCssClasses=["smt4","smt4f"],this.appCssClasses=o.compConfig.appCssClasses,this.langEn="ja"!==o.compConfig.lang,this.otherLinks=this.langEn?[{title:"Recipe Generator",link:"recipes"}]:[]}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(l.Y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-smt4f-compendium"]],decls:1,vars:2,consts:[[3,"ngClass","otherLinks"]],template:function(o,c){1&o&&t._UZ(0,"app-demon-compendium",0),2&o&&t.Q6J("ngClass",c.appCssClasses)("otherLinks",c.otherLinks)},dependencies:[b.mk,F.e],styles:[".smt4 div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.smt4 div.element-icon.phy{background-image:url(/assets/images/smtsj/phy.png)}.smt4 div.element-icon.gun{background-image:url(/assets/images/smt4f/gun.png)}.smt4 div.element-icon.fir{background-image:url(/assets/images/smtsj/fir.png)}.smt4 div.element-icon.ice{background-image:url(/assets/images/smtsj/ice.png)}.smt4 div.element-icon.ele{background-image:url(/assets/images/smtsj/ele.png)}.smt4 div.element-icon.for{background-image:url(/assets/images/smt4f/force.png)}.smt4 div.element-icon.lig{background-image:url(/assets/images/smtsj/exp.png)}.smt4 div.element-icon.dar{background-image:url(/assets/images/smtsj/cur.png)}.smt4 div.element-icon.ail{background-image:url(/assets/images/smtsj/ail.png)}.smt4 div.element-icon.rec{background-image:url(/assets/images/smtsj/rec.png)}.smt4 div.element-icon.alm{background-image:url(/assets/images/smtsj/alm.png)}.smt4 div.element-icon.sup{background-image:url(/assets/images/smtsj/sup.png)}.smt4 div.element-icon.pas{background-image:url(/assets/images/smtsj/pas.png)}.smt4 div.element-icon.oth{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.spe{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.sab{background-image:url(/assets/images/smtsj/spe.png)}.smt4 div.element-icon.com{background-image:url(/assets/images/smtsj/sup.png)}.smt4 td.affinity-9,.smt4 td.affinity-8{color:red}.smt4 td.affinity-7{color:#ff4500}.smt4 td.affinity-6{color:tomato}.smt4 td.affinity-5{color:coral}.smt4 td.affinity-4{color:#ff8c00}.smt4 td.affinity-3{color:orange}.smt4 td.affinity-2{color:#ffa07a}.smt4 td.affinity-1{color:gold}.smt4 td.affinity0{color:transparent}.smt4 td.affinity1{color:#7cfc00}.smt4 td.affinity2{color:#0f0}.smt4 td.affinity3{color:#00ff7f}.smt4 td.affinity4{color:#00fa9a}.smt4 td.affinity5{color:#32cd32}.smt4 td.affinity6{color:#3cb371}.smt4 td.affinity7{color:#2e8b57}.smt4 td.affinity8,.smt4 td.affinity9{color:#228b22}.smt4f th.title,.smt4f th.nav.active,.smt4f th.nav.active a{background-color:#fff;color:#000}.smt5 th.title,.smt5 th.nav.active,.smt5 th.nav.active a{background-color:#363361;color:#fff}.sh2 th.title,.sh2 th.nav.active,.sh2 th.nav.active a{background-color:#693cbe;color:#fff}\n"],encapsulation:2,changeDetection:0}),_})();var O=m(1032),T=m(6593),S=m(4101);let U=(()=>{var s;class _ extends O.l{constructor(o,c,k){super(o,c,k),this.compConfig=k.compConfig,this.langEn="ja"!==this.compConfig.lang,this.appName=(this.langEn?"List of Demons - ":"\u60aa\u9b54\u4e00\u89a7 ")+k.appName,this.defaultSortFun=(x,R)=>200*(this.compConfig.raceOrder[x.race]-this.compConfig.raceOrder[R.race])+R.lvl-x.lvl}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(T.Dx),t.Y36(t.sBO),t.Y36(l.Y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-demon-list-container"]],features:[t.qOj],decls:2,vars:8,consts:[[3,"langEn","raceOrder","statHeaders","resistHeaders","affinityHeaders","rowData"]],template:function(o,c){1&o&&(t._UZ(0,"app-smt-demon-list",0),t.ALo(1,"async")),2&o&&t.Q6J("langEn",c.langEn)("raceOrder",c.compConfig.raceOrder)("statHeaders",c.compConfig.baseStats)("resistHeaders",c.compConfig.resistElems)("affinityHeaders",c.compConfig.affinityElems)("rowData",t.lcZ(1,6,c.demons))},dependencies:[S.Q,b.Ov],encapsulation:2,changeDetection:0}),_})();var I=m(4330),E=m(3934);let d=(()=>{var s;class _ extends I.e{constructor(o,c,k){super(o,c,k),this.appName=`List of Skills - ${k.appName}`,this.compConfig=k.compConfig,this.langEn="ja"!==this.compConfig.lang,this.appName=(this.langEn?"List of Skills - ":" \u30b9\u30ad\u30eb\u4e00\u89a7 ")+k.appName,this.compConfig=k.compConfig,this.defaultSortFun=(x,R)=>1e4*(this.compConfig.elemOrder[x.element]-this.compConfig.elemOrder[R.element])+x.rank-R.rank}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(T.Dx),t.Y36(t.sBO),t.Y36(l.Y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-skill-list-container"]],features:[t.qOj],decls:2,vars:6,consts:[[3,"langEn","elemOrder","hasTarget","rowData"]],template:function(o,c){1&o&&(t._UZ(0,"app-smt-skill-list",0),t.ALo(1,"async")),2&o&&t.Q6J("langEn",c.langEn)("elemOrder",c.compConfig.elemOrder)("hasTarget",!0)("rowData",t.lcZ(1,4,c.skills))},dependencies:[E.J,b.Ov],encapsulation:2,changeDetection:0}),_})();var D=m(3186),a=m(3687);let n=(()=>{var s;class _ extends D.f{constructor(o,c){super(o,c),this.changeDetector=o,this.fusionDataService=c,this.langEn=!0,this.appTitle=c.appName,this.langEn="ja"!==c.compConfig.lang}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(t.sBO),t.Y36(l.Y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-demon-dlc-settings-container"]],features:[t.qOj],decls:1,vars:4,consts:[[3,"langEn","dlcDemons","appTitle","dlcTitle","toggledName"]],template:function(o,c){1&o&&(t.TgZ(0,"app-demon-dlc-settings",0),t.NdJ("toggledName",function(x){return c.toggleName(x)}),t.qZA()),2&o&&t.Q6J("langEn",c.langEn)("dlcDemons",c.dlcDemons)("appTitle",c.appTitle)("dlcTitle",c.langEn?"Included DLC Demons":"DLC")},dependencies:[a.d],encapsulation:2,changeDetection:0}),_})();var p=m(7880),r=m(8520),g=m(1009),u=m(9012),v=m(4537),y=m(4069),A=m(2173),N=m(8711);function j(s,_){if(1&s&&t._UZ(0,"app-demon-inherits",10),2&s){const i=t.oxw(2);t.Q6J("langEn",i.langEn)("hasLvls",!0)("inheritHeaders",i.compConfig.affinityElems)("inherits",i.demon.affinities)}}function Q(s,_){1&s&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Elem"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Cost"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Effect"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Target"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Rank"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Level"),t.qZA()())}function h(s,_){1&s&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"\u5c5e\u6027"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"\u30b9\u30ad\u30eb\u540d"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"\u6d88\u8cbb"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"\u8aac\u660e"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"\u7bc4\u56f2"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"\u30e9\u30f3\u30af"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Lvl"),t.qZA()())}const f=function(s){return{unique:s}};function Z(s,_){if(1&s&&(t.TgZ(0,"tr",11)(1,"td")(2,"div"),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"skillCostToString"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"skillLevelToString"),t.qZA()()),2&s){const i=_.$implicit;t.Q6J("ngClass",t.VKq(19,f,i.skill.rank>90)),t.xp6(2),t.Gre("element-icon ",i.skill.element,""),t.xp6(1),t.Oqu(i.skill.element),t.xp6(2),t.Oqu(i.skill.name+(i.lvl?" +"+i.lvl:"")),t.xp6(1),t.Udp("color",i.cost?null:"transparent"),t.xp6(1),t.Oqu(t.lcZ(8,15,i.cost)),t.xp6(3),t.Oqu(i.skill.effect+(i.upgrade?" (+"+i.upgrade+"%)":"")),t.xp6(2),t.Oqu(i.skill.target||"Self"),t.xp6(1),t.Udp("color",99!==i.skill.rank?null:"transparent"),t.xp6(1),t.Oqu(i.skill.rank),t.xp6(2),t.Oqu(t.lcZ(17,17,i.skill.level))}}function B(s,_){if(1&s&&(t.TgZ(0,"tr")(1,"td",12),t._uU(2),t.qZA()()),2&s){const i=t.oxw(2);t.xp6(2),t.Oqu(i.langEn?"No Learned Skills Found":"\u30b9\u30ad\u30eb\u306a\u3057")}}const M=function(s){return[s]};function P(s,_){if(1&s&&t._UZ(0,"app-fusion-entry-table",13),2&s){const i=t.oxw(2);t.Q6J("title",i.langEn?"Evolves From":"\u5909\u7570\u304b\u3089")("langEn",i.langEn)("baseUrl","..")("rowData",t.VKq(4,M,i.demon.evolvesFrom))}}function H(s,_){if(1&s&&t._UZ(0,"app-fusion-entry-table",13),2&s){const i=t.oxw(2);t.Q6J("title",i.langEn?"Evolves To":"\u5909\u7570")("langEn",i.langEn)("baseUrl","..")("rowData",t.VKq(4,M,i.demon.evolvesTo))}}function q(s,_){if(1&s&&(t.ynx(0),t._UZ(1,"app-demon-stats",2)(2,"app-demon-resists",3),t.YNc(3,j,1,4,"app-demon-inherits",4),t.TgZ(4,"table",5)(5,"thead")(6,"tr")(7,"th",6),t._uU(8),t.qZA()(),t.YNc(9,Q,15,0,"tr",0),t.YNc(10,h,15,0,"tr",0),t.qZA(),t.TgZ(11,"tbody"),t.YNc(12,Z,18,21,"tr",7),t.YNc(13,B,3,1,"tr",0),t._UZ(14,"tr"),t.qZA()(),t.YNc(15,P,1,6,"app-fusion-entry-table",8),t.YNc(16,H,1,6,"app-fusion-entry-table",8),t._UZ(17,"app-smt-fusions",9),t.BQk()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("langEn",i.langEn)("title","Lvl "+i.demon.lvl+" "+i.demon.race+" "+i.demon.name)("price",i.demon.price)("statHeaders",i.compConfig.baseStats)("stats",i.demon.stats),t.xp6(1),t.Q6J("langEn",i.langEn)("resistHeaders",i.compConfig.resistElems)("resists",i.demon.resists)("ailmentHeaders",i.compConfig.ailmentElems)("ailments",i.demon.ailments),t.xp6(1),t.Q6J("ngIf",i.demon.affinities),t.xp6(5),t.Oqu(i.langEn?"Learned Skills":"\u7fd2\u5f97\u30b9\u30ad\u30eb"),t.xp6(1),t.Q6J("ngIf",i.langEn),t.xp6(1),t.Q6J("ngIf",!i.langEn),t.xp6(2),t.Q6J("ngForOf",i.skillLvls),t.xp6(1),t.Q6J("ngIf",!i.skillLvls.length),t.xp6(2),t.Q6J("ngIf",i.demon.evolvesFrom),t.xp6(1),t.Q6J("ngIf",i.demon.evolvesTo),t.xp6(1),t.Q6J("langEn",i.langEn)("excludedDlc","excluded"===i.demon.fusion)}}function w(s,_){if(1&s&&t._UZ(0,"app-demon-missing",14),2&s){const i=t.oxw();t.Q6J("name",i.name)}}let K=(()=>{var s;class _{constructor(){this.langEn=!0,this.skillLvls=[]}ngOnChanges(){if(this.demon){this.skillLvls=[];for(const o of Object.keys(this.demon.skills)){const c=this.compendium.getSkill(o);let k=0,x=c.cost,R=0;if(this.demon.affinities&&x<2e3){const Y=this.compConfig.affinityElems.indexOf(c.element);k=Y>-1?this.demon.affinities[Y]:0,R=k>0?this.compConfig.affinityBonuses.upgrades[Y][k-1]:0,k>0&&x>0&&(x=1e3+Math.floor((100-this.compConfig.affinityBonuses.costs[Y][k-1])/100*(c.cost-1e3)))}this.skillLvls.push({skill:c,cost:x,lvl:k,upgrade:R})}for(const o of this.skillLvls)o.skill.level=this.demon.skills[o.skill.name];this.skillLvls.sort((o,c)=>20*(o.skill.level-c.skill.level)+this.compConfig.elemOrder[o.skill.element]-this.compConfig.elemOrder[c.skill.element])}}}return(s=_).\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compConfig:"compConfig",compendium:"compendium",langEn:"langEn"},features:[t.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"langEn","title","price","statHeaders","stats"],[3,"langEn","resistHeaders","resists","ailmentHeaders","ailments"],[3,"langEn","hasLvls","inheritHeaders","inherits",4,"ngIf"],[1,"entry-table"],["colSpan","7",1,"title"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"title","langEn","baseUrl","rowData",4,"ngIf"],[3,"langEn","excludedDlc"],[3,"langEn","hasLvls","inheritHeaders","inherits"],[3,"ngClass"],["colSpan","7"],[3,"title","langEn","baseUrl","rowData"],[3,"name"]],template:function(o,c){1&o&&(t.YNc(0,q,18,20,"ng-container",0),t.YNc(1,w,1,1,"app-demon-missing",1)),2&o&&(t.Q6J("ngIf",c.demon),t.xp6(1),t.Q6J("ngIf",!c.demon))},dependencies:[b.mk,b.sg,b.O5,p.t,r.O,g.I,u.N,v.P,y.O,A.tq,A.Lu],encapsulation:2,changeDetection:0}),_})(),G=(()=>{var s;class _{constructor(o,c,k,x){this.route=o,this.title=c,this.currentDemonService=k,this.fusionDataService=x,this.subscriptions=[],this.appName="Test App",this.appName=x.appName,this.compConfig=x.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(o=>{this.compendium=o,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(o=>{this.name=o,this.getDemonEntry()})),this.route.params.subscribe(o=>{this.currentDemonService.nextCurrentDemon(o.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(this.name+("ja"!==this.compConfig.lang?" - ":" ")+this.appName),this.demon=this.compendium.getDemon(this.name))}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(e.gz),t.Y36(T.Dx),t.Y36(N.s),t.Y36(l.Y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-demon-entry-container"]],decls:1,vars:5,consts:[[3,"langEn","name","demon","compConfig","compendium"]],template:function(o,c){1&o&&t._UZ(0,"app-demon-entry",0),2&o&&t.Q6J("langEn","ja"!==c.compConfig.lang)("name",c.name)("demon",c.demon)("compConfig",c.compConfig)("compendium",c.compendium)},dependencies:[K],encapsulation:2,changeDetection:0}),_})();var W=m(8615);function $(s,_){if(1&s&&t._UZ(0,"app-fusion-chart",2),2&s){const i=t.oxw();t.Q6J("langEn",i.langEn)("normChart",i.normChart)("tripChart",i.normChart)("normTitle",i.langEn?"Light and Neutral Normal Fusions":"LIGHT\u5408\u4f53")("tripTitle",i.langEn?"Dark Normal Fusions":"DARK\u5408\u4f53")}}function X(s,_){if(1&s&&t._UZ(0,"app-fusion-chart",3),2&s){const i=t.oxw();t.Q6J("langEn",i.langEn)("filterDarks",!1)("normChart",i.normChart)}}let V=(()=>{var s;class _{constructor(o,c){this.changeDetectorRef=o,this.fusionDataService=c,this.subscriptions=[]}ngOnInit(){this.langEn="ja"!==this.fusionDataService.compConfig.lang,this.hasLightDark=!this.fusionDataService.compConfig.appCssClasses.includes("sh2"),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(o=>{this.changeDetectorRef.markForCheck(),this.normChart=o}))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(t.sBO),t.Y36(l.Y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-fusion-chart-container"]],decls:2,vars:2,consts:[[3,"langEn","normChart","tripChart","normTitle","tripTitle",4,"ngIf"],[3,"langEn","filterDarks","normChart",4,"ngIf"],[3,"langEn","normChart","tripChart","normTitle","tripTitle"],[3,"langEn","filterDarks","normChart"]],template:function(o,c){1&o&&(t.YNc(0,$,1,5,"app-fusion-chart",0),t.YNc(1,X,1,3,"app-fusion-chart",1)),2&o&&(t.Q6J("ngIf",c.hasLightDark),t.xp6(1),t.Q6J("ngIf",!c.hasLightDark))},dependencies:[b.O5,W.R],encapsulation:2,changeDetection:0}),_})();var z=m(4436);let tt=(()=>{var s;class _{constructor(o,c){this.fusionDataService=o,this.title=c,this.subscriptions=[],this.defaultDemon="Pixie",this.maxSkills=8;const k=this.fusionDataService.compConfig,x=k.appCssClasses.includes("sh2");this.maxSkills=x?6:8,this.recipeConfig={fissionCalculator:this.fusionDataService.fissionCalculator,fusionCalculator:this.fusionDataService.fusionCalculator,races:k.races,skillElems:k.skillElems,inheritElems:k.affinityElems,restrictInherits:x,triExclusiveRaces:[],triFissionCalculator:null,triFusionCalculator:null}}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`Recipe Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(o=>{this.compendium=o})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(o=>{this.squareChart={normalChart:o,tripleChart:o,raceOrder:this.fusionDataService.compConfig.raceOrder}}))}unsubscribeAll(){for(const o of this.subscriptions)o.unsubscribe()}}return(s=_).\u0275fac=function(o){return new(o||s)(t.Y36(l.Y),t.Y36(T.Dx))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-recipe-generator-container"]],decls:1,vars:5,consts:[[3,"defaultDemon","maxSkills","compendium","squareChart","recipeConfig"]],template:function(o,c){1&o&&t._UZ(0,"app-recipe-generator",0),2&o&&t.Q6J("defaultDemon",c.defaultDemon)("maxSkills",c.maxSkills)("compendium",c.compendium)("squareChart",c.squareChart)("recipeConfig",c.recipeConfig)},dependencies:[z.X],encapsulation:2,changeDetection:0}),_})();var et=m(5657),nt=m(4689);const st=[{path:"",redirectTo:"demons",pathMatch:"full"},{path:"",component:C,data:{fusionTool:"chart"},children:[{path:"chart",component:V}]},{path:"",component:C,children:[{path:"demons/:demonName",component:G,children:[{path:"fissions",component:et.t},{path:"fusions",component:nt.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"demons",component:U},{path:"skills",component:d},{path:"recipes",component:tt},{path:"settings",component:n}]},{path:"**",redirectTo:"demons",pathMatch:"full"}];let it=(()=>{var s;class _{}return(s=_).\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[e.Bz.forChild(st),e.Bz]}),_})()},329:(J,L,m)=>{m.d(L,{Y:()=>D});var e=m(5619);function l(a,n){const p={};for(const[r,g]of Object.entries(a)){const u=Object.assign({},g),v={};for(const[y,A]of Object.entries(g.skills))v[n[y]||y]=A;u.race=n[u.race]||u.race,u.skills=v,p[n[r]||r]=u}return p}function b(a,n){const p={};for(const[r,g]of Object.entries(a)){const u=Object.assign({},g),v=u.target||"Self";u.target=n[v]||v,p[n[r]||r]=u}return p}function F(a,n){const p={};for(const[r,g]of Object.entries(a))p[n[r]||r]=g.map(u=>n[u]||u);return p}function C(a,n){const p={};for(const[r,g]of Object.entries(a))p[n[r]||r]={lvl:g.lvl,result:n[g.result]||g.result};return p}function O(a,n){const p={races:a.races.map(r=>n[r]||r),table:a.table.map(r=>r.map(g=>n[g]||g))};return a.elems&&(p.elems=a.elems.map(r=>n[r]||r),p.table=a.table),p}class T{constructor(n){this.compConfig=n,this._dlcDemons={Cleopatra:!1,Mephisto:!1},this.initImportedData(),this.updateDerivedData()}initImportedData(){const n={},p={},r={},g={},u={},v=Array(this.compConfig.ailmentElems.length).fill(100),y={1125:[],50:[],0:[]},A="ja"!==this.compConfig.lang,N=A?"Innate resistance":"",j=A?"Self":"\u81ea\u8eab",Q=A?{1125:"Weak ",50:"Resist ",0:"Null "}:{1125:"\u5f31",50:"\u5f37",0:"\u7121"};for(const[h,f]of Object.entries(Q))for(const Z of this.compConfig.ailmentElems)y[h].push({name:f+Z,element:"pas",effect:N,target:j,cost:0,rank:99,learnedBy:[],level:0});for(const[h,f]of Object.entries(this.compConfig.demonData))n[h]={name:h,race:f.race,lvl:f.lvl,currLvl:f.currLvl||f.lvl,skills:f.skills,price:2*f.price,inherits:parseInt((f.affinities||[-9]).map(Z=>Z<=-9?"0":"1").join(""),2),stats:f.stats,resists:f.resists.split("").map(Z=>this.compConfig.resistCodes[Z]),affinities:f.affinities,ailments:f.ailments?f.ailments.split("").map(Z=>this.compConfig.resistCodes[Z]):v,fusion:f.fusion||"normal",prereq:f.prereq||""};for(const[h,f]of Object.entries(this.compConfig.skillData))p[h]={name:h,element:f.element,rank:f.rank,effect:f.effect,damage:f.damage||"",target:f.target||"Self",hits:f.hits||"",cost:f.cost||0,learnedBy:[],level:0},p[h].rank||(p[h].rank=99);for(const h of Object.values(y))for(const f of h)p[f.name]=f;for(const[h,f]of Object.entries(this.compConfig.specialRecipes)){const Z=[],B=[];for(const M of f)if(M.includes(" x")){const[P,H]=M.split(" x ");B.push({name1:P,name2:H})}else Z.push(M);Z.length>0&&(r[h]=Z),B.length>0&&(g[h]=B),"normal"===n[h].fusion&&(n[h].fusion="special")}for(const[h,f]of Object.entries(this.compConfig.evolveData)){const Z=f.result;n[h].evolvesTo={price:n[Z].price,race1:n[Z].race,lvl1:f.lvl,name1:Z},n[Z].evolvesFrom={price:n[h].price,race1:n[h].race,lvl1:f.lvl,name1:h}}for(const h of this.compConfig.races)u[h]={};for(const[h,f]of Object.entries(n))u[f.race][f.lvl]=h;for(const h of Object.values(n).sort((f,Z)=>f.currLvl-Z.currLvl))if("enemy"!==h.fusion){for(const f of Object.keys(h.skills))p[f].learnedBy.push({demon:h.name,level:h.skills[f]});for(let f=0;f<h.ailments.length;f++)y[h.ailments[f]]&&y[h.ailments[f]][f].learnedBy.push({demon:h.name,level:0})}this._dlcDemons=this.compConfig.dlcDemons.reduce((h,f)=>(h[f]=!1,h),{}),this.demons=n,this.skills=p,this.specialRecipes=r,this.specialPairRecipes=g,this.invertedDemons=u}updateDerivedData(){const n=Object.assign({},this.demons),p=Object.keys(this.skills).map(u=>this.skills[u]),r={},g={};for(const u of this.compConfig.races)r[u]=[],g[u]=[];for(const[u,v]of Object.entries(this.demons))!this.isElementDemon(u)&&!this.isOverlappingResult(u)&&r[v.race].push(v.lvl),this.specialRecipes.hasOwnProperty(u)||g[v.race].push(v.lvl);for(const u of this.compConfig.races)r[u].sort((v,y)=>v-y),g[u].sort((v,y)=>v-y);for(const u of this.compConfig.races){const v=r[u],y=g[u],A=v.length,N=y.length;A&&N&&v[A-1]!==y[N-1]&&y.push(100)}for(const[u,v]of Object.entries(this._dlcDemons))for(const y of u.split(","))if(this.demons[y]){if(!v){const{race:A,lvl:N}=this.demons[y];delete n[y],r[A]=r[A].filter(j=>j!==N),g[A]=g[A].filter(j=>j!==N)}this.demons[y].fusion=v?"special":"excluded"}this._allDemons=Object.keys(n).map(u=>n[u]),this._allSkills=p.filter(u=>u.rank<99||u.learnedBy.length>0),this.allIngredients=r,this.allResults=g}get dlcDemons(){return this._dlcDemons}set dlcDemons(n){this._dlcDemons=n,this.updateDerivedData()}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(n=>this.demons[n])}getDemon(n){return this.demons[n]}getSkill(n){return this.skills[n]}getSkills(n){const p=this.compConfig.elemOrder,r=n.map(g=>this.skills[g]);return r.sort((g,u)=>1e4*(p[g.element]-p[u.element])+g.rank-u.rank),r}getIngredientDemonLvls(n){return this.allIngredients[n]||[]}getResultDemonLvls(n){return this.allResults[n]||[]}getSpecialNameEntries(n){return this.specialRecipes[n]||[]}getSpecialNamePairs(n){return this.specialPairRecipes[n]||[]}reverseLookupDemon(n,p){return this.invertedDemons[n][p]}reverseLookupSpecial(n){return[]}isElementDemon(n){return"Element"===this.demons[n].race}isOverlappingResult(n){return!1}}var S=m(6262);let U=(()=>{var a;class n extends S.g{constructor(r){super(),this.initCharts(r)}initCharts(r){const g=r.normalTable.races,u=r.normalTable.table,v=r.elementTable.elems,y=r.elementTable.races,A=r.elementTable.table;this.lvlModifier=r.lvlModifier,this.elementDemons=v,this.fusionChart=S.g.loadFusionTableJson(g,u),this.fissionChart=S.g.loadFissionTableJson(g,v,u),this.elementChart=S.g.loadElementTableJson(y,v,A),this.races=g}getLightDark(r){return-1!==n.LIGHT_RACES.indexOf(r)?1:-1!==n.DARK_RACES.indexOf(r)?-1:0}}return(a=n).LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Entity","Wargod","Amatsu","Kunitsu","Godly","Chaos","\u5927\u5929\u4f7f","\u5973\u795e","\u970a\u9ce5","\u795e\u6a39","\u9b54\u795e","\u795e\u7363","\u8056\u7363","\u5e7b\u9b54","\u7834\u58ca\u795e","\u5730\u6bcd\u795e","\u9f8d\u795e","\u9b3c\u795e","\u79d8\u795e","\u5a01\u970a","\u8ecd\u795e","\u5929\u6d25\u795e","\u56fd\u6d25\u795e","\u795e\u970a","\u6df7\u6c8c\u738b"],a.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot","\u90aa\u795e","\u51f6\u9ce5","\u5996\u6a39","\u6b7b\u795e","\u5996\u7363","\u90aa\u9b3c","\u5e7d\u866b","\u9b54\u738b","\u90aa\u9f8d","\u60aa\u970a","\u5e7d\u9b3c","\u5e7d\u9b3c","\u72c2\u795e"],n})();var I=m(7548),E=m(4769),d=m(4487);let D=(()=>{var a;class n{constructor(r,g){this.fissionCalculator=I.uC,this.fusionCalculator=I.YP,this.compConfig=g.url.includes("/ja/")?function t(a){const n=a.engNames,p=a.races.map(r=>n[r]||r);return{appTitle:n[a.appTitle]||a.appTitle,races:p,raceOrder:a.raceOrder,appCssClasses:a.appCssClasses,lang:"ja",engNames:a.engNames,affinityElems:a.affinityElems,skillData:b(a.skillData,n),skillElems:a.skillElems,elemOrder:a.elemOrder,resistCodes:a.resistCodes,affinityBonuses:a.affinityBonuses,lvlModifier:a.lvlModifier,demonData:l(a.demonData,n),evolveData:C(a.evolveData,n),dlcDemons:a.dlcDemons.map(r=>r.split(",").map(g=>n[g]||g).join(",")),baseStats:a.baseStats.map(r=>n[r]||r),resistElems:a.resistElems,ailmentElems:a.ailmentElems.map(r=>n[r]||r),normalTable:O(a.normalTable,n),elementTable:O(a.elementTable,n),specialRecipes:F(a.specialRecipes,n),settingsKey:a.settingsKey.replace("-ja","")+"-ja",settingsVersion:a.settingsVersion}}(r):r,this.appName=this.compConfig.appTitle+("ja"!==this.compConfig.lang?" Fusion Calculator":" \u5408\u4f53\u30a2\u30d7\u30ea"),this._compendium=new T(this.compConfig),this._compendium$=new e.X(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new U(this.compConfig),this._fusionChart$=new e.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable();const u=JSON.parse(localStorage.getItem(this.compConfig.settingsKey));u&&u.version&&u.version>=this.compConfig.settingsVersion&&this.nextDlcDemons(u.dlcDemons),window.addEventListener("storage",this.onStorageUpdated.bind(this))}nextDlcDemons(r){localStorage.setItem(this.compConfig.settingsKey,JSON.stringify({version:this.compConfig.settingsVersion,dlcDemons:r})),this._compendium.dlcDemons=r,this._compendium$.next(this._compendium)}onStorageUpdated(r){r.key===this.compConfig.settingsKey&&(this._compendium.dlcDemons=JSON.parse(r.newValue).dlcDemons,this._compendium$.next(this._compendium))}}return(a=n).\u0275fac=function(r){return new(r||a)(E.LFG(I.I7),E.LFG(d.F0))},a.\u0275prov=E.Yz7({token:a,factory:a.\u0275fac}),n})()},3495:(J,L,m)=>{m.d(L,{D:()=>C});var e=m(6814),t=m(6208),l=m(8325),b=m(1135),F=m(4769);let C=(()=>{var O;class T{static forRoot(){return{ngModule:T}}}return(O=T).\u0275fac=function(U){return new(U||O)},O.\u0275mod=F.oAB({type:O}),O.\u0275inj=F.cJS({imports:[e.ez,t.m,l.a,b.V]}),T})()}}]);