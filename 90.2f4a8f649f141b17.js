"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[90],{3687:(B,R,r)=>{r.d(R,{d:()=>E});var e=r(4769),t=r(6593),n=r(6814);function O(k,A){if(1&k){const b=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"label"),e._uU(3),e.TgZ(4,"input",3),e.NdJ("change",function(){const g=e.CHM(b).$implicit,a=e.oxw();return e.KtG(a.toggledName.emit(g.name))}),e.qZA()()()()}if(2&k){const b=A.$implicit;e.xp6(3),e.hij("",b.name.split(",").join(", ")," "),e.xp6(1),e.Q6J("checked",b.included)}}let E=(()=>{var k;class A{constructor(f){this.title=f,this.dlcTitle="Included DLC Demons",this.langEn=!0,this.toggledName=new e.vpe}set appTitle(f){this.title.setTitle((this.langEn?"Fusion Settings - ":"\u5408\u4f53\u8a2d\u5b9a ")+f)}}return(k=A).\u0275fac=function(f){return new(f||k)(e.Y36(t.Dx))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-demon-dlc-settings"]],inputs:{dlcDemons:"dlcDemons",dlcTitle:"dlcTitle",langEn:"langEn",appTitle:"appTitle"},outputs:{toggledName:"toggledName"},decls:10,vars:2,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(f,S){1&f&&(e.ynx(0),e.TgZ(1,"h2"),e._uU(2),e.qZA(),e.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th",1),e._uU(7,"DLC"),e.qZA()()(),e.TgZ(8,"tbody"),e.YNc(9,O,5,2,"tr",2),e.qZA()(),e.BQk()),2&f&&(e.xp6(2),e.Oqu(S.dlcTitle),e.xp6(7),e.Q6J("ngForOf",S.dlcDemons))},dependencies:[n.sg],encapsulation:2,changeDetection:0}),A})()},755:(B,R,r)=>{r.d(R,{n:()=>g});var e=r(4769),t=r(6814),n=r(3934);function O(a,s){1&a&&(e.TgZ(0,"th"),e._uU(1,"Target"),e.qZA())}function E(a,s){1&a&&(e.TgZ(0,"th"),e._uU(1,"Rank"),e.qZA())}function k(a,s){1&a&&(e.TgZ(0,"th"),e._uU(1,"Inherit"),e.qZA())}function A(a,s){1&a&&(e.TgZ(0,"th"),e._uU(1,"Level"),e.qZA())}const b=function(a,s){return{extra:a,unique:s}};function f(a,s){if(1&a&&e._UZ(0,"tr",4),2&a){const h=s.$implicit,d=e.oxw();e.Q6J("hasTarget",d.hasTarget)("hasRank",d.hasRank)("hasInherit",d.hasInherit)("hasLearned",!1)("hasLvl",d.hasLvl)("skillLvl",h.level)("data",h)("ngClass",e.WLB(8,b,h.rank>70&&h.rank<90,h.rank>90))}}function S(a,s){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA()()),2&a){const h=e.oxw();e.xp6(1),e.uIk("colspan",h.skillHeaderLen),e.xp6(1),e.hij("No ",h.title," Found")}}let g=(()=>{var a;class s{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.skillHeaderLen=5}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(d=>this.compendium.getSkill(d));for(const d of this.skills)d.level=this.skillLevels[d.name];this.elemOrder&&this.skills.sort((d,_)=>200*(d.level-_.level)+this.elemOrder[d.element]-this.elemOrder[_.element])}}return(a=s).\u0275fac=function(d){return new(d||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels"},features:[e.TTD],decls:22,vars:8,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(d,_){1&d&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"th"),e._uU(7,"Elem"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"Cost"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"Effect"),e.qZA(),e.YNc(14,O,2,0,"th",2),e.YNc(15,E,2,0,"th",2),e.YNc(16,k,2,0,"th",2),e.YNc(17,A,2,0,"th",2),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,f,1,11,"tr",3),e.YNc(20,S,3,2,"tr",2),e._UZ(21,"tr"),e.qZA()()),2&d&&(e.xp6(3),e.uIk("colSpan",_.skillHeaderLen),e.xp6(1),e.Oqu(_.title),e.xp6(10),e.Q6J("ngIf",_.hasTarget),e.xp6(1),e.Q6J("ngIf",_.hasRank),e.xp6(1),e.Q6J("ngIf",_.hasInherit),e.xp6(1),e.Q6J("ngIf",_.hasLvl),e.xp6(2),e.Q6J("ngForOf",_.skills),e.xp6(1),e.Q6J("ngIf",!_.skills.length))},dependencies:[t.mk,t.sg,t.O5,n.W],encapsulation:2,changeDetection:0}),s})()},8520:(B,R,r)=>{r.d(R,{O:()=>a});var e=r(4769),t=r(6814);function n(s,h){if(1&s&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&s){const d=e.oxw();e.xp6(1),e.Oqu(d.title)}}function O(s,h){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&s){const d=e.oxw();e.xp6(1),e.Oqu(d.langEn?"Price":"\u4fa1\u683c")}}function E(s,h){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&s){const d=h.$implicit;e.xp6(1),e.Oqu(d)}}function k(s,h){1&s&&(e.TgZ(0,"th"),e._uU(1,"Inherits"),e.qZA())}function A(s,h){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&s){const d=h.$implicit;e.xp6(1),e.Oqu(d)}}function b(s,h){if(1&s&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&s){const d=e.oxw();e.xp6(1),e.Oqu(d.price)}}function f(s,h){if(1&s&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&s){const d=h.$implicit;e.xp6(1),e.Oqu(d)}}function S(s,h){if(1&s&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()()),2&s){const d=e.oxw();e.xp6(1),e.Gre("element-icon i",d.inherits,""),e.xp6(1),e.Oqu(d.inherits)}}const g=["*"];let a=(()=>{var s;class h{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.langEn=!0}}return(s=h).\u0275fac=function(_){return new(_||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",langEn:"langEn"},ngContentSelectors:g,decls:19,vars:10,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(_,o){1&_&&(e.F$t(),e.ynx(0),e.YNc(1,n,2,1,"h2",0),e.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),e._uU(6),e.qZA()(),e.TgZ(7,"tr"),e.YNc(8,O,2,1,"th",0),e.YNc(9,E,2,1,"th",3),e.YNc(10,k,2,0,"th",0),e.YNc(11,A,2,1,"th",3),e.qZA()(),e.TgZ(12,"tbody")(13,"tr"),e.YNc(14,b,2,1,"td",0),e.YNc(15,f,2,1,"td",3),e.YNc(16,S,3,4,"td",0),e.Hsn(17),e.qZA()()(),e.GkF(18),e.BQk()),2&_&&(e.xp6(1),e.Q6J("ngIf",o.title.includes("Lvl")),e.xp6(4),e.uIk("colSpan",o.stats.length+o.fusionHeaders.length+(o.inherits?1:0)+(o.price?1:0)),e.xp6(1),e.hij(" ",o.title.includes("Lvl")?o.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9":o.title," "),e.xp6(2),e.Q6J("ngIf",o.price),e.xp6(1),e.Q6J("ngForOf",o.statHeaders),e.xp6(1),e.Q6J("ngIf",o.inherits),e.xp6(1),e.Q6J("ngForOf",o.fusionHeaders),e.xp6(3),e.Q6J("ngIf",o.price),e.xp6(1),e.Q6J("ngForOf",o.stats),e.xp6(1),e.Q6J("ngIf",o.inherits))},dependencies:[t.sg,t.O5],encapsulation:2,changeDetection:0}),h})()},5939:(B,R,r)=>{r.d(R,{RL:()=>A,gQ:()=>b});var e=r(7548),t=r(6404),n=r(4769),O=r(6814);function E(f,S){if(1&f&&(n.TgZ(0,"tr")(1,"th"),n._uU(2),n.qZA()()),2&f){const g=S.$implicit;n.xp6(2),n.Oqu(g)}}let k=(()=>{var f;class S{ngOnChanges(){if(this.compendium&&this.pairChart&&(this.trioChart||!this.trioCalculator)){const a=[];for(const s of this.compendium.allDemons.filter(h=>!h.isEnemy)){const h=this.compendium.getSpecialNameEntries(s.name);if(h.length>0){a.push(`${s.name} = ${h.join(" x ")}`);continue}const d=this.pairCalculator.getFusions(s.name,this.compendium,this.pairChart).map(o=>(0,t.S6)(o,this.compendium));if(d.length>0&&(d.filter(o=>o.race1!==s.race).length>0||!this.trioCalculator||0===this.trioCalculator.getFusions(s.name,this.compendium,this.trioChart).length)){d.sort((v,u)=>v.price-u.price);const o=d.slice(0,3).map(v=>`${v.name1} x ${v.name2}`).join(", ");a.push(`${s.name} = ${o}`+(d.length>3?`, ${d.length-3} more...`:""))}else{if(this.trioCalculator){const o=this.trioCalculator.getFusions(s.name,this.compendium,this.trioChart).map(v=>(0,t.Aw)(v,this.compendium)).filter(v=>v.d1.race!==s.race);if(o.length>0){o.sort((u,T)=>u.price-T.price);const v=o.slice(0,3).map(u=>`${u.d1.name} x ${u.d2.name} x ${u.d3.name}`).join(", ");a.push(`${s.name} = ${v}`+(o.length>3?`, ${o.length-3} more...`:""));continue}}a.push(s.prereq?`${s.name} = ${s.prereq}`:`${s.name} = No fusions found!`)}}this.fissionPreviews=a}}}return(f=S).\u0275fac=function(a){return new(a||f)},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-fission-preview-table"]],inputs:{pairCalculator:"pairCalculator",trioCalculator:"trioCalculator",pairChart:"pairChart",trioChart:"trioChart",compendium:"compendium"},features:[n.TTD],decls:6,vars:1,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(a,s){1&a&&(n.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),n._uU(4,"Fission Previews"),n.qZA()(),n.YNc(5,E,3,1,"tr",2),n.qZA()()),2&a&&(n.xp6(5),n.Q6J("ngForOf",s.fissionPreviews))},dependencies:[O.sg],encapsulation:2,changeDetection:0}),S})(),A=(()=>{var f;class S{constructor(a){this.fusionDataService=a,this.subscriptions=[]}ngOnInit(){this.calculator=this.fusionDataService.fissionCalculator,this.subscriptions.push(this.fusionDataService.compendium.subscribe(a=>{this.compendium=a})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(a=>{this.fusionChart=a}))}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}}return(f=S).\u0275fac=function(a){return new(a||f)(n.Y36(e.vE))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-smt-fission-preview"]],decls:2,vars:3,consts:[[3,"pairCalculator","pairChart","compendium"]],template:function(a,s){1&a&&(n.TgZ(0,"app-fission-preview-table",0),n._UZ(1,"app-fission-preview-table"),n.qZA()),2&a&&n.Q6J("pairCalculator",s.calculator)("pairChart",s.fusionChart)("compendium",s.compendium)},dependencies:[k],encapsulation:2,changeDetection:0}),S})(),b=(()=>{var f;class S{constructor(a){this.fusionTrioService=a,this.subscriptions=[]}ngOnInit(){this.pairCalculator=this.fusionTrioService.fissionCalculator,this.trioCalculator=this.fusionTrioService.triFissionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(a=>{this.compendium=a})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(a=>{this.fusionChart=a}))}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}}return(f=S).\u0275fac=function(a){return new(a||f)(n.Y36(e.Ir))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-trio-fission-preview"]],decls:2,vars:5,consts:[[3,"pairCalculator","trioCalculator","pairChart","trioChart","compendium"]],template:function(a,s){1&a&&(n.TgZ(0,"app-fission-preview-table",0),n._UZ(1,"app-fission-preview-table"),n.qZA()),2&a&&n.Q6J("pairCalculator",s.pairCalculator)("trioCalculator",s.trioCalculator)("pairChart",s.fusionChart.normalChart)("trioChart",s.fusionChart)("compendium",s.compendium)},dependencies:[k],encapsulation:2,changeDetection:0}),S})()},4758:(B,R,r)=>{r.d(R,{t:()=>S});var e=r(4769),t=r(6814),n=r(4487);function O(g,a){if(1&g&&(e.TgZ(0,"li")(1,"a",7),e._uU(2),e.qZA()()),2&g){const s=a.$implicit;e.xp6(1),e.MGl("routerLink","../",s,""),e.xp6(1),e.hij("",s," ")}}function E(g,a){if(1&g&&(e.TgZ(0,"li")(1,"a",7),e._uU(2),e.qZA()()),2&g){const s=a.$implicit;e.xp6(1),e.MGl("routerLink","../",s,""),e.xp6(1),e.hij("",s," ")}}function k(g,a){if(1&g&&(e.TgZ(0,"ul",5),e.YNc(1,E,3,2,"li",4),e.qZA()),2&g){const s=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",s.names2)}}function A(g,a){if(1&g&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&g){const s=a.$implicit;e.xp6(1),e.hij("",s," ")}}function b(g,a){if(1&g&&(e.TgZ(0,"ul",5),e.YNc(1,A,2,1,"li",4),e.qZA()),2&g){const s=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",s.names2)}}function f(g,a){if(1&g&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"ul",5),e.YNc(5,O,3,2,"li",4),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e.YNc(11,k,2,1,"ul",6),e.YNc(12,b,2,1,"ul",6),e.qZA()()),2&g){const s=a.$implicit,h=e.oxw();e.xp6(2),e.Oqu(s.price),e.xp6(3),e.Q6J("ngForOf",s.names1),e.xp6(2),e.Oqu(s.lvl1),e.xp6(2),e.Oqu(s.lvl2),e.xp6(2),e.Q6J("ngIf",h.leftHeader===h.rightHeader),e.xp6(1),e.Q6J("ngIf",h.leftHeader!==h.rightHeader)}}let S=(()=>{var g;class a{constructor(){this.leftHeader="Ingredient",this.rightHeader="Ingredient",this.resultName="Result"}}return(g=a).\u0275fac=function(h){return new(h||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-fusion-multi-pair-table"]],inputs:{leftHeader:"leftHeader",rightHeader:"rightHeader",resultName:"resultName",rowData:"rowData"},decls:23,vars:6,consts:[[1,"entry-table"],["colspan","5",1,"title"],["rowspan","2"],["colspan","3"],[4,"ngFor","ngForOf"],[1,"comma-list"],["class","comma-list",4,"ngIf"],[3,"routerLink"]],template:function(h,d){1&h&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"th",2),e._uU(7,"Price"),e.qZA(),e.TgZ(8,"th",3),e._uU(9),e.qZA(),e.TgZ(10,"th"),e._uU(11),e.qZA()(),e.TgZ(12,"tr")(13,"th"),e._uU(14,"Names"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"MinLvl"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"MaxLvl"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Names"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,f,13,6,"tr",4),e.qZA()()),2&h&&(e.xp6(4),e.lnq("",d.leftHeader," 1 x ",d.rightHeader," 2 = ",d.resultName,""),e.xp6(5),e.hij("",d.leftHeader," 1"),e.xp6(2),e.hij("",d.rightHeader," 2"),e.xp6(11),e.Q6J("ngForOf",d.rowData))},dependencies:[t.sg,t.O5,n.rH],encapsulation:2,changeDetection:0}),a})()},4069:(B,R,r)=>{r.d(R,{O:()=>g});var e=r(3247),t=r(3808),n=r(4769),O=r(6814),E=r(4487);const k=function(){return{exact:!0}};function A(a,s){if(1&a&&(n.TgZ(0,"th",4)(1,"a",5),n._uU(2),n.qZA()()),2&a){const h=s.$implicit,d=n.oxw();n.Udp("width",100/d.fusionOptions.length,"%"),n.Q6J("routerLink",h.link)("routerLinkActiveOptions",n.DdM(6,k)),n.xp6(1),n.Q6J("routerLink",h.link),n.xp6(1),n.Oqu(h.title)}}function b(a,s){if(1&a&&(n.TgZ(0,"tr")(1,"th",6),n._uU(2),n.qZA()()),2&a){const h=n.oxw();n.xp6(1),n.uIk("colspan",h.fusionOptions.length),n.xp6(1),n.hij(" ",h.langEn?"DLC marked as excluded in fusion settings, results may be inaccurate!":"DLC\u306a\u3057"," ")}}function f(a,s){if(1&a&&(n.TgZ(0,"tr")(1,"th",6),n.Hsn(2),n.qZA()()),2&a){const h=n.oxw();n.xp6(1),n.uIk("colspan",h.fusionOptions.length)}}const S=["*"];let g=(()=>{var a;class s{constructor(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.langEn=!0,this.fusionOptions=s.NORMAL_FUSIONS_EN}ngOnInit(){this.fusionOptions=this.hasTripleFusion?s.TRIPLE_FUSIONS:this.langEn?s.NORMAL_FUSIONS_EN:s.NORMAL_FUSIONS_JA}ngOnChanges(){setTimeout(()=>this.stickyTable.nextEdges())}}return(a=s).NORMAL_FUSIONS_EN=[{title:"Reverse Fusions",link:"fissions"},{title:"Forward Fusions",link:"fusions"}],a.NORMAL_FUSIONS_JA=[{title:"\u9006\u5f15\u304d\u5408\u4f53",link:"fissions"},{title:"2\u8eab\u5408\u4f53",link:"fusions"}],a.TRIPLE_FUSIONS=[{title:"Normal Reverse Fusions",link:"fissions"},{title:"Triple Reverse Fusions",link:"fissions/triple"},{title:"Triple Forward Fusions",link:"fusions/triple"},{title:"Normal Forward Fusions",link:"fusions"}],a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-smt-fusions"]],viewQuery:function(d,_){if(1&d&&n.Gf(t.v,5),2&d){let o;n.iGM(o=n.CRH())&&(_.stickyTable=o.first)}},inputs:{hasTripleFusion:"hasTripleFusion",showFusionAlert:"showFusionAlert",excludedDlc:"excludedDlc",langEn:"langEn"},features:[n._Bn([e.L]),n.TTD],ngContentSelectors:S,decls:11,vars:3,consts:[["appPositionSticky","",1,"list-table"],["stickyTable",""],["class","nav","routerLinkActive","active",3,"routerLink","width","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],[1,"title"]],template:function(d,_){1&d&&(n.F$t(),n.TgZ(0,"div")(1,"table",0,1)(3,"thead")(4,"tr"),n.YNc(5,A,3,7,"th",2),n.qZA(),n.YNc(6,b,3,2,"tr",3),n._UZ(7,"tr"),n.YNc(8,f,3,1,"tr",3),n._UZ(9,"tr"),n.qZA()(),n._UZ(10,"router-outlet"),n.qZA()),2&d&&(n.xp6(5),n.Q6J("ngForOf",_.fusionOptions),n.xp6(1),n.Q6J("ngIf",_.excludedDlc),n.xp6(2),n.Q6J("ngIf",_.showFusionAlert))},dependencies:[O.sg,O.O5,E.lC,E.rH,E.Od,t.v],encapsulation:2,changeDetection:0}),s})()},3186:(B,R,r)=>{r.d(R,{f:()=>t});var e=r(4769);let t=(()=>{var n;class O{constructor(k,A){this.changeDetector2=k,this.fusionDataService2=A,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService2.compendium.subscribe(k=>{this.changeDetector2.markForCheck(),this.compendium=k,this._dlcDemons=Object.assign({},this.compendium.dlcDemons),this.dlcDemons=Object.entries(this._dlcDemons).map(([A,b])=>({name:A,included:b}))}))}ngOnDestroy(){for(const k of this.subscriptions)k.unsubscribe()}toggleName(k){this._dlcDemons[k]=!this._dlcDemons[k],this.fusionDataService2.nextDlcDemons(this._dlcDemons)}}return(n=O).\u0275fac=function(k){e.$Z()},n.\u0275dir=e.lG2({type:n}),O})()},9641:(B,R,r)=>{r.d(R,{V:()=>ne});var e=r(4487),t=r(4769),n=r(6814),O=r(5390);let E=(()=>{var l;class D{constructor(){this.otherLinks=[{title:"Shadow List",link:"shadows"},{title:"Recipe Generator",link:"recipes"}]}}return(l=D).\u0275fac=function(i){return new(i||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-p5-compendium"]],decls:1,vars:3,consts:[[3,"ngClass","mainList","otherLinks"]],template:function(i,m){1&i&&t._UZ(0,"app-demon-compendium",0),2&i&&t.Q6J("ngClass","p5")("mainList","persona")("otherLinks",m.otherLinks)},dependencies:[n.mk,O.e],styles:[".p5 div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:center;color:transparent}.p5 div.element-icon.phy{background-image:url(/assets/images/p5/phys.png)}.p5 div.element-icon.i3075{background-image:url(/assets/images/p5/phys.png)}.p5 div.element-icon.gun{background-image:url(/assets/images/p5/gun.png)}.p5 div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.p5 div.element-icon.i3839{background-image:url(/assets/images/p5/fire.png)}.p5 div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.p5 div.element-icon.i3583{background-image:url(/assets/images/p5/ice.png)}.p5 div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.p5 div.element-icon.i4031{background-image:url(/assets/images/p5/elec.png)}.p5 div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.p5 div.element-icon.i3967{background-image:url(/assets/images/p5/wind.png)}.p5 div.element-icon.psy{background-image:url(/assets/images/p5/psy.png)}.p5 div.element-icon.i4079{background-image:url(/assets/images/p5/psy.png)}.p5 div.element-icon.nuk{background-image:url(/assets/images/p5/nuke.png)}.p5 div.element-icon.i4063{background-image:url(/assets/images/p5/nuke.png)}.p5 div.element-icon.lig{background-image:url(/assets/images/p5/bless.png)}.p5 div.element-icon.i1017{background-image:url(/assets/images/p5/bless.png)}.p5 div.element-icon.dar{background-image:url(/assets/images/p5/curse.png)}.p5 div.element-icon.i1014{background-image:url(/assets/images/p5/curse.png)}.p5 div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.p5 div.element-icon.i4086{background-image:url(/assets/images/p5/ailment.png)}.p5 div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.p5 div.element-icon.i1019{background-image:url(/assets/images/p5/healing.png)}.p5 div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.p5 div.element-icon.i4095{background-image:url(/assets/images/p5/almighty.png)}.p5 div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.p5 div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.p5 div.element-icon.i0{background-image:url(/assets/images/p5/passive.png)}.p5 div.element-icon.tra{background-image:url(/assets/images/p5/trait.png)}.p5 th.title,.p5 th.nav.active,.p5 th.nav.active a{color:#fff;background-color:#f41000}\n"],encapsulation:2,changeDetection:0}),D})();var k=r(1032),A=r(6593),b=r(5195),f=r(4101);let S=(()=>{var l;class D extends k.l{constructor(i,m,P,Z){super(i,P,Z),this.showAllies=!m.snapshot.data.showShadows,this.showEnemies=!this.showAllies,this.compConfig=Z.compConfig,this.defaultSortFun=(I,j)=>200*(this.compConfig.raceOrder[I.race]-this.compConfig.raceOrder[j.race])+j.lvl-I.lvl,this.appName=`List of Personas - ${Z.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Shadows - ${Z.appName}`,this.statHeaders=["HP","MP"],this.resistHeaders=this.compConfig.enemyResists,this.inheritOrder=null)}}return(l=D).\u0275fac=function(i){return new(i||l)(t.Y36(A.Dx),t.Y36(e.gz),t.Y36(t.sBO),t.Y36(b.Y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-demon-list-container"]],features:[t.qOj],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","inheritOrder","statHeaders","resistHeaders","rowData"]],template:function(i,m){1&i&&(t._UZ(0,"app-smt-demon-list",0),t.ALo(1,"async")),2&i&&t.Q6J("isEnemy",m.showEnemies)("raceOrder",m.compConfig.raceOrder)("inheritOrder",m.inheritOrder)("statHeaders",m.statHeaders)("resistHeaders",m.resistHeaders)("rowData",t.lcZ(1,6,m.demons))},dependencies:[f.Q,n.Ov],encapsulation:2,changeDetection:0}),D})();var g=r(4330),a=r(3934);let s=(()=>{var l;class D extends g.e{constructor(i,m,P){super(i,m,P),this.compConfig=P.compConfig,this.appName=`List of Skills - ${P.appName}`,this.defaultSortFun=(Z,I)=>1e4*(this.compConfig.elemOrder[Z.element]-this.compConfig.elemOrder[I.element])+Z.rank-I.rank}}return(l=D).\u0275fac=function(i){return new(i||l)(t.Y36(A.Dx),t.Y36(t.sBO),t.Y36(b.Y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-skill-list-container"]],features:[t.qOj],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(i,m){1&i&&(t._UZ(0,"app-smt-skill-list",0),t.ALo(1,"async")),2&i&&t.Q6J("elemOrder",m.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Skill Card")("rowData",t.lcZ(1,6,m.skills))},dependencies:[a.J,n.Ov],encapsulation:2,changeDetection:0}),D})();var h=r(7293),d=r(7880),_=r(8520),o=r(1009),v=r(755),u=r(9012),T=r(4069),N=r(4758),L=r(8711);function w(l,D){if(1&l&&(t.TgZ(0,"a",6),t._uU(1),t.qZA()),2&l){const c=t.oxw();t.MGl("routerLink","../../personas/",c.demon.persona,""),t.xp6(1),t.hij(" ",c.demon.persona," ")}}const C=function(){return["EXP","Yen","HP","MP"]},y=function(l,D){return[l,D]};let p=(()=>{var l;class D{}return(l=D).\u0275fac=function(i){return new(i||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:27,vars:16,consts:[[3,"title","statHeaders","stats"],[1,"entry-table"],["colspan","4",1,"title"],[3,"routerLink",4,"ngIf"],[3,"resistHeaders","resists"],[3,"elemOrder","compendium","skillLevels"],[3,"routerLink"]],template:function(i,m){1&i&&(t._UZ(0,"app-demon-stats",0),t.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),t._uU(5,"Negotiation"),t.qZA()(),t.TgZ(6,"tr")(7,"th"),t._uU(8,"Persona"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Personality"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Areas"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Drops"),t.qZA()()(),t.TgZ(15,"tbody")(16,"tr")(17,"td"),t.YNc(18,w,2,2,"a",3),t.qZA(),t.TgZ(19,"td"),t._uU(20),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA(),t.TgZ(23,"td"),t._uU(24),t.qZA()()()(),t._UZ(25,"app-demon-resists",4)(26,"app-demon-skills",5)),2&i&&(t.Q6J("title","Lvl "+m.demon.lvl+" "+m.demon.race+" "+m.demon.name)("statHeaders",t.DdM(12,C).concat(m.compConfig.baseStats))("stats",t.WLB(13,y,m.demon.exp,m.demon.price).concat(m.demon.stats,m.demon.estats)),t.xp6(18),t.Q6J("ngIf",m.demon.persona&&"-"!=m.demon.persona),t.xp6(2),t.Oqu(m.demon.trait),t.xp6(2),t.Oqu(m.demon.area),t.xp6(2),t.Oqu(m.demon.item),t.xp6(1),t.Q6J("resistHeaders",m.compConfig.resistElems)("resists",m.demon.resists),t.xp6(1),t.Q6J("elemOrder",m.compConfig.elemOrder)("compendium",m.compendium)("skillLevels",m.demon.skills))},dependencies:[n.O5,_.O,o.I,v.n,e.rH],encapsulation:2,changeDetection:0}),D})();function F(l,D){if(1&l&&t._UZ(0,"app-fusion-multi-pair-table",8),2&l){const c=t.oxw(2);t.Q6J("resultName",c.name)("rowData",c.elemRecipes)}}const M=function(){return["Electric Chair"]};function x(l,D){if(1&l&&(t.ynx(0),t.TgZ(1,"app-demon-stats",2)(2,"td"),t._uU(3),t.qZA()(),t._UZ(4,"app-demon-resists",3)(5,"app-demon-inherits",4)(6,"app-demon-skills",5),t.YNc(7,F,1,2,"app-fusion-multi-pair-table",6),t._UZ(8,"app-smt-fusions",7),t.BQk()),2&l){const c=t.oxw();t.xp6(1),t.Q6J("title","Lvl "+c.demon.lvl+" "+c.demon.race+" "+c.demon.name)("price",c.demon.price)("statHeaders",c.compConfig.baseStats)("stats",c.demon.stats)("fusionHeaders",t.DdM(17,M))("inherits",c.demon.inherits),t.xp6(2),t.Oqu(c.demon.item),t.xp6(1),t.Q6J("resistHeaders",c.compConfig.resistElems)("resists",c.demon.resists),t.xp6(1),t.Q6J("inheritHeaders",c.compConfig.inheritElems)("inherits",c.compendium.getInheritElems(c.demon.inherits)),t.xp6(1),t.Q6J("elemOrder",c.compConfig.elemOrder)("hasTarget",!0)("compendium",c.compendium)("skillLevels",c.demon.skills),t.xp6(1),t.Q6J("ngIf",c.elemRecipes.length),t.xp6(1),t.Q6J("excludedDlc","excluded"===c.demon.fusion)}}function H(l,D){if(1&l&&t._UZ(0,"app-demon-missing",9),2&l){const c=t.oxw();t.Q6J("name",c.name)}}function U(l,D){if(1&l&&t._UZ(0,"app-demon-entry",2),2&l){const c=t.oxw();t.Q6J("name",c.name)("demon",c.demon)("elemRecipes",c.elemRecipes)("compConfig",c.compConfig)("compendium",c.compendium)}}function J(l,D){if(1&l&&t._UZ(0,"app-enemy-entry",3),2&l){const c=t.oxw();t.Q6J("name",c.name)("demon",c.demon)("compConfig",c.compConfig)("compendium",c.compendium)}}let W=(()=>{var l;class D{}return(l=D).\u0275fac=function(i){return new(i||l)},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",elemRecipes:"elemRecipes",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","price","statHeaders","stats","fusionHeaders","inherits"],[3,"resistHeaders","resists"],[3,"inheritHeaders","inherits"],[3,"elemOrder","hasTarget","compendium","skillLevels"],[3,"resultName","rowData",4,"ngIf"],[3,"excludedDlc"],[3,"resultName","rowData"],[3,"name"]],template:function(i,m){1&i&&(t.YNc(0,x,9,18,"ng-container",0),t.YNc(1,H,1,1,"app-demon-missing",1)),2&i&&(t.Q6J("ngIf",m.demon),t.xp6(1),t.Q6J("ngIf",!m.demon))},dependencies:[n.O5,d.t,_.O,o.I,v.n,u.N,T.O,N.t],encapsulation:2,changeDetection:0}),D})(),q=(()=>{var l;class D{constructor(i,m,P,Z){this.route=i,this.title=m,this.currentDemonService=P,this.fusionDataService=Z,this.subscriptions=[],this.appName="Test App",this.appName=Z.appName,this.compConfig=Z.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const i of this.subscriptions)i.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(i=>{this.compendium=i,this.getDemonEntry()})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(i=>{this.fusionChart=i,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(i=>{this.name=i,this.getDemonEntry()})),this.route.params.subscribe(i=>{this.currentDemonService.nextCurrentDemon(i.demonName)})}getDemonEntry(){this.compendium&&this.fusionChart&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name),this.elemRecipes=this.demon?(0,h.N8)(this.name,this.compendium,this.fusionChart):[])}}return(l=D).\u0275fac=function(i){return new(i||l)(t.Y36(e.gz),t.Y36(A.Dx),t.Y36(L.s),t.Y36(b.Y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","elemRecipes","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","elemRecipes","compConfig","compendium"],[3,"name","demon","compConfig","compendium"]],template:function(i,m){1&i&&(t.YNc(0,U,1,5,"app-demon-entry",0),t.YNc(1,J,1,4,"app-enemy-entry",1)),2&i&&(t.Q6J("ngIf",!m.demon||!m.demon.isEnemy),t.xp6(1),t.Q6J("ngIf",m.demon&&m.demon.isEnemy))},dependencies:[n.O5,W,p],encapsulation:2,changeDetection:0}),D})();var Q=r(3186),Y=r(3687);let z=(()=>{var l;class D extends Q.f{constructor(i,m){super(i,m),this.changeDetector=i,this.fusionDataService=m,this.appTitle=m.appName}}return(l=D).\u0275fac=function(i){return new(i||l)(t.Y36(t.sBO),t.Y36(b.Y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-demon-dlc-settings-container"]],features:[t.qOj],decls:1,vars:3,consts:[[3,"dlcDemons","appTitle","dlcTitle","toggledName"]],template:function(i,m){1&i&&(t.TgZ(0,"app-demon-dlc-settings",0),t.NdJ("toggledName",function(Z){return m.toggleName(Z)}),t.qZA()),2&i&&t.Q6J("dlcDemons",m.dlcDemons)("appTitle",m.appTitle)("dlcTitle","Included DLC Personas")},dependencies:[Y.d],encapsulation:2,changeDetection:0}),D})();var $=r(8615);let K=(()=>{var l;class D{constructor(i,m){this.changeDetectorRef=i,this.fusionDataService=m,this.mitaTable=[],this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(i=>{this.changeDetectorRef.markForCheck(),this.normChart=i,this.updateMitamas()})),this.subscriptions.push(this.fusionDataService.compendium.subscribe(i=>{this.changeDetectorRef.markForCheck(),this.compendium=i,this.updateMitamas()}))}ngOnDestroy(){for(const i of this.subscriptions)i.unsubscribe()}updateMitamas(){if(!this.compendium||!this.normChart)return;const i=this.normChart.elementDemons.map(P=>this.compendium.getDemon(P).race),m=[];for(let P=0;P<i.length;P++){const Z=i[P];m.push(i.slice(P+1,i.length).map(I=>this.normChart.getRaceFusion(Z,I)))}this.mitaTable=m}}return(l=D).\u0275fac=function(i){return new(i||l)(t.Y36(t.sBO),t.Y36(b.Y))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-fusion-chart-container"]],decls:1,vars:3,consts:[[3,"normChart","mitaTable","isPersona"]],template:function(i,m){1&i&&t._UZ(0,"app-fusion-chart",0),2&i&&t.Q6J("normChart",m.normChart)("mitaTable",m.mitaTable)("isPersona",!0)},dependencies:[$.R],encapsulation:2,changeDetection:0}),D})();var G=r(4436);let X=(()=>{var l;class D{constructor(i,m){this.fusionDataService=i,this.title=m,this.subscriptions=[],this.maxSkills=8;const P=this.fusionDataService.compConfig;this.maxSkills=P.skillElems.includes("tra")?9:8,this.recipeConfig={fissionCalculator:this.fusionDataService.fissionCalculator,fusionCalculator:this.fusionDataService.fusionCalculator,races:P.races,skillElems:P.skillElems,inheritElems:P.inheritElems,restrictInherits:!0,triExclusiveRaces:[],triFissionCalculator:null,triFusionCalculator:null,defaultDemon:"Pixie"}}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`Recipe Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(i=>{this.compendium=i})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(i=>{this.squareChart={normalChart:i,tripleChart:i,raceOrder:this.fusionDataService.compConfig.raceOrder}}))}unsubscribeAll(){for(const i of this.subscriptions)i.unsubscribe()}}return(l=D).\u0275fac=function(i){return new(i||l)(t.Y36(b.Y),t.Y36(A.Dx))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-recipe-generator-container"]],decls:1,vars:4,consts:[[3,"maxSkills","compendium","squareChart","recipeConfig"]],template:function(i,m){1&i&&t._UZ(0,"app-recipe-generator",0),2&i&&t.Q6J("maxSkills",m.maxSkills)("compendium",m.compendium)("squareChart",m.squareChart)("recipeConfig",m.recipeConfig)},dependencies:[G.X],encapsulation:2,changeDetection:0}),D})();var V=r(5939),ee=r(5657),te=r(4689);const se=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:E,data:{fusionTool:"chart"},children:[{path:"chart",component:K}]},{path:"",component:E,children:[{path:"shadows/:demonName",component:q},{path:"personas/:demonName",component:q,children:[{path:"fissions",component:ee.t},{path:"fusions",component:te.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"personas",component:S},{path:"shadows",component:S,data:{showShadows:!0}},{path:"skills",component:s},{path:"recipes",component:X},{path:"settings",component:z},{path:"previews",component:V.RL}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let ne=(()=>{var l;class D{}return(l=D).\u0275fac=function(i){return new(i||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({imports:[e.Bz.forChild(se),e.Bz]}),D})()},5195:(B,R,r)=>{r.d(R,{Y:()=>d});var e=r(5619);class t{constructor(o){this.compConfig=o,this.initImportedData(),this.updateDerivedData()}initImportedData(){const o={},v={},u={},T={},N={},L={},w={};for(const C of this.compConfig.demonData)for(const[y,p]of Object.entries(C))o[y]={name:y,item:p.item||"",race:p.race,lvl:p.lvl,currLvl:p.lvl,skills:p.skills,price:Math.pow(p.stats.reduce((F,M)=>M+F,0),2)+2e3,stats:p.stats,resists:p.resists.split("").map(F=>this.compConfig.resistCodes[F]),fusion:p.fusion||"normal",inherits:this.compConfig.inheritTypes[p.inherits],prereq:p.prereq||"",persona:y,trait:"",exp:0},p.itemr&&(o[y].item+=", "+p.itemr);for(const C of this.compConfig.enemyData)for(const[y,p]of Object.entries(C)){const F=[p.material||"-",p.armor||"-",p.card||"-"].filter(M=>"-"!==M);v[y]={name:y,persona:p.persona,trait:p.trait,exp:p.exp,race:p.race,lvl:p.lvl,currLvl:p.lvl,price:p.yen,inherits:0,stats:p.stats.slice(0,2),estats:p.stats.slice(2),resists:p.resists.split("").map(M=>this.compConfig.resistCodes[M]),fusion:"normal",skills:(p.skills||[]).reduce((M,x)=>(M[x]=0,M),{}),area:p.area.join(", "),item:F.join(", ")||"-",isEnemy:!0}}for(const C of this.compConfig.skillData)for(const[y,p]of Object.entries(C))u[y]={name:y,element:p.element,effect:p.effect,target:p.target||"Self",rank:p.cost/100||0,cost:p.cost||0,transfer:[],learnedBy:[],level:0},p.card&&(u[y].transfer=[{demon:p.card,level:-100}]),p.unique&&(u[y].rank=99);for(const[C,y]of Object.entries(this.compConfig.specialRecipes)){const p=o[C],F=y;p.fusion="special",T[C]=F,2===F.length&&(w[F[0]]=F[1],w[F[1]]=F[0]),0===F.length&&(p.fusion="recruit",p.price+=2e5)}for(const C of this.compConfig.races)N[C]={};for(const C of Object.values(v))if(C.item){const y=C.item.split(", "),p=y[y.length-1];u[p]&&u[p].transfer.unshift({demon:C.persona,level:5275})}for(const[C,y]of Object.entries(o)){if(y.item){const[p,F]=y.item.split(", ");u[p]&&u[p].transfer.unshift({demon:C,level:0}),u[F]&&u[F].transfer.unshift({demon:C,level:3865})}"party"!==y.fusion&&(N[y.race][y.lvl]=C)}for(const C of Object.values(o).sort((y,p)=>y.lvl-p.lvl))for(const y of Object.keys(C.skills))u[y].learnedBy.push({demon:C.name,level:C.skills[y]});for(const C of this.compConfig.downloadedDemons)L[C]=!0;for(const C of this.compConfig.dlcDemons)L[C]=!1;this.demons=o,this.enemies=v,this.skills=u,this.specialRecipes=T,this.invertedDemons=N,this._dlcDemons=L,this.normalExceptions=w}updateDerivedData(){const o=Object.assign({},this.demons),v=Object.keys(this.skills).map(w=>this.skills[w]).filter(w=>0!==w.learnedBy.length||0!==w.transfer.length),u={},T={};for(const w of this.compConfig.races)u[w]=[],T[w]=[];for(const[w,C]of Object.entries(this.demons))"party"!==C.fusion&&(this.isElementDemon(w)||u[C.race].push(C.lvl),(!this.specialRecipes.hasOwnProperty(w)||"World"===C.race)&&T[C.race].push(C.lvl));for(const w of this.compConfig.races)u[w].sort((C,y)=>C-y),T[w].sort((C,y)=>C-y);for(const[w,C]of Object.entries(this._dlcDemons))for(const y of w.split(",")){if(!C){const{race:p,lvl:F}=this.demons[y];delete o[y],u[p]=u[p].filter(M=>M!==F),T[p]=T[p].filter(M=>M!==F)}this.demons[y].fusion=C?"normal":"excluded"}const N=Object.keys(o).map(w=>o[w]),L=Object.keys(this.enemies).map(w=>this.enemies[w]);this._allDemons=L.concat(N),this._allSkills=v,this.allIngredients=u,this.allResults=T}get dlcDemons(){return this._dlcDemons}set dlcDemons(o){this._dlcDemons=o,this.updateDerivedData()}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).filter(o=>!this.isElementDemon(o)).map(o=>this.demons[o])}getDemon(o){return this.demons[o]||this.enemies[o]}getSkill(o){return this.skills[o]}getSkills(o){const v=[];for(const[u,T]of Object.entries(o))v.push(this.skills[u]),this.skills[u].level=T;return v.sort((u,T)=>100*(u.level-T.level)+this.compConfig.elemOrder[u.element]-this.compConfig.elemOrder[T.element]),v}getIngredientDemonLvls(o){return this.allIngredients[o]||[]}getResultDemonLvls(o){return this.allResults[o]||[]}getSpecialNameEntries(o){return this.specialRecipes[o]||[]}getSpecialNamePairs(o){return[]}getElementDemons(o){return Object.keys(this.specialRecipes).filter(v=>this.isElementDemon(v)&&v!==o)}getNormalException(o){return this.normalExceptions[o]}getInheritElems(o){return o.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(v=>100*parseInt(v))}reverseLookupDemon(o,v){return this.invertedDemons[o][v]}reverseLookupSpecial(o){return[]}isElementDemon(o){return this.specialRecipes.hasOwnProperty(o)&&0===this.specialRecipes[o].length}isRecruitmentOnly(o){return this.isElementDemon(o)}isExcludedDemon(o){const{race:v,lvl:u}=this.getDemon(o);return-1===this.allIngredients[v].indexOf(u)}}var n=r(6262);class O extends n.g{constructor(o,v){super(),this.lvlModifier=.5,this.initCharts(o,v)}initCharts(o,v){const u=o.races,T=o.table,N=v.elems,L=v.races,w=v.table;this.elementDemons=N,this.fusionChart=n.g.loadFusionTableJson(u,T),this.fissionChart=n.g.loadFissionTableJson(u,N,T),this.elementChart=n.g.loadElementTableJson(L,N,w),this.races=u}}var E=r(7548),k=r(3837),A=r(1139),b=r(6361),f=r(923);function S(_,o,v){const u=[],{race:T,lvl:N}=o.getDemon(_);for(const L of v.elementDemons.filter(w=>w!==_)){const{race:w,lvl:C}=o.getDemon(L),y=v.getRaceFusions(T)[w],p=o.getResultDemonLvls(y),M=p.reduce((H,U)=>N+C>=2*U?H+1:H,0),x=o.reverseLookupDemon(y,M===p.length?p[p.length-1]:p[M]);u.push({name1:L,name2:x})}return u}var g=r(7862),a=r(7293),s=r(4769),h=r(4487);let d=(()=>{var _;class o{constructor(u,T){this.fissionCalculator=new k.N([g.Mg,a.Ln,g.Aq],[]),this.fusionCalculator=new k.N([A.ne,b.e,A.Co],[f.Eh,f.s0,S]),this.compConfig=u,this.appName=u.appTitle+" Fusion Calculator",this.fusionSettingsKey=u.settingsKey,this.fusionSettingsVersion=u.settingsVersion,this._compendium=new t(u),this._compendium$=new e.X(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new O(u.normalTable,u.elementTable),this._fusionChart$=new e.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable();const N=JSON.parse(localStorage.getItem(this.fusionSettingsKey));N&&N.version&&N.version>=this.fusionSettingsVersion&&this.nextDlcDemons(N.dlcDemons),window.addEventListener("storage",this.onStorageUpdated.bind(this))}nextDlcDemons(u){localStorage.setItem(this.fusionSettingsKey,JSON.stringify({version:this.fusionSettingsVersion,dlcDemons:u})),this._compendium.dlcDemons=u,this._compendium$.next(this._compendium)}onStorageUpdated(u){u.key===this.fusionSettingsKey&&(this._compendium.dlcDemons=JSON.parse(u.newValue).dlcDemons,this._compendium$.next(this._compendium))}}return(_=o).\u0275fac=function(u){return new(u||_)(s.LFG(E.I7),s.LFG(h.F0))},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac}),o})()},9066:(B,R,r)=>{r.d(R,{f:()=>k});var e=r(6814),t=r(6208),n=r(8325),O=r(9641),E=r(4769);let k=(()=>{var A;class b{static forRoot(){return{ngModule:b}}}return(A=b).\u0275fac=function(S){return new(S||A)},A.\u0275mod=E.oAB({type:A}),A.\u0275inj=E.cJS({imports:[e.ez,t.m,n.a,O.V]}),b})()},8186:B=>{B.exports=JSON.parse('{"sn":["phy","gun","fir","ice","ele","win","psy","nuk","lig","dar","ail","rec"],"XW":["phys","fire","ice","elec","wind","psy","nuke","bless","curse","ailment","healing","support","almighty","none"],"bo":["110000000011","111011111111","110111111111","111110111111","111101111111","111111101111","111111011111","001111111001","001111110110","111111110110","001111111011","111111111111","111111111111","000000000000"]}')},8087:B=>{B.exports=JSON.parse('{"Absorb Bless":{"add":"Absorbs Bless dmg","element":"pas"},"Absorb Curse":{"add":"Absorbs Curse dmg","element":"pas"},"Absorb Elec":{"add":"Absorbs Elec dmg","element":"pas"},"Absorb Fire":{"add":"Absorbs Fire dmg","element":"pas"},"Absorb Ice":{"add":"Absorbs Ice dmg","element":"pas"},"Absorb Nuke":{"add":"Absorbs Nuke dmg","element":"pas"},"Absorb Phys":{"add":"Absorbs Phys dmg","element":"pas"},"Absorb Psy":{"add":"Absorbs Psy dmg","element":"pas"},"Absorb Wind":{"add":"Absorbs Wind dmg","element":"pas"},"Abysmal Surge":{"add":"Despair","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Abyssal Wings":{"cost":1030,"element":"dar","hit":90,"power":210,"target":"All foes","unique":"Tsukiyomi"},"Active Support":{"add":"Moral Support may now Charge or recover SP","element":"pas","unique":"Necronomicon"},"Adverse Resolve":{"add":"crit rate, Surrounded only","element":"pas","mod":1120},"Agi":{"add":"Burn","cost":1004,"element":"fir","hit":99,"mod":25,"power":40,"target":"1 foe"},"Agidyne":{"add":"Burn","cost":1012,"element":"fir","hit":99,"mod":25,"power":160,"target":"1 foe"},"Agilao":{"add":"Burn","cost":1008,"element":"fir","hit":99,"mod":25,"power":100,"target":"1 foe"},"Agneyastra":{"cost":24,"crit":5,"element":"phy","hit":80,"max":3,"min":1,"power":110,"target":"All foes"},"Ailment Boost":{"add":"ailment affliction rate","element":"pas","mod":1125},"Ali Dance":{"add":"incoming attack accuracy","element":"pas","mod":1050},"Almighty Amp":{"add":"Almighty dmg","card":"Network Fusion","element":"pas","mod":1150},"Almighty Boost":{"add":"Almighty dmg","card":"Network Fusion","element":"pas","mod":1125},"Ambient Aid":{"add":"ailment affliction rate during weather events","element":"pas","mod":1130},"Amrita Drop":{"add":"Patra + Energy Drop + Baisudi","cost":1006,"element":"rec","target":"1 ally"},"Amrita Shower":{"add":"Patra + Energy Drop + Baisudi","cost":1012,"element":"rec","target":"All allies"},"Analysis":{"add":"Displays resistances discovered through previous attacks","element":"pas","unique":"Necronomicon"},"Angelic Grace":{"add":"non-Almighty evasion rate","element":"pas","mod":1200},"Apt Pupil":{"add":"crit rate","element":"pas","mod":1200},"Arms Master":{"add":"HP skill costs","element":"pas","mod":1050},"Assault Dive":{"cost":13,"crit":20,"element":"phy","hit":90,"power":130,"target":"1 foe"},"Atomic Flare":{"cost":1048,"element":"nuk","hit":98,"power":200,"target":"1 foe"},"Attack Master":{"add":"Begins battle with Tarukaja","element":"pas"},"Auto-Maraku":{"add":"Begins battle with Marakukaja","element":"pas"},"Auto-Masuku":{"add":"Begins battle with Masukukaja","element":"pas"},"Auto-Mataru":{"add":"Begins battle with Matarukaja","element":"pas"},"Ayamur":{"cost":25,"crit":10,"element":"phy","hit":95,"min":3,"power":100,"target":"1 foe","unique":"Baal"},"Bad Beat":{"add":"Despair","cost":21,"crit":5,"element":"phy","hit":80,"mod":25,"power":110,"target":"All foes"},"Baisudi":{"add":"Cures Burn, Freeze, Shock","cost":1004,"element":"rec","target":"1 ally"},"Beast Weaver":{"add":"attack for rest of battle","cost":20,"crit":5,"element":"phy","hit":90,"mod":1010,"power":1200,"target":"1 foe","unique":"Ariadne"},"Black Viper":{"cost":1048,"element":"alm","hit":98,"power":230,"target":"1 foe"},"Blazing Hell":{"add":"Burn","cost":1054,"element":"fir","hit":95,"mod":24,"power":180,"target":"All foes"},"Bless Amp":{"add":"Bless dmg","element":"pas","mod":1150},"Bless Boost":{"add":"Bless dmg","element":"pas","mod":1125},"Bloodbath":{"add":"Fear","cost":19,"crit":5,"element":"phy","hit":80,"mod":25,"power":120,"target":"All foes"},"Brain Buster":{"add":"Brainwash","cost":21,"crit":5,"element":"phy","hit":80,"mod":25,"power":120,"target":"All foes"},"Brain Jack":{"add":"Brainwash","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Brain Shake":{"add":"Brainwash","cost":9,"crit":5,"element":"phy","hit":90,"mod":35,"power":80,"target":"1 foe"},"Brainwash Boost":{"add":"Brainwash affliction rate","element":"pas","mod":1125},"Brave Blade":{"cost":24,"crit":35,"element":"phy","hit":90,"power":600,"target":"1 foe"},"Bufu":{"add":"Freeze","cost":1004,"element":"ice","hit":99,"mod":25,"power":40,"target":"1 foe"},"Bufudyne":{"add":"Freeze","cost":1012,"element":"ice","hit":99,"mod":25,"power":160,"target":"1 foe"},"Bufula":{"add":"Freeze","cost":1008,"element":"ice","hit":99,"mod":25,"power":100,"target":"1 foe"},"Burn Boost":{"add":"Burn affliction rate","element":"pas","mod":1125},"Cadenza":{"add":"HP recovery, Sukukaja","cost":1024,"element":"rec","mod":50,"target":"All allies","unique":"Orpheus"},"Charge":{"add":"dmg for next Phys or Gun attack","cost":1015,"element":"sup","mod":1250,"target":"Self"},"Cleave":{"cost":6,"crit":20,"element":"phy","hit":90,"power":65,"target":"1 foe"},"Climate Decorum":{"add":"evasion rate during weather events","element":"pas","mod":1200},"Concentrate":{"add":"dmg for next magic attack","cost":1015,"element":"sup","mod":1250,"target":"Self"},"Confuse Boost":{"add":"Confuse affliction rate","element":"pas","mod":1125},"Cornered Fang":{"add":"dmg, Surrounded only","cost":10,"crit":35,"element":"phy","hit":85,"mod":1150,"power":100,"target":"1 foe"},"Cosmic Flare":{"cost":1054,"element":"nuk","hit":95,"power":180,"target":"All foes"},"Counter":{"add":"chance to repel Phys dmg","element":"pas","mod":10},"Counterstrike":{"add":"chance to repel Phys dmg","element":"pas","mod":15},"Cripple":{"add":"Gun dmg","element":"pas","mod":1150},"Cross Slash":{"cost":20,"crit":20,"element":"phy","hit":99,"min":2,"power":160,"target":"1 foe","unique":"Izanagi"},"Curse Amp":{"add":"Curse dmg","element":"pas","mod":1150},"Curse Boost":{"add":"Curse dmg","element":"pas","mod":1125},"Dazzler":{"add":"Dizzy","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Deadly Fury":{"add":"dmg after Baton Pass","cost":18,"crit":5,"element":"phy","hit":90,"mod":1150,"power":220,"target":"1 foe"},"Deathbound":{"cost":22,"crit":10,"element":"phy","hit":80,"max":2,"min":1,"power":100,"target":"All foes"},"Debilitate":{"add":"Tarunda + Rakunda + Sukunda","cost":1030,"element":"sup","target":"1 foe"},"Defense Master":{"add":"Begins battle with Rakukaja","element":"pas"},"Dekaja":{"add":"Removes -kaja effects","cost":1010,"element":"sup","target":"All foes"},"Dekunda":{"add":"Removes -kunda effects","cost":1010,"element":"sup","target":"All allies"},"Demonic Decree":{"add":"Halves remaining HP","cost":1048,"element":"dar","hit":95,"target":"1 foe"},"Despair Boost":{"add":"Despair affliction rate","element":"pas","mod":1125},"Dia":{"add":"HP recovery","cost":1003,"element":"rec","power":50,"target":"1 ally"},"Diamond Dust":{"add":"Freeze","cost":1048,"element":"ice","hit":98,"mod":26,"power":200,"target":"1 foe"},"Diarahan":{"add":"HP recovery","cost":1018,"element":"rec","mod":100,"target":"1 ally"},"Diarama":{"add":"HP recovery","cost":1006,"element":"rec","power":160,"target":"1 ally"},"Die For Me!":{"add":"instakill","cost":1044,"element":"dar","mod":70,"target":"All foes","unique":"Alice"},"Divine Grace":{"add":"Recovery skill power","element":"pas","mod":1150},"Divine Judgement":{"add":"Halves remaining HP","cost":1048,"element":"lig","hit":95,"target":"1 foe"},"Dizzy Boost":{"add":"Dizzy affliction rate","element":"pas","mod":1125},"Dodge Bless":{"add":"Bless evasion rate","element":"pas","mod":1200},"Dodge Curse":{"add":"Curse evasion rate","element":"pas","mod":1200},"Dodge Elec":{"add":"Elec evasion rate","element":"pas","mod":1200},"Dodge Fire":{"add":"Fire evasion rate","element":"pas","mod":1200},"Dodge Ice":{"add":"Ice evasion rate","element":"pas","mod":1200},"Dodge Nuke":{"add":"Nuke evasion rate","element":"pas","mod":1200},"Dodge Phys":{"add":"Phys evasion rate","element":"pas","mod":1200},"Dodge Psy":{"add":"Psy evasion rate","element":"pas","mod":1200},"Dodge Wind":{"add":"Wind evasion rate","element":"pas","mod":1200},"Door of Hades":{"add":"Curse-based instakill","cost":1032,"element":"alm","hit":90,"mod":60,"power":160,"target":"All foes","unique":"Thanatos"},"Dormin Rush":{"add":"Sleep","cost":16,"crit":5,"element":"phy","hit":80,"mod":25,"power":80,"target":"All foes"},"Dormina":{"add":"Sleep","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Double Fangs":{"cost":10,"crit":5,"element":"phy","hit":90,"min":2,"power":40,"target":"1 foe"},"Dream Needle":{"add":"Sleep","cost":8,"crit":5,"element":"phy","hit":90,"mod":35,"power":70,"target":"1 foe"},"Eiga":{"cost":1008,"element":"dar","hit":99,"power":120,"target":"1 foe"},"Eigaon":{"cost":1012,"element":"dar","hit":99,"power":190,"target":"1 foe"},"Eiha":{"cost":1004,"element":"dar","hit":99,"power":50,"target":"1 foe"},"Elec Amp":{"add":"Elec dmg","element":"pas","mod":1150},"Elec Boost":{"add":"Elec dmg","element":"pas","mod":1125},"Elec Break":{"add":"Sets Elec resistance to neutral","cost":1015,"element":"sup","target":"All foes"},"Elec Wall":{"add":"Sets Elec resistance to resists","cost":1018,"element":"sup","target":"1 ally"},"Emergency Shift":{"add":"Chance to swap current party with backups when 2 or more people are KO\'d","element":"pas","unique":"Necronomicon"},"Endure":{"add":"Survive fatal attack with 1 HP once per battle","element":"pas"},"Enduring Soul":{"add":"Survive fatal attack with 100% HP once per battle","element":"pas"},"Energy Drop":{"add":"Cures Confuse, Fear, Despair, Brainwash, Rage","cost":1004,"element":"rec","target":"1 ally"},"Energy Shower":{"add":"Cures Confuse, Fear, Despair, Brainwash, Rage","cost":1008,"element":"rec","target":"All allies"},"Evade Bless":{"add":"Bless evasion rate","element":"pas","mod":1300},"Evade Curse":{"add":"Curse evasion rate","element":"pas","mod":1300},"Evade Elec":{"add":"Elec evasion rate","element":"pas","mod":1300},"Evade Fire":{"add":"Fire evasion rate","element":"pas","mod":1300},"Evade Ice":{"add":"Ice evasion rate","element":"pas","mod":1300},"Evade Nuke":{"add":"Nuke evasion rate","element":"pas","mod":1300},"Evade Phys":{"add":"Phys evasion rate","element":"pas","mod":1300},"Evade Psy":{"add":"Psy evasion rate","element":"pas","mod":1300},"Evade Wind":{"add":"Wind evasion rate","element":"pas","mod":1300},"Evil Smile":{"add":"Fear","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Evil Touch":{"add":"Fear","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Famine\'s Scream":{"add":"Hunger","element":"ail","target":"All foes","unique":"Enemies"},"Fast Heal":{"add":"ailment recovery time","element":"pas","mod":1050},"Fear Boost":{"add":"Fear affliction rate","element":"pas","mod":1125},"Final Guard":{"add":"Chance to nullify a fatal attack to a current party member","element":"pas","unique":"Necronomicon"},"Fire Amp":{"add":"Fire dmg","element":"pas","mod":1150},"Fire Boost":{"add":"Fire dmg","element":"pas","mod":1125},"Fire Break":{"add":"Sets Fire resistance to neutral","cost":1015,"element":"sup","target":"All foes"},"Fire Wall":{"add":"Sets Fire resistance to resists","cost":1018,"element":"sup","target":"1 ally"},"Firm Stance":{"add":"incoming dmg, Cannot evade","element":"pas","mod":1050},"Flash Bomb":{"add":"Dizzy","cost":19,"crit":5,"element":"phy","hit":80,"mod":25,"power":100,"target":"All foes"},"Forget Boost":{"add":"Forget affliction rate","element":"pas","mod":1125},"Fortified Moxy":{"add":"crit rate, Ambush only","element":"pas","mod":1115},"Fortify Spirit":{"add":"ailment susceptibility rate","element":"pas","mod":1050},"Foul Breath":{"add":"Raises ailment susceptibility rate for 3 turns","cost":1008,"element":"alm","target":"1 foe"},"Freeze Boost":{"add":"Freeze affliction rate","element":"pas","mod":1125},"Frei":{"cost":1004,"element":"nuk","hit":99,"power":40,"target":"1 foe"},"Freidyne":{"cost":1012,"element":"nuk","hit":99,"power":160,"target":"1 foe"},"Freila":{"cost":1008,"element":"nuk","hit":99,"power":100,"target":"1 foe"},"Garu":{"cost":1003,"element":"win","hit":99,"power":40,"target":"1 foe"},"Garudyne":{"cost":1010,"element":"win","hit":99,"power":160,"target":"1 foe"},"Garula":{"cost":1006,"element":"win","hit":99,"power":100,"target":"1 foe"},"Ghastly Wail":{"add":"instakill to Fear","cost":1028,"element":"alm","mod":100,"target":"All foes"},"Giant Slice":{"add":"dmg after Baton Pass","cost":9,"crit":30,"element":"phy","hit":90,"mod":1150,"power":90,"target":"1 foe"},"Gigantomachia":{"cost":25,"crit":5,"element":"phy","hit":85,"power":350,"target":"All foes"},"God\'s Hand":{"cost":25,"crit":15,"element":"phy","hit":90,"power":800,"target":"1 foe"},"Growth 1":{"add":"EXP gained when not equipped","element":"pas","mod":25},"Growth 2":{"add":"EXP gained when not equipped","element":"pas","mod":50},"Growth 3":{"add":"EXP gained when not equipped","element":"pas","mod":100},"Hama":{"add":"instakill","cost":1008,"element":"lig","mod":25,"target":"1 foe"},"Hama Boost":{"add":"Bless-based instakill affliction rate","element":"pas","mod":1125},"Hamaon":{"add":"instakill","cost":1015,"element":"lig","mod":50,"target":"1 foe"},"Hassou Tobi":{"cost":25,"crit":5,"element":"phy","hit":75,"min":8,"power":40,"target":"All foes","unique":"Yoshitsune"},"Headbutt":{"add":"Forget","cost":9,"crit":5,"element":"phy","hit":90,"mod":35,"power":80,"target":"1 foe"},"Heat Riser":{"add":"Tarukaja + Rakukaja + Sukukaja","cost":1030,"element":"sup","target":"1 ally"},"Heat Up":{"add":"HP and 10 SP restored each turn, Ambush only","element":"pas","mod":5},"Heat Wave":{"cost":20,"crit":5,"element":"phy","hit":80,"power":150,"target":"All foes"},"High Counter":{"add":"chance to repel Phys dmg","element":"pas","mod":20},"Hysterical Slap":{"add":"Rage","cost":9,"crit":5,"element":"phy","hit":90,"mod":35,"power":80,"target":"1 foe"},"Ice Age":{"add":"Freeze","cost":1054,"element":"ice","hit":95,"mod":24,"power":180,"target":"All foes"},"Ice Amp":{"add":"Ice dmg","element":"pas","mod":1150},"Ice Boost":{"add":"Ice dmg","element":"pas","mod":1125},"Ice Break":{"add":"Sets Ice resistance to neutral","cost":1015,"element":"sup","target":"All foes"},"Ice Wall":{"add":"Sets Ice resistance to resists","cost":1018,"element":"sup","target":"1 ally"},"Inferno":{"add":"Burn","cost":1048,"element":"fir","hit":98,"mod":26,"power":200,"target":"1 foe"},"Insta-Heal":{"add":"Ailment recovery time reduced to 1 turn","element":"pas"},"Invigorate 1":{"add":"3 SP restored each turn","element":"pas"},"Invigorate 2":{"add":"5 SP restored each turn","element":"pas"},"Invigorate 3":{"add":"7 SP restored each turn","element":"pas"},"Kouga":{"cost":1008,"element":"lig","hit":99,"power":120,"target":"1 foe"},"Kougaon":{"cost":1012,"element":"lig","hit":99,"power":190,"target":"1 foe"},"Kouha":{"cost":1004,"element":"lig","hit":99,"power":50,"target":"1 foe"},"Life Aid":{"add":"HP and SP restored after battle","element":"pas","mod":8},"Life Drain":{"add":"Absorbs 30 HP","cost":1003,"element":"alm","target":"1 foe"},"Life Leech":{"add":"Absorbs 150 HP","element":"alm","target":"1 foe","unique":"Enemies"},"Lucky Punch":{"cost":6,"crit":45,"element":"phy","hit":75,"power":25,"target":"1 foe"},"Lullaby":{"add":"Sleep","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Lunge":{"cost":5,"crit":20,"element":"phy","hit":90,"power":60,"target":"1 foe"},"Mabaisudi":{"add":"Cures Burn, Freeze, Shock","cost":1008,"element":"rec","target":"All allies"},"Mabufu":{"add":"Freeze","cost":1010,"element":"ice","hit":95,"mod":20,"power":40,"target":"All foes"},"Mabufudyne":{"add":"Freeze","cost":1022,"element":"ice","hit":95,"mod":20,"power":160,"target":"All foes"},"Mabufula":{"add":"Freeze","cost":1016,"element":"ice","hit":95,"mod":20,"power":100,"target":"All foes"},"Maeiga":{"cost":1016,"element":"dar","hit":95,"power":120,"target":"All foes"},"Maeigaon":{"cost":1022,"element":"dar","hit":95,"power":190,"target":"All foes"},"Maeiha":{"cost":1010,"element":"dar","hit":98,"power":50,"target":"All foes"},"Mafrei":{"cost":1010,"element":"nuk","hit":95,"power":40,"target":"All foes"},"Mafreidyne":{"cost":1022,"element":"nuk","hit":95,"power":160,"target":"All foes"},"Mafreila":{"cost":1016,"element":"nuk","hit":95,"power":100,"target":"All foes"},"Magaru":{"cost":1008,"element":"win","hit":95,"power":40,"target":"All foes"},"Magarudyne":{"cost":1020,"element":"win","hit":95,"power":160,"target":"All foes"},"Magarula":{"cost":1014,"element":"win","hit":95,"power":100,"target":"All foes"},"Magatsu Mandala":{"add":"Confuse, Fear, Despair","cost":1030,"element":"dar","hit":90,"mod":50,"power":160,"target":"All foes","unique":"Magatsu-Izanagi"},"Magic Ability":{"add":"magic dmg","card":"Network Fusion","element":"pas","mod":1125},"Mahama":{"add":"instakill","cost":1018,"element":"lig","mod":30,"target":"All foes"},"Mahamaon":{"add":"instakill","cost":1034,"element":"lig","mod":50,"target":"All foes"},"Makajam":{"add":"Forget","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Makajamaon":{"add":"Forget","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Makara Break":{"add":"Removes Makarakarn","cost":1018,"element":"sup","target":"All foes"},"Makarakarn":{"add":"Repels next non-Almighty magic attack","cost":1036,"element":"sup","target":"1 ally"},"Makouga":{"cost":1016,"element":"lig","hit":95,"power":120,"target":"All foes"},"Makougaon":{"cost":1022,"element":"lig","hit":95,"power":190,"target":"All foes"},"Makouha":{"cost":1010,"element":"lig","hit":98,"power":50,"target":"All foes"},"Mamudo":{"add":"instakill","cost":1018,"element":"dar","mod":30,"target":"All foes"},"Mamudoon":{"add":"instakill","cost":1034,"element":"dar","mod":50,"target":"All foes"},"Mapsi":{"cost":1010,"element":"psy","hit":95,"power":40,"target":"All foes"},"Mapsio":{"cost":1016,"element":"psy","hit":95,"power":100,"target":"All foes"},"Mapsiodyne":{"cost":1022,"element":"psy","hit":95,"power":160,"target":"All foes"},"Maragi":{"add":"Burn","cost":1010,"element":"fir","hit":95,"mod":20,"power":40,"target":"All foes"},"Maragidyne":{"add":"Burn","cost":1022,"element":"fir","hit":95,"mod":20,"power":160,"target":"All foes"},"Maragion":{"add":"Burn","cost":1016,"element":"fir","hit":95,"mod":20,"power":100,"target":"All foes"},"Marakukaja":{"add":"Raises defense for 3 turns","cost":1024,"element":"sup","target":"All allies"},"Marakunda":{"add":"Lowers defense for 3 turns","cost":1024,"element":"sup","target":"All foes"},"Marin Karin":{"add":"Brainwash","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Masukukaja":{"add":"Raises accuracy + evasion for 3 turns","cost":1024,"element":"sup","target":"All allies"},"Masukunda":{"add":"Lowers accuracy + evasion for 3 turns","cost":1024,"element":"sup","target":"All foes"},"Matarukaja":{"add":"Raises attack for 3 turns","cost":1024,"element":"sup","target":"All allies"},"Matarunda":{"add":"Lowers attack for 3 turns","cost":1024,"element":"sup","target":"All foes"},"Mazio":{"add":"Shock","cost":1010,"element":"ele","hit":95,"mod":20,"power":40,"target":"All foes"},"Maziodyne":{"add":"Shock","cost":1022,"element":"ele","hit":95,"mod":20,"power":160,"target":"All foes"},"Mazionga":{"add":"Shock","cost":1016,"element":"ele","hit":95,"mod":20,"power":100,"target":"All foes"},"Me Patra":{"add":"Cures Dizzy, Forget, Sleep, Hunger","cost":1008,"element":"rec","target":"All allies"},"Media":{"add":"HP recovery","cost":1007,"element":"rec","power":40,"target":"All allies"},"Mediarahan":{"add":"HP recovery","cost":1030,"element":"rec","mod":100,"target":"All allies"},"Mediarama":{"add":"HP recovery","cost":1012,"element":"rec","power":140,"target":"All allies"},"Megaton Raid":{"cost":16,"crit":25,"element":"phy","hit":85,"power":300,"target":"1 foe"},"Megido":{"cost":1015,"element":"alm","hit":95,"power":120,"target":"All foes"},"Megidola":{"cost":1024,"element":"alm","hit":95,"power":180,"target":"All foes"},"Megidolaon":{"cost":1038,"element":"alm","hit":95,"power":210,"target":"All foes"},"Mementos Scan":{"add":"Chance to fully map a floor of Mementos when entering that floor","element":"pas","unique":"Necronomicon"},"Memory Blow":{"add":"Forget","cost":15,"crit":5,"element":"phy","hit":80,"mod":25,"power":70,"target":"All foes"},"Mind Slice":{"add":"Confuse","cost":19,"crit":5,"element":"phy","hit":80,"mod":25,"power":110,"target":"All foes"},"Miracle Punch":{"cost":8,"crit":45,"element":"phy","hit":75,"power":80,"target":"1 foe"},"Moral Support":{"add":"Chance to cast a -kaja or HP recovery skill during battle","element":"pas","unique":"Necronomicon"},"Morning Star":{"cost":1054,"element":"alm","hit":95,"power":230,"target":"All foes","unique":"Lucifer"},"Mudo":{"add":"instakill","cost":1008,"element":"dar","mod":25,"target":"1 foe"},"Mudo Boost":{"add":"Curse-based instakill affliction rate","element":"pas","mod":1125},"Mudoon":{"add":"instakill","cost":1015,"element":"dar","mod":50,"target":"1 foe"},"Myriad Slashes":{"cost":20,"crit":5,"element":"phy","hit":85,"max":3,"min":2,"power":90,"target":"1 foe"},"Negative Pile":{"add":"Despair","cost":12,"crit":3,"element":"phy","hit":90,"mod":35,"power":120,"target":"1 foe"},"Nocturnal Flash":{"add":"Dizzy","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Nuke Amp":{"add":"Nuke dmg","element":"pas","mod":1150},"Nuke Boost":{"add":"Nuke dmg","element":"pas","mod":1125},"Nuke Break":{"add":"Sets Nuke resistance to neutral","cost":1015,"element":"sup","target":"All foes"},"Nuke Wall":{"add":"Sets Nuke resistance to resists","cost":1018,"element":"sup","target":"1 ally"},"Null Bless":{"add":"Nullifies Bless dmg","element":"pas"},"Null Brainwash":{"add":"Nullifies Brainwash","element":"pas"},"Null Confuse":{"add":"Nullifies Confuse","element":"pas"},"Null Curse":{"add":"Nullifies Curse dmg","element":"pas"},"Null Despair":{"add":"Nullifies Despair","element":"pas"},"Null Dizzy":{"add":"Nullifies Dizzy","element":"pas"},"Null Elec":{"add":"Nullifies Elec dmg","element":"pas"},"Null Fear":{"add":"Nullifies Fear","element":"pas"},"Null Fire":{"add":"Nullifies Fire dmg","element":"pas"},"Null Forget":{"add":"Nullifies Forget","element":"pas"},"Null Ice":{"add":"Nullifies Ice dmg","element":"pas"},"Null Nuke":{"add":"Nullifies Nuke dmg","element":"pas"},"Null Phys":{"add":"Nullifies Phys dmg","element":"pas"},"Null Psy":{"add":"Nullifies Psy dmg","element":"pas"},"Null Rage":{"add":"Nullifies Rage","element":"pas"},"Null Sleep":{"add":"Nullifies Sleep","element":"pas"},"Null Wind":{"add":"Nullifies Wind dmg","element":"pas"},"Ominous Words":{"add":"Despair","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"One-shot Kill":{"cost":17,"crit":40,"element":"gun","hit":90,"power":210,"target":"1 foe"},"Oni Kagura":{"add":"Rage","cost":16,"crit":5,"element":"phy","hit":80,"mod":25,"power":80,"target":"All foes"},"Oratorio":{"add":"HP recovery, Dekunda","cost":1038,"element":"rec","mod":100,"target":"All allies","unique":"Messiah"},"Panta Rhei":{"cost":1042,"element":"win","hit":98,"power":200,"target":"1 foe"},"Patra":{"add":"Cures Dizzy, Forget, Sleep, Hunger","cost":1004,"element":"rec","target":"1 ally"},"Position Hack":{"add":"Chance to instantly Hold Up enemies when starting a battle","element":"pas","unique":"Necronomicon"},"Pressing Stance":{"add":"incoming non-almighty attack accuracy, Surrounded only","element":"pas","mod":1033},"Psi":{"cost":1004,"element":"psy","hit":99,"power":40,"target":"1 foe"},"Psio":{"cost":1008,"element":"psy","hit":99,"power":100,"target":"1 foe"},"Psiodyne":{"cost":1012,"element":"psy","hit":99,"power":160,"target":"1 foe"},"Psy Amp":{"add":"Psy dmg","element":"pas","mod":1150},"Psy Boost":{"add":"Psy dmg","element":"pas","mod":1125},"Psy Break":{"add":"Sets Psy resistance to neutral","cost":1015,"element":"sup","target":"All foes"},"Psy Wall":{"add":"Sets Psy resistance to resists","cost":1018,"element":"sup","target":"1 ally"},"Psycho Blast":{"cost":1054,"element":"psy","hit":95,"power":40,"target":"All foes"},"Psycho Force":{"cost":1048,"element":"psy","hit":98,"power":200,"target":"1 foe"},"Pulinpa":{"add":"Confuse","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Rage Boost":{"add":"Rage affliction rate","element":"pas","mod":1125},"Rakukaja":{"add":"Raises defense for 3 turns","cost":1008,"element":"sup","target":"1 ally"},"Rakunda":{"add":"Lowers defense for 3 turns","cost":1008,"element":"sup","target":"1 foe"},"Rampage":{"cost":13,"crit":10,"element":"phy","hit":70,"max":3,"min":1,"power":30,"target":"All foes"},"Rebellion":{"add":"Raises crit rate for 3 turns","cost":1005,"element":"sup","target":"1 ally"},"Recarm":{"add":"Revives with 50% HP","cost":1008,"element":"rec","target":"1 ally"},"Regenerate 1":{"add":"HP restored each turn","element":"pas","mod":2},"Regenerate 2":{"add":"HP restored each turn","element":"pas","mod":4},"Regenerate 3":{"add":"HP restored each turn","element":"pas","mod":6},"Repel Bless":{"add":"Repels Bless dmg","element":"pas"},"Repel Curse":{"add":"Repels Curse dmg","element":"pas"},"Repel Elec":{"add":"Repels Elec dmg","element":"pas"},"Repel Fire":{"add":"Repels Fire dmg","element":"pas"},"Repel Ice":{"add":"Repels Ice dmg","element":"pas"},"Repel Nuke":{"add":"Repels Nuke dmg","element":"pas"},"Repel Phys":{"add":"Repels Phys dmg","element":"pas"},"Repel Psy":{"add":"Repels Psy dmg","element":"pas"},"Repel Wind":{"add":"Repels Wind dmg","element":"pas"},"Resist Bless":{"add":"incoming Bless dmg","element":"pas","mod":1050},"Resist Brainwash":{"add":"Brainwash susceptibility rate","element":"pas","mod":1050},"Resist Confuse":{"add":"Confuse susceptibility rate","element":"pas","mod":1050},"Resist Curse":{"add":"incoming Curse dmg","element":"pas","mod":1050},"Resist Despair":{"add":"Despair susceptibility rate","element":"pas","mod":1050},"Resist Dizzy":{"add":"Dizzy susceptibility rate","element":"pas","mod":1050},"Resist Elec":{"add":"incoming Elec dmg","element":"pas","mod":1050},"Resist Fear":{"add":"Fear susceptibility rate","element":"pas","mod":1050},"Resist Fire":{"add":"incoming Fire dmg","element":"pas","mod":1050},"Resist Forget":{"add":"Forget susceptibility rate","element":"pas","mod":1050},"Resist Ice":{"add":"incoming Ice dmg","element":"pas","mod":1050},"Resist Nuke":{"add":"incoming Nuke dmg","element":"pas","mod":1050},"Resist Phys":{"add":"incoming Phys dmg","element":"pas","mod":1050},"Resist Psy":{"add":"incoming Psy dmg","element":"pas","mod":1050},"Resist Rage":{"add":"Rage susceptibility rate","element":"pas","mod":1050},"Resist Sleep":{"add":"Sleep susceptibility rate","element":"pas","mod":1050},"Resist Wind":{"add":"incoming Wind dmg","element":"pas","mod":1050},"Reverse Rub":{"add":"Rage","element":"ail","mod":100,"target":"1 ally","unique":"Enemies"},"Revolution":{"add":"Raises crit rate for 3 turns","cost":1005,"element":"sup","target":"Universal"},"Riot Gun":{"cost":24,"crit":10,"element":"gun","hit":80,"power":300,"target":"All foes"},"Rising Slash":{"add":"dmg after Baton Pass","cost":14,"crit":5,"element":"phy","hit":90,"mod":1150,"power":140,"target":"1 foe"},"Salvation":{"add":"Diarahan + Amrita","cost":1048,"element":"rec","target":"All allies"},"Samarecarm":{"add":"Revives with 100% HP","cost":1018,"element":"rec","target":"1 ally"},"Samsara":{"add":"instakill","cost":1044,"element":"lig","mod":70,"target":"All foes","unique":"Daisoujou"},"Self-Destruct":{"add":"Sacrifices user","element":"alm","power":120,"target":"All foes","unique":"Enemies"},"Sharp Student":{"add":"incoming crit rate","element":"pas","mod":1050},"Shining Arrows":{"cost":1022,"element":"lig","hit":90,"max":8,"min":4,"power":15,"target":"All foes","unique":"Kaguya"},"Shock Boost":{"add":"Shock affliction rate","element":"pas","mod":1125},"Skull Cracker":{"add":"Confuse","cost":10,"crit":5,"element":"phy","hit":90,"mod":35,"power":100,"target":"1 foe"},"Sledgehammer":{"add":"Dizzy","cost":10,"crit":5,"element":"phy","hit":90,"mod":35,"power":100,"target":"1 foe"},"Sleep Boost":{"add":"Sleep affliction rate","element":"pas","mod":1125},"Snap":{"cost":9,"crit":30,"element":"gun","hit":90,"power":80,"target":"1 foe"},"Snipe":{"add":"Gun dmg","element":"pas","mod":1125},"Soul Chain":{"add":"20 SP restored after Baton Pass","card":"Network Fusion","element":"pas"},"Speed Master":{"add":"Begins battle with Sukukaja","element":"pas"},"Spell Master":{"add":"SP skill costs","element":"pas","mod":1050},"Spirit Drain":{"add":"Absorbs 10 SP","cost":1003,"element":"alm","target":"1 foe"},"Spirit Leech":{"add":"Absorbs 50 SP","element":"alm","target":"1 foe","unique":"Enemies"},"Stagnant Air":{"add":"Raises ailment susceptibility rate for 3 turns","cost":1005,"element":"alm","target":"Universal"},"Stomach Blow":{"add":"Hunger","element":"phy","power":100,"target":"1 foe","unique":"Enemies"},"Subrecover HP":{"add":"HP restored to backup allies after battle","element":"pas","mod":10,"unique":"Necronomicon"},"Subrecover HP EX":{"add":"HP restored to backup allies after battle","element":"pas","mod":20,"unique":"Necronomicon"},"Subrecover SP":{"add":"SP restored to backup allies after battle","element":"pas","mod":1,"unique":"Necronomicon"},"Subrecover SP EX":{"add":"SP restored to backup allies after battle","element":"pas","mod":3,"unique":"Necronomicon"},"Sukukaja":{"add":"Raises accuracy + evasion for 3 turns","cost":1008,"element":"sup","target":"1 ally"},"Sukunda":{"add":"Lowers accuracy + evasion for 3 turns","cost":1008,"element":"sup","target":"1 foe"},"Summon":{"add":"Summons enemy reinforcements","element":"alm","unique":"Enemies"},"Survival Trick":{"add":"Survive instakill attack with 1 HP","element":"pas"},"Swift Strike":{"cost":17,"crit":10,"element":"phy","hit":70,"max":4,"min":2,"power":20,"target":"All foes"},"Sword Dance":{"cost":21,"crit":40,"element":"phy","hit":90,"power":360,"target":"1 foe"},"Tarukaja":{"add":"Raises attack for 3 turns","cost":1008,"element":"sup","target":"1 ally"},"Tarunda":{"add":"Lowers attack for 3 turns","cost":1008,"element":"sup","target":"1 foe"},"Taunt":{"add":"Rage","cost":1005,"element":"ail","mod":70,"target":"1 foe"},"Tempest Slash":{"cost":17,"crit":5,"element":"phy","hit":85,"max":5,"min":3,"power":20,"target":"1 foe"},"Tentarafoo":{"add":"Confuse","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Terror Claw":{"add":"Fear","cost":8,"crit":5,"element":"phy","hit":90,"mod":35,"power":100,"target":"1 foe"},"Tetra Break":{"add":"Removes Tetrakarn","cost":1018,"element":"sup","target":"All foes"},"Tetraja":{"add":"Nullifies next instakill attack","cost":1024,"element":"sup","target":"All allies"},"Tetrakarn":{"add":"Repels next Phys or Gun attack","cost":1036,"element":"sup","target":"1 ally"},"Thermopylae":{"add":"Tarukaja + Rakukaja + Sukukaja, Surrounded only","cost":1030,"element":"sup","target":"All allies"},"Thunder Reign":{"add":"Shock","cost":1048,"element":"ele","hit":98,"mod":26,"power":200,"target":"1 foe"},"Titanomachia":{"add":"Fear","cost":1034,"element":"fir","hit":90,"mod":70,"power":210,"target":"All foes","unique":"Asterius"},"Touch n\' Go":{"add":"Applies Sukukaja after Baton Pass","element":"pas"},"Treasure Reboot":{"add":"Chance to restore search objects in the area after battle","element":"pas","unique":"Necronomicon"},"Treasure Skimmer":{"add":"Identifies foes carrying a rare item","element":"pas","unique":"Necronomicon"},"Trigger Happy":{"add":"Gun crit rate","element":"pas","mod":1115},"Triple Down":{"cost":16,"crit":5,"element":"gun","hit":70,"min":3,"power":30,"target":"All foes"},"Unshaken Will":{"add":"Nullifies Confuse, Fear, Rage, Despair","element":"pas"},"Vacuum Wave":{"cost":1048,"element":"win","hit":95,"power":200,"target":"All foes"},"Vajra Blast":{"cost":14,"crit":5,"element":"phy","hit":80,"power":80,"target":"All foes"},"Vicious Strike":{"cost":18,"crit":5,"element":"phy","hit":80,"power":110,"target":"All foes"},"Victory Cry":{"add":"HP and SP restored after battle","element":"pas","mod":100},"Vorpal Blade":{"cost":23,"crit":10,"element":"phy","hit":80,"power":210,"target":"All foes"},"Wage War":{"add":"Rage","cost":1012,"element":"ail","mod":50,"target":"All foes"},"Wild Thunder":{"add":"Shock","cost":1054,"element":"ele","hit":95,"mod":24,"power":180,"target":"All foes"},"Wind Amp":{"add":"Wind dmg","element":"pas","mod":1150},"Wind Boost":{"add":"Wind dmg","element":"pas","mod":1125},"Wind Break":{"add":"Sets Wind resistance to neutral","cost":1015,"element":"sup","target":"All foes"},"Wind Wall":{"add":"Sets Wind resistance to resists","cost":1018,"element":"sup","target":"1 ally"},"Zio":{"add":"Shock","cost":1004,"element":"ele","hit":99,"mod":25,"power":40,"target":"1 foe"},"Ziodyne":{"add":"Shock","cost":1012,"element":"ele","hit":99,"mod":25,"power":160,"target":"1 foe"},"Zionga":{"add":"Shock","cost":1008,"element":"ele","hit":99,"mod":25,"power":100,"target":"1 foe"}}')}}]);