"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[159],{3687:(M,q,a)=>{a.d(q,{d:()=>D});var l=a(4769),e=a(6593),_=a(6814);function C(u,b){if(1&u){const p=l.EpF();l.TgZ(0,"tr")(1,"td")(2,"label"),l._uU(3),l.TgZ(4,"input",3),l.NdJ("change",function(){const c=l.CHM(p).$implicit,T=l.oxw();return l.KtG(T.toggledName.emit(c.name))}),l.qZA()()()()}if(2&u){const p=b.$implicit;l.xp6(3),l.hij("",p.name.split(",").join(", ")," "),l.xp6(1),l.Q6J("checked",p.included)}}let D=(()=>{var u;class b{constructor(h){this.title=h,this.dlcTitle="Included DLC Demons",this.langEn=!0,this.toggledName=new l.vpe}set appTitle(h){this.title.setTitle((this.langEn?"Fusion Settings - ":"\u5408\u4f53\u8a2d\u5b9a ")+h)}}return(u=b).\u0275fac=function(h){return new(h||u)(l.Y36(e.Dx))},u.\u0275cmp=l.Xpm({type:u,selectors:[["app-demon-dlc-settings"]],inputs:{dlcDemons:"dlcDemons",dlcTitle:"dlcTitle",langEn:"langEn",appTitle:"appTitle"},outputs:{toggledName:"toggledName"},decls:10,vars:2,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(h,k){1&h&&(l.ynx(0),l.TgZ(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"table",0)(4,"thead")(5,"tr")(6,"th",1),l._uU(7,"DLC"),l.qZA()()(),l.TgZ(8,"tbody"),l.YNc(9,C,5,2,"tr",2),l.qZA()(),l.BQk()),2&h&&(l.xp6(2),l.Oqu(k.dlcTitle),l.xp6(7),l.Q6J("ngForOf",k.dlcDemons))},dependencies:[_.sg],encapsulation:2,changeDetection:0}),b})()},9052:(M,q,a)=>{a.d(q,{m:()=>C});var l=a(7548),e=a(4769),_=a(8615);let C=(()=>{var D;class u{constructor(p,h){this.changeDetectorRef=p,this.fusionTrioService=h,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(p=>{this.normChart=p.normalChart,this.tripChart=p.tripleChart}))}ngOnDestroy(){for(const p of this.subscriptions)p.unsubscribe()}}return(D=u).\u0275fac=function(p){return new(p||D)(e.Y36(e.sBO),e.Y36(l.Ir))},D.\u0275cmp=e.Xpm({type:D,selectors:[["app-triple-fusion-chart"]],decls:1,vars:4,consts:[[3,"normChart","tripChart","normTitle","tripTitle"]],template:function(p,h){1&p&&e._UZ(0,"app-fusion-chart",0),2&p&&e.Q6J("normChart",h.normChart)("tripChart",h.tripChart)("normTitle","Normal Fusions")("tripTitle","Triple Fusions")},dependencies:[_.R],encapsulation:2,changeDetection:0}),u})()},3186:(M,q,a)=>{a.d(q,{f:()=>e});var l=a(4769);let e=(()=>{var _;class C{constructor(u,b){this.changeDetector2=u,this.fusionDataService2=b,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService2.compendium.subscribe(u=>{this.changeDetector2.markForCheck(),this.compendium=u,this._dlcDemons=Object.assign({},this.compendium.dlcDemons),this.dlcDemons=Object.entries(this._dlcDemons).map(([b,p])=>({name:b,included:p}))}))}ngOnDestroy(){for(const u of this.subscriptions)u.unsubscribe()}toggleName(u){this._dlcDemons[u]=!this._dlcDemons[u],this.fusionDataService2.nextDlcDemons(this._dlcDemons)}}return(_=C).\u0275fac=function(u){l.$Z()},_.\u0275dir=l.lG2({type:_}),C})()},2812:(M,q,a)=>{a.d(q,{t:()=>e});var l=a(6262);class e extends l.g{constructor(C,D,u){super(),this.elementDemons=[],this.lvlModifier=.5,this.initCharts(C,u)}initCharts(C,D){const u=C.races,b=C.table,p=[];for(let h=0;h<u.length;h++)p.push(b[h].slice(D?0:h,D?h+1:u.length)),D||(p[h][0]="-");this.races=u,this.lvlModifier=D?4.25:.5,this.fissionChart=l.g.loadFissionTableJson(u,this.elementDemons,p),this.fusionChart=l.g.loadFusionTableJson(u,p),this.elementChart={}}}},3754:(M,q,a)=>{a.d(q,{V:()=>Ee});var l=a(4487),e=a(4769),_=a(2026),C=a(6814),D=a(5390);let u=(()=>{var n;class i{constructor(t){this.appCssClasses=t.compConfig.appCssClasses,this.otherLinks=[{title:"Shadow List",link:"shadows"}],this.otherLinks.push(t.compConfig.hasTripleFusion?{title:"QR Code Generator",link:"qrcodes"}:{title:"Recipe Generator",link:"recipes"})}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(_.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pq2-compendium"]],decls:1,vars:3,consts:[[3,"ngClass","mainList","otherLinks"]],template:function(t,o){1&t&&e._UZ(0,"app-demon-compendium",0),2&t&&e.Q6J("ngClass",o.appCssClasses)("mainList","persona")("otherLinks",o.otherLinks)},dependencies:[C.mk,D.e],styles:[".pq2 div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:center;color:transparent}.pq2 div.element-icon.i2079,.pq2 div.element-icon.phy{background-image:url(/assets/images/p5/phys.png)}.pq2 div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.pq2 div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.pq2 div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.pq2 div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.pq2 div.element-icon.psy{background-image:url(/assets/images/p5/psy.png)}.pq2 div.element-icon.nuk{background-image:url(/assets/images/p5/nuke.png)}.pq2 div.element-icon.ble{background-image:url(/assets/images/p5/bless.png)}.pq2 div.element-icon.cur{background-image:url(/assets/images/p5/curse.png)}.pq2 div.element-icon.mag{background-image:url(/assets/images/p5/almighty.png)}.pq2 div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.pq2 div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.pq2 div.element-icon.i4095,.pq2 div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.pq2 div.element-icon.def{background-image:url(/assets/images/p5/support.png)}.pq2 div.element-icon.i4088,.pq2 div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.pq2 div.element-icon.i2047,.pq2 div.element-icon.nav{background-image:url(/assets/images/p5/trait.png)}.pq2 div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.pq2 th.title,.pq2 th.nav.active,.pq2 th.nav.active a{color:#fff;background-color:#ff4800}.pq div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:center;color:transparent}.pq div.element-icon.cut{background-image:url(/assets/images/p5/sword.png)}.pq div.element-icon.i3584,.pq div.element-icon.i3591,.pq div.element-icon.bas{background-image:url(/assets/images/p5/phys.png)}.pq div.element-icon.sta{background-image:url(/assets/images/p5/gun.png)}.pq div.element-icon.i376,.pq div.element-icon.i383,.pq div.element-icon.i3960,.pq div.element-icon.i3967,.pq div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.pq div.element-icon.i248,.pq div.element-icon.i255,.pq div.element-icon.i3832,.pq div.element-icon.i3839,.pq div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.pq div.element-icon.i472,.pq div.element-icon.i479,.pq div.element-icon.i4056,.pq div.element-icon.i4063,.pq div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.pq div.element-icon.i440,.pq div.element-icon.i447,.pq div.element-icon.i4024,.pq div.element-icon.i4031,.pq div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.pq div.element-icon.i496,.pq div.element-icon.i503,.pq div.element-icon.i4080,.pq div.element-icon.i4087,.pq div.element-icon.lig{background-image:url(/assets/images/p5/bless.png)}.pq div.element-icon.i488,.pq div.element-icon.i495,.pq div.element-icon.i4072,.pq div.element-icon.i4079,.pq div.element-icon.dar{background-image:url(/assets/images/p5/curse.png)}.pq div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.pq div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.pq div.element-icon.i504,.pq div.element-icon.i511,.pq div.element-icon.i4088,.pq div.element-icon.i4095,.pq div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.pq div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.pq div.element-icon.nav{background-image:url(/assets/images/p5/trait.png)}.pq div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.pq th.title,.pq th.nav.active,.pq th.nav.active a{color:#000;background-color:#aa1ca9}.p5t div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:center;color:transparent}.p5t div.element-icon.phy{background-image:url(/assets/images/p5/phys.png)}.p5t div.element-icon.gun{background-image:url(/assets/images/p5/gun.png)}.p5t div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.p5t div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.p5t div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.p5t div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.p5t div.element-icon.psy{background-image:url(/assets/images/p5/psy.png)}.p5t div.element-icon.nuk{background-image:url(/assets/images/p5/nuke.png)}.p5t div.element-icon.ble{background-image:url(/assets/images/p5/bless.png)}.p5t div.element-icon.cur{background-image:url(/assets/images/p5/curse.png)}.p5t div.element-icon.i1023,.p5t div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.p5t div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.p5t div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.p5t div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.p5t th.title,.p5t th.nav.active,.p5t th.nav.active a{color:#fff;background-color:#f41000}\n"],encapsulation:2,changeDetection:0}),i})();var b=a(1032),p=a(6593),h=a(4101);let k=(()=>{var n;class i extends b.l{constructor(t,o,m,g){super(t,m,g),this.showAllies=!o.snapshot.data.showShadows,this.showEnemies=!this.showAllies,this.compConfig=g.compConfig,this.defaultSortFun=(O,F)=>200*(this.compConfig.raceOrder[O.race]-this.compConfig.raceOrder[F.race])+F.lvl-O.lvl,this.appName=`List of Personas - ${g.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Shadows - ${g.appName}`,this.statHeaders=this.compConfig.enemyStats,this.resistHeaders=this.compConfig.enemyResists,this.inheritOrder=null)}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(p.Dx),e.Y36(l.gz),e.Y36(e.sBO),e.Y36(_.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(t,o){1&t&&(e._UZ(0,"app-smt-demon-list",0),e.ALo(1,"async")),2&t&&e.Q6J("isEnemy",o.showEnemies)("raceOrder",o.compConfig.raceOrder)("statHeaders",o.statHeaders)("resistHeaders",o.resistHeaders)("inheritOrder",o.inheritOrder)("rowData",e.lcZ(1,6,o.demons))},dependencies:[h.Q,C.Ov],encapsulation:2,changeDetection:0}),i})();var c=a(4330),T=a(3934);let d=(()=>{var n;class i extends c.e{constructor(t,o,m){super(t,o,m),this.appName=`List of Skills - ${m.appName}`,this.compConfig=m.compConfig,this.defaultSortFun=(g,O)=>1e4*(this.compConfig.elemOrder[g.element]-this.compConfig.elemOrder[O.element])+g.rank-O.rank}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(p.Dx),e.Y36(e.sBO),e.Y36(_.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-skill-list-container"]],features:[e.qOj],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(t,o){1&t&&(e._UZ(0,"app-smt-skill-list",0),e.ALo(1,"async")),2&t&&e.Q6J("elemOrder",o.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Skill Card")("rowData",e.lcZ(1,6,o.skills))},dependencies:[T.J,C.Ov],encapsulation:2,changeDetection:0}),i})();var y=a(7880),E=a(8520),v=a(755),r=a(9012),f=a(4069),Z=a(8711),N=a(1009);let U=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:19,vars:14,consts:[[3,"title","statHeaders","stats"],[1,"entry-table"],["colspan","2",1,"title"],[3,"resistHeaders","resists","ailmentHeaders","ailments"],[3,"hasTarget","hasLvl","elemOrder","compendium","skillLevels"]],template:function(t,o){1&t&&(e._UZ(0,"app-demon-stats",0),e.TgZ(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),e._uU(5,"Appearances"),e.qZA()(),e.TgZ(6,"tr")(7,"th"),e._uU(8,"Areas"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Drops"),e.qZA()()(),e.TgZ(11,"tbody")(12,"tr")(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA()()()(),e._UZ(17,"app-demon-resists",3)(18,"app-demon-skills",4)),2&t&&(e.Q6J("title","Lvl "+o.demon.lvl+" "+o.demon.race+" "+o.demon.name)("statHeaders",o.compConfig.enemyStats)("stats",o.demon.stats),e.xp6(14),e.Oqu(o.demon.area),e.xp6(2),e.Oqu(o.demon.drop),e.xp6(1),e.Q6J("resistHeaders",o.compConfig.enemyResists)("resists",o.demon.resists)("ailmentHeaders",o.compConfig.ailmentElems)("ailments",o.demon.ailments),e.xp6(1),e.Q6J("hasTarget",!0)("hasLvl",!1)("elemOrder",o.compConfig.elemOrder)("compendium",o.compendium)("skillLevels",o.demon.skills))},dependencies:[E.O,N.I,v.n],encapsulation:2,changeDetection:0}),i})();function L(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-demon-stats",2)(2,"app-demon-inherits",3)(3,"app-demon-skills",4)(4,"app-smt-fusions",5),e.BQk()),2&n){const s=e.oxw();e.xp6(1),e.Q6J("title","Lvl "+s.demon.lvl+" "+s.demon.race+" "+s.demon.name)("price",s.demon.price)("statHeaders",s.compConfig.baseStats)("stats",s.demon.stats)("inherits",s.demon.inherits),e.xp6(1),e.Q6J("inheritHeaders",s.compConfig.inheritElems)("inherits",s.compendium.getInheritElems(s.demon.inherits)),e.xp6(1),e.Q6J("hasTarget",!0)("elemOrder",s.compConfig.elemOrder)("compendium",s.compendium)("skillLevels",s.demon.skills),e.xp6(1),e.Q6J("hasTripleFusion",s.compConfig.hasTripleFusion)("excludedDlc","excluded"===s.demon.fusion)}}function I(n,i){if(1&n&&e._UZ(0,"app-demon-missing",6),2&n){const s=e.oxw();e.Q6J("name",s.name)}}function R(n,i){if(1&n&&e._UZ(0,"app-demon-entry",1),2&n){const s=e.oxw();e.Q6J("name",s.name)("demon",s.demon)("compConfig",s.compConfig)("compendium",s.compendium)}}function B(n,i){if(1&n&&e._UZ(0,"app-enemy-entry",1),2&n){const s=e.oxw();e.Q6J("name",s.name)("demon",s.demon)("compConfig",s.compConfig)("compendium",s.compendium)}}let G=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","price","statHeaders","stats","inherits"],[3,"inheritHeaders","inherits"],[3,"hasTarget","elemOrder","compendium","skillLevels"],[3,"hasTripleFusion","excludedDlc"],[3,"name"]],template:function(t,o){1&t&&(e.YNc(0,L,5,13,"ng-container",0),e.YNc(1,I,1,1,"app-demon-missing",1)),2&t&&(e.Q6J("ngIf",o.demon),e.xp6(1),e.Q6J("ngIf",!o.demon))},dependencies:[C.O5,y.t,E.O,v.n,r.N,f.O],encapsulation:2,changeDetection:0}),i})(),w=(()=>{var n;class i{constructor(t,o,m,g){this.route=t,this.title=o,this.currentDemonService=m,this.fusionDataService=g,this.subscriptions=[],this.appName="Test App",this.appName=g.appName,this.compConfig=g.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(t=>{this.name=t,this.getDemonEntry()})),this.route.params.subscribe(t=>{this.currentDemonService.nextCurrentDemon(t.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(p.Dx),e.Y36(Z.s),e.Y36(_.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium"]],template:function(t,o){1&t&&(e.YNc(0,R,1,4,"app-demon-entry",0),e.YNc(1,B,1,4,"app-enemy-entry",0)),2&t&&(e.Q6J("ngIf",!o.demon||!o.demon.isEnemy),e.xp6(1),e.Q6J("ngIf",o.demon&&o.demon.isEnemy))},dependencies:[C.O5,G,U],encapsulation:2,changeDetection:0}),i})();const A=Array(24).fill(0);function P(n,i){return n.split("").map(s=>s.charCodeAt(0)).concat(Array(i-n.length).fill(0))}A[0]=4,A[2]=50,A[4]=50,A[6]=50,A[7]=50,A[8]=50,A[12]=50,A[16]=50,A[20]=50;const Y=[].concat(P("aqiu384.github.io",21),P("https://youtu.be/b1KfNEPKncQ",33)),Q="kitaro",J="bancho",H=[].concat(P(Q,17),P(J,17)),K=[].concat(P(Q,29),P(J,29)),X=[].concat(P(Q,17),P(J,17),P("renren",17),P("hamuko",17)),W=[].concat([34,50],Array(36).fill(31),[31,0,31,0,0,0,1,128]),V=[].concat([34,50],Array(54).fill(31),[31,0,1,0]);var S=a(95);let te=(()=>{var n;class i{constructor(){this.byteArray=[],this.errorLvl="L",this.typeNum=10,this.qrFactory=qrcode(this.typeNum,this.errorLvl),this.qrImg=null}ngOnChanges(){this.createQrcode()}createQrcode(){this.qrFactory=qrcode(this.typeNum,this.errorLvl),this.qrFactory.addData(this.byteArray.map(t=>String.fromCharCode(t)).join("")),this.qrFactory.make(),this.qrImg=this.qrFactory.createImgTag(5)}}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-qrcode"]],inputs:{byteArray:"byteArray",errorLvl:"errorLvl",typeNum:"typeNum"},features:[e.TTD],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(t,o){1&t&&e._UZ(0,"div",0),2&t&&e.Q6J("innerHtml",o.qrImg,e.oJD)},encapsulation:2,changeDetection:0}),i})();var se=a(2173);function oe(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.index;e.Q6J("value",s+1),e.xp6(1),e.Oqu(s+1)}}function ie(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.index;e.Q6J("value",s+1),e.xp6(1),e.Oqu(s+1)}}function ae(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.index;e.Q6J("value",s+1),e.xp6(1),e.Oqu(s+1)}}function re(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.$implicit;e.Q6J("value",s),e.xp6(1),e.Oqu(s)}}function le(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.$implicit;e.Q6J("value",s.name),e.xp6(1),e.Oqu(s.name)}}function ce(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.$implicit;e.Q6J("value",s),e.xp6(1),e.Oqu(s)}}function me(n,i){if(1&n&&(e.TgZ(0,"option",17),e._uU(1),e.qZA()),2&n){const s=i.$implicit;e.Q6J("value",s.name),e.xp6(1),e.Oqu(s.name)}}function pe(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"td"),e._uU(2),e.ALo(3,"skillCostToString"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.BQk()),2&n){const s=i.$implicit;e.xp6(1),e.Udp("color",s.cost?null:"transparent"),e.xp6(1),e.Oqu(e.lcZ(3,5,s.cost)),e.xp6(3),e.Oqu(s.effect),e.xp6(2),e.Oqu(s.target)}}function ue(n,i){1&n&&(e.TgZ(0,"td"),e._uU(1,"-"),e.qZA(),e.TgZ(2,"td"),e._uU(3,"-"),e.qZA(),e.TgZ(4,"td"),e._uU(5,"-"),e.qZA())}const de=function(n){return{unique:n}};function ge(n,i){if(1&n){const s=e.EpF();e.ynx(0,18),e.TgZ(1,"tr",19)(2,"td")(3,"select",20),e.NdJ("change",function(){const m=e.CHM(s).$implicit,g=e.oxw();return e.KtG(m.controls.name.setValue(g.skills[m.controls.elem.value][0].name))}),e.TgZ(4,"option",21),e._uU(5,"-"),e.qZA(),e.YNc(6,ce,2,2,"option",9),e.qZA()(),e.TgZ(7,"td")(8,"select",22),e.YNc(9,me,2,2,"option",9),e.qZA()(),e.YNc(10,pe,8,7,"ng-container",23),e.YNc(11,ue,6,0,"ng-template",null,24,e.W1O),e.qZA(),e.BQk()}if(2&n){const s=i.$implicit,t=i.index,o=e.MAs(12),m=e.oxw();e.Q6J("formGroupName",t),e.xp6(1),e.Q6J("ngClass",e.VKq(6,de,(m.compendium.getSkill(s.controls.name.value)||m.blankSkill).rank>90)),e.xp6(5),e.Q6J("ngForOf",m.elems),e.xp6(3),e.Q6J("ngForOf",m.skills[s.controls.elem.value]),e.xp6(1),e.Q6J("ngIf",m.compendium.getSkill(s.controls.name.value))("ngIfElse",o)}}let he=(()=>{var n;class i{constructor(t){this.fb=t,this.defaultRace="Fool",this.defaultDemon="Slime",this.demons={},this.skills={},this.dcodes={},this.scodes={},this.range99=Array(99),this.range299=Array(299),this.price=0,this.blankSkill={code:0,cost:0,level:0,rank:0,target:"Self",name:"-",element:"-",inherit:"-",effect:"-",learnedBy:[],transfer:[]},this.createForm()}ngOnChanges(){this.initDropdowns()}createForm(){const t=[];for(let o=0;o<6;o++)t.push(this.fb.group({elem:"-",name:"-"}));this.form=this.fb.group({language:"eng",lvl:1,hp:1,mp:1,race:this.defaultRace,demon:this.defaultDemon,skills:this.fb.array(t)}),this.form.valueChanges.subscribe(o=>{if(this.form.valid){const m=this.compendium.getDemon(o.demon),g=o.skills.map(x=>this.compendium.getSkill(x.name)||this.blankSkill),O={language:o.language,demonCode:m.code,lvl:parseInt(o.lvl,10),exp:-1,hp:parseInt(o.hp,10),mp:parseInt(o.mp,10),skillCodes:g.map(x=>x.code)},F=O.skillCodes.reduce((x,Ae)=>0!==Ae?x+1:x,0);this.price=10*Math.floor((800+120*O.lvl)*(1+.25*F)/10),this.passBytes=function z(n,i){return i&&i.includes("2")?function ne(n){const i=A.slice(),s=Array(25).fill(0),t=n.lvl,o=Math.floor((((-.0479755766*t+9.28700353)*t+71.9694228)*t-81.1026214)*t+.120783542),m=n.exp<0?o:n.exp;"jpn"!==n.language&&(i[6]=256-i[6]),s[0]=n.demonCode%256,s[1]=2*n.lvl+Math.floor(n.demonCode/256),s[2]=m%256,s[3]=Math.floor(m/256)%256,s[4]=Math.floor(m/65536);for(let g=0;g<6;g++)s[6+2*g]=n.skillCodes[g]%256,s[6+2*g+1]=Math.floor(n.skillCodes[g]/256);return s[22]=10*n.hp%256,s[23]=10*n.mp%16*16+Math.floor(n.hp/25.6),s[24]=Math.floor(n.mp/1.6),[].concat(i,Y,X,V,s,Array(21).fill(0))}(n):function ee(n){const i="jpn"===n.language?H:K,s=Array(30).fill(0),t=n.lvl,o=Math.floor((((-.07600161*t+14.0603287)*t-.02256972)*t+.59031556)*t-1.87981906),m=n.exp<0?o:n.exp;s[0]=n.demonCode,s[2]=n.lvl,s[6]=m%256,s[7]=Math.floor(m/256)%256,s[8]=Math.floor(m/65536);for(let g=0;g<6;g++)s[10+2*g]=n.skillCodes[g]%256,s[10+2*g+1]=Math.floor(n.skillCodes[g]/256);return s[26]=10*n.hp%256,s[27]=Math.floor(n.hp/25.6),s[28]=10*n.mp%256,s[29]=Math.floor(n.mp/25.6),[].concat(A,Y,i,W,s,Array(40).fill(0))}(n)}(O,this.compConfig.appTitle)}})}initDropdowns(){if(this.demons={},this.skills={"-":[this.blankSkill]},this.dcodes={},this.scodes={0:this.blankSkill},this.compConfig&&this.compendium){for(const t of this.compendium.allDemons.filter(o=>o.code))this.demons[t.race]||(this.demons[t.race]=[]),this.demons[t.race].push(t),this.dcodes[t.code]=t;for(const t of this.compendium.allSkills.filter(o=>o.code))this.skills[t.element]||(this.skills[t.element]=[]),this.skills[t.element].push(t),this.scodes[t.code]=t;for(const t of Object.values(this.demons))t.sort((o,m)=>m.lvl-o.lvl);for(const t of Object.values(this.skills))t.sort((o,m)=>o.rank-m.rank);this.races=this.compConfig.races.filter(t=>this.demons[t]),this.elems=this.compConfig.skillElems.filter(t=>this.skills[t]),this.setDefaultValues(this.defaultDemon)}}changeRace(t){const o=this.demons[t][0];this.form.controls.demon.setValue(o.name),this.setDefaultValues(o.name)}setDefaultValues(t){const o=Array(6).fill(this.blankSkill),m=this.compendium.getDemon(t);let g=0;for(const[O,F]of Object.entries(m.skills))0===F&&(o[g++]=this.compendium.getSkill(O));this.form.patchValue({lvl:Math.floor(m.lvl),hp:m.stats[0],mp:m.stats[1],race:m.race,demon:m.name,skills:o.map(O=>({elem:O.element,name:O.name}))})}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(S.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-password-generator"]],inputs:{defaultRace:"defaultRace",defaultDemon:"defaultDemon",compendium:"compendium",compConfig:"compConfig"},features:[e.TTD],decls:69,vars:9,consts:[[3,"formGroup"],[1,"entry-table"],["colspan","2",1,"title"],[3,"byteArray"],["colspan","7",1,"title"],["formControlName","language"],["value","jpn"],["value","eng"],["formControlName","lvl"],[3,"value",4,"ngFor","ngForOf"],["formControlName","hp"],["formControlName","mp"],["formControlName","race",3,"change"],["formControlName","demon",3,"change"],["formArrayName","skills",1,"list-table"],["colspan","5",1,"title"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],[3,"ngClass"],["formControlName","elem",3,"change"],["value","-"],["formControlName","name"],[4,"ngIf","ngIfElse"],["noEntry",""]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"h2"),e._uU(2,"QR Code Generator"),e.qZA(),e.TgZ(3,"table",1)(4,"tr")(5,"th",2),e._uU(6,"QR Code"),e.qZA()(),e.TgZ(7,"tr")(8,"td"),e._UZ(9,"app-qrcode",3),e.qZA()()(),e.TgZ(10,"table",1)(11,"tr")(12,"th",4),e._uU(13,"Persona Entry"),e.qZA()(),e.TgZ(14,"tr")(15,"th"),e._uU(16,"Price"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Language"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Level"),e.qZA(),e.TgZ(21,"th"),e._uU(22,"HP"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"MP"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Race"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Demon"),e.qZA()(),e.TgZ(29,"tr")(30,"td"),e._uU(31),e.qZA(),e.TgZ(32,"td")(33,"select",5)(34,"option",6),e._uU(35,"Japanese"),e.qZA(),e.TgZ(36,"option",7),e._uU(37,"English"),e.qZA()()(),e.TgZ(38,"td")(39,"select",8),e.YNc(40,oe,2,2,"option",9),e.qZA()(),e.TgZ(41,"td")(42,"select",10),e.YNc(43,ie,2,2,"option",9),e.qZA()(),e.TgZ(44,"td")(45,"select",11),e.YNc(46,ae,2,2,"option",9),e.qZA()(),e.TgZ(47,"td")(48,"select",12),e.NdJ("change",function(){return o.changeRace(o.form.controls.race.value)}),e.YNc(49,re,2,2,"option",9),e.qZA()(),e.TgZ(50,"td")(51,"select",13),e.NdJ("change",function(){return o.setDefaultValues(o.form.controls.demon.value)}),e.YNc(52,le,2,2,"option",9),e.qZA()()()(),e.TgZ(53,"table",14)(54,"tr")(55,"th",15),e._uU(56,"Learned Skills"),e.qZA()(),e.TgZ(57,"tr")(58,"th"),e._uU(59,"Element"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Name"),e.qZA(),e.TgZ(62,"th"),e._uU(63,"Cost"),e.qZA(),e.TgZ(64,"th"),e._uU(65,"Effect"),e.qZA(),e.TgZ(66,"th"),e._uU(67,"Target"),e.qZA()(),e.YNc(68,ge,13,8,"ng-container",16),e.qZA()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(9),e.Q6J("byteArray",o.passBytes),e.xp6(22),e.Oqu(o.price),e.xp6(9),e.Q6J("ngForOf",o.range99),e.xp6(3),e.Q6J("ngForOf",o.range299),e.xp6(3),e.Q6J("ngForOf",o.range99),e.xp6(3),e.Q6J("ngForOf",o.races),e.xp6(3),e.Q6J("ngForOf",o.demons[o.form.controls.race.value]),e.xp6(16),e.Q6J("ngForOf",o.form.controls.skills.controls))},dependencies:[C.mk,C.sg,C.O5,S._Y,S.YN,S.Kr,S.EJ,S.JJ,S.JL,S.sg,S.u,S.x0,S.CE,te,se.tq],styles:["td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{width:95%;border-width:3px}input.ng-valid[_ngcontent-%COMP%]{border-color:#0f0}input.ng-invalid[_ngcontent-%COMP%]{border-color:red}"],changeDetection:0}),i})(),fe=(()=>{var n;class i{constructor(t,o){this.fusionDataService=t,this.title=o,this.subscriptions=[],this.compConfig=this.fusionDataService.compConfig}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`QR Code Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t}))}unsubscribeAll(){for(const t of this.subscriptions)t.unsubscribe()}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(_.Y),e.Y36(p.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-password-generator-container"]],decls:1,vars:2,consts:[[3,"compendium","compConfig"]],template:function(t,o){1&t&&e._UZ(0,"app-password-generator",0),2&t&&e.Q6J("compendium",o.compendium)("compConfig",o.compConfig)},dependencies:[he],encapsulation:2,changeDetection:0}),i})();var Ce=a(3186),ve=a(3687);let _e=(()=>{var n;class i extends Ce.f{constructor(t,o){super(t,o),this.changeDetector=t,this.fusionDataService=o,this.appTitle=o.appName}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(_.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-demon-dlc-settings-container"]],features:[e.qOj],decls:1,vars:3,consts:[[3,"dlcDemons","appTitle","dlcTitle","toggledName"]],template:function(t,o){1&t&&(e.TgZ(0,"app-demon-dlc-settings",0),e.NdJ("toggledName",function(g){return o.toggleName(g)}),e.qZA()),2&t&&e.Q6J("dlcDemons",o.dlcDemons)("appTitle",o.appTitle)("dlcTitle","Included DLC Personas")},dependencies:[ve.d],encapsulation:2,changeDetection:0}),i})();var De=a(4436);let ye=(()=>{var n;class i{constructor(t,o){this.fusionDataService=t,this.title=o,this.subscriptions=[];const m=this.fusionDataService.compConfig;this.maxSkills=m.hasTripleFusion?6:2,this.recipeConfig={fissionCalculator:this.fusionDataService.fissionCalculator,fusionCalculator:this.fusionDataService.fusionCalculator,races:m.races,skillElems:m.skillElems,inheritElems:m.inheritElems,restrictInherits:!0,triExclusiveRaces:["Fool","Tower","Moon","Sun","Judgement"],triFissionCalculator:this.fusionDataService.triFissionCalculator,triFusionCalculator:this.fusionDataService.triFusionCalculator,defaultDemon:"Pixie"}}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`Recipe Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t})),this.subscriptions.push(this.fusionDataService.squareChart.subscribe(t=>{this.squareChart=t}))}unsubscribeAll(){for(const t of this.subscriptions)t.unsubscribe()}}return(n=i).\u0275fac=function(t){return new(t||n)(e.Y36(_.Y),e.Y36(p.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-recipe-generator-container"]],decls:1,vars:4,consts:[[3,"maxSkills","compendium","squareChart","recipeConfig"]],template:function(t,o){1&t&&e._UZ(0,"app-recipe-generator",0),2&t&&e.Q6J("maxSkills",o.maxSkills)("compendium",o.compendium)("squareChart",o.squareChart)("recipeConfig",o.recipeConfig)},dependencies:[De.X],encapsulation:2,changeDetection:0}),i})();var be=a(5657),Te=a(4689),ke=a(6857),Oe=a(4170);const Ze=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:u,data:{fusionTool:"chart"},children:[{path:"chart",component:a(9052).m}]},{path:"",component:u,children:[{path:"personas/:demonName",component:w,children:[{path:"fissions/triple",component:ke.p},{path:"fusions/triple",component:Oe.n},{path:"fissions",component:be.t},{path:"fusions",component:Te.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"shadows/:demonName",component:w},{path:"personas",component:k},{path:"shadows",component:k,data:{showShadows:!0}},{path:"skills",component:d},{path:"qrcodes",component:fe},{path:"recipes",component:ye},{path:"settings",component:_e}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let Ee=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(Ze),l.Bz]}),i})()},2026:(M,q,a)=>{a.d(q,{Y:()=>h});var l=a(5619);class e{constructor(c){this.compConfig=c,this.specialRecipes={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const c={},T={},d={},y={},E={};if(this._dlcDemons={},this.compConfig.dlcData){Object.assign(this.compConfig.demonData,this.compConfig.dlcData);for(const v of Object.keys(this.compConfig.dlcData))this._dlcDemons[v]=!1}for(const[v,r]of Object.entries(this.compConfig.demonData)){const f=Object.values(r.skills).reduce((N,U)=>0===U?N+1:N,0),Z=10*Math.floor((800+120*r.lvl)*(1+.25*f)/10);c[v]={name:v,race:r.race,lvl:r.lvl,currLvl:r.lvl,price:Z,inherits:this.compConfig.inheritTypes[r.inherit],stats:r.stats,skills:r.skills,resists:[],ailments:[],code:r.code||0,fusion:r.fusion||"normal",prereq:r.prereq||""}}for(const[v,r]of Object.entries(this.compConfig.enemyData))T[v]={name:v,race:r.race,lvl:r.lvl,currLvl:r.lvl,price:0,inherits:0,stats:r.stats,resists:r.resists.split("").map(f=>this.compConfig.resistCodes[f]),ailments:r.ailments.split("").map(f=>this.compConfig.resistCodes[f]),skills:r.skills.reduce((f,Z)=>(f[Z]=0,f),{}),area:r.area,drop:r.drops.join(", "),code:0,fusion:"normal",isEnemy:!0};for(const[v,r]of Object.entries(this.compConfig.specialRecipes))y[v]=r,c[v].fusion="special";for(const[v,r]of Object.entries(this.compConfig.skillData))d[v]={name:v,element:r.elem,cost:r.cost||0,rank:r.unique?91:r.cost/100||1,effect:r.effect,target:r.target||"Self",learnedBy:[],transfer:[],code:r.code||0,level:0},r.card&&(d[v].transfer=r.card.split(", ").map(f=>({demon:f,level:0})));for(const v of this.compConfig.races)E[v]={};for(const v of Object.values(c).sort((r,f)=>r.lvl-f.lvl)){"party"!==v.fusion&&(E[v.race][v.lvl]=v.name);for(const[r,f]of Object.entries(v.skills))d[r].learnedBy.push({demon:v.name,level:f})}this.demons=c,this.enemies=T,this.skills=d,this.specialRecipes=y,this.invertedDemons=E}updateDerivedData(){const c=Object.assign({},this.demons),T=[],d={},y={};for(const r of Object.values(this.skills))r.learnedBy.length<1?r.rank=99:T.push(r);for(const r of this.compConfig.races)d[r]=[],y[r]=[];for(const[r,f]of Object.entries(this.demons))"party"!==f.fusion&&(d[f.race].push(f.lvl),this.specialRecipes.hasOwnProperty(r)||y[f.race].push(f.lvl));for(const r of this.compConfig.races)d[r].sort((f,Z)=>f-Z),y[r].sort((f,Z)=>f-Z);for(const[r,f]of Object.entries(this._dlcDemons))for(const Z of r.split(",")){if(!f){const{race:N,lvl:U}=this.demons[Z];delete c[Z],d[N]=d[N].filter(L=>L!==U),y[N]=y[N].filter(L=>L!==U)}this.demons[Z].fusion=f?"normal":"excluded"}const E=Object.keys(c).map(r=>c[r]),v=Object.keys(this.enemies).map(r=>this.enemies[r]);this._allDemons=v.concat(E),this._allSkills=T,this.allIngredients=d,this.allResults=y}get dlcDemons(){return this._dlcDemons}set dlcDemons(c){this._dlcDemons=c,this.updateDerivedData()}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(c=>this.demons[c])}getDemon(c){return this.demons[c]||this.enemies[c]}getSkill(c){return this.skills[c]}getSkills(c){const T=this.compConfig.elemOrder,d=c.map(y=>this.skills[y]);return d.sort((y,E)=>1e4*(T[y.element]-T[E.element])+y.rank-E.rank),d}getIngredientDemonLvls(c){return this.allIngredients[c]||[]}getResultDemonLvls(c){return this.allResults[c]||[]}getSpecialNameEntries(c){return this.specialRecipes[c]||[]}getSpecialNamePairs(c){return[]}getInheritElems(c){return c.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(T=>100*parseInt(T))}reverseLookupDemon(c,T){return this.invertedDemons[c][T]}reverseLookupSpecial(c){return[]}isElementDemon(c){return!1}}var _=a(2812),C=a(7548),D=a(3837),u=a(1139),b=a(7862),p=a(4769);let h=(()=>{var k;class c{constructor(d){this.fissionCalculator=C.Bz,this.fusionCalculator=C.wC,this.triFissionCalculator=C.nL,this.triFusionCalculator=C.RD,this.compConfig=d,this.appName=d.appTitle+" Fusion Calculator",this._compendium=new e(this.compConfig),this._compendium$=new l.X(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new _.t(d.normalTable,d.races),this._fusionChart$=new l.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._tripleChart=new _.t(d.normalTable,d.races,!0),this._squareChart$=new l.X({normalChart:this._fusionChart,tripleChart:this._tripleChart,raceOrder:d.raceOrder}),this.squareChart=this._squareChart$.asObservable(),d.appCssClasses.includes("p5t")&&(this.fissionCalculator=new D.N([b.Mg],[]),this.fusionCalculator=new D.N([u.ne],[]));const y=JSON.parse(localStorage.getItem(d.settingsKey));y&&y.version&&y.version>=d.settingsVersion&&this.nextDlcDemons(y.dlcDemons),window.addEventListener("storage",this.onStorageUpdated.bind(this))}nextDlcDemons(d){localStorage.setItem(this.compConfig.settingsKey,JSON.stringify({version:this.compConfig.settingsVersion,dlcDemons:d})),this._compendium.dlcDemons=d,this._compendium$.next(this._compendium)}onStorageUpdated(d){d.key===this.compConfig.settingsKey&&(this._compendium.dlcDemons=JSON.parse(d.newValue).dlcDemons,this._compendium$.next(this._compendium))}}return(k=c).\u0275fac=function(d){return new(d||k)(p.LFG(C.I7))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),c})()},159:(M,q,a)=>{a.d(q,{G:()=>b});var l=a(95),e=a(6814),_=a(6208),C=a(8325),D=a(3754),u=a(4769);let b=(()=>{var p;class h{static forRoot(){return{ngModule:h}}}return(p=h).\u0275fac=function(c){return new(c||p)},p.\u0275mod=u.oAB({type:p}),p.\u0275inj=u.cJS({imports:[e.ez,_.m,l.UX,C.a,D.V]}),h})()}}]);