"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[954],{7346:(R,f,a)=>{a.d(f,{qm:()=>w});var t=a(2598),g=a(3885),l=a(6661),d=a(177),F=a(8935),T=a(9108),b=a(361);const m=["class","app-fusion-trio-table-row"];function C(o,_){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"th",1),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleShowing.emit(i.showIndex))}),t.EFF(2," Show "),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"a",2),t.EFF(11),t.k0s()(),t.j41(12,"td",3),t.EFF(13),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(1),t.xc7("height",1,"em"),t.R7$(3),t.JRh(e.trio.minPrice),t.R7$(2),t.JRh(e.trio.demon.race),t.R7$(2),t.JRh(e.trio.demon.currLvl),t.R7$(2),t.FCK("routerLink","",e.baseUrl,"/",e.trio.demon.name,""),t.R7$(1),t.JRh(e.trio.demon.name),t.R7$(1),t.xc7("color","#666"),t.R7$(1),t.SpI("",e.trio.fusions.length," recipes hidden")}}function s(o,_){if(1&o&&(t.qex(0),t.j41(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"a",2),t.EFF(7),t.k0s()(),t.bVm()),2&o){const e=t.XpG().$implicit,n=t.XpG(3);t.R7$(2),t.JRh(e.race),t.R7$(2),t.JRh(e.currLvl),t.R7$(2),t.FCK("routerLink","",n.baseUrl,"/",e.name,""),t.R7$(1),t.JRh(e.name)}}function u(o,_){if(1&o&&(t.qex(0),t.DNE(1,s,8,5,"ng-container",0),t.bVm()),2&o){const e=_.$implicit,n=t.XpG(3);t.R7$(1),t.Y8G("ngIf",n.trio.demon!==e)}}const r=function(o,_,e){return[o,_,e]};function c(o,_){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"a",2),t.EFF(9),t.k0s()(),t.DNE(10,u,2,1,"ng-container",5),t.k0s()),2&o){const e=_.$implicit,n=t.XpG(2);t.R7$(2),t.JRh(e.price),t.R7$(2),t.JRh(n.trio.demon.race),t.R7$(2),t.JRh(n.trio.demon.currLvl),t.R7$(2),t.FCK("routerLink","",n.baseUrl,"/",n.trio.demon.name,""),t.R7$(1),t.JRh(n.trio.demon.name),t.R7$(1),t.Y8G("ngForOf",t.sMw(7,r,e.d1,e.d2,e.d3))}}function h(o,_){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"tr")(2,"th",4),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.toggleShowing.emit(i.showIndex))}),t.EFF(3," Hide "),t.k0s()(),t.DNE(4,c,11,11,"tr",5),t.bVm()}if(2&o){const e=t.XpG();t.R7$(2),t.xc7("height",1,"em"),t.BMQ("rowspan",e.trio.fusions.length+1),t.R7$(2),t.Y8G("ngForOf",e.trio.fusions)}}const E=["class","app-fusion-trio-table-header"],D=function(o){return["sortable",o]};function O(o,_){1&o&&(t.j41(0,"tbody")(1,"tr")(2,"td",8),t.EFF(3,"No fusions found!"),t.k0s()()())}function v(o,_){if(1&o){const e=t.RV6();t.j41(0,"tbody",9),t.bIt("toggleShowing",function(i){t.eBV(e);const p=t.XpG();return t.Njj(p.toggleShowing(i))}),t.k0s()}if(2&o){const e=_.$implicit,n=_.index,i=t.XpG();t.Y8G("trio",e)("showing",i.showing[n])("showIndex",n)}}let k=(()=>{class o{constructor(){this.baseUrl="../../..",this.toggleShowing=new t.bkB}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["tbody",8,"app-fusion-trio-table-row"]],inputs:{trio:"trio",showing:"showing",showIndex:"showIndex",baseUrl:"baseUrl"},outputs:{toggleShowing:"toggleShowing"},attrs:m,decls:2,vars:2,consts:[[4,"ngIf"],[1,"nav",3,"click"],[3,"routerLink"],["colspan","6"],[1,"nav","active",3,"click"],[4,"ngFor","ngForOf"]],template:function(n,i){1&n&&(t.DNE(0,C,14,11,"tr",0),t.DNE(1,h,5,4,"ng-container",0)),2&n&&(t.Y8G("ngIf",!i.showing),t.R7$(1),t.Y8G("ngIf",i.showing))},dependencies:[d.Sq,d.bT,F.Wk],encapsulation:2,changeDetection:0})}}return o})(),I=(()=>{class o extends l.O{constructor(){super(...arguments),this.hideAll=new t.bkB}toggleHideAll(){this.hideAll.emit(!0)}static{this.\u0275fac=function(){let e;return function(i){return(e||(e=t.xGo(o)))(i||o)}}()}static{this.\u0275cmp=t.VBU({type:o,selectors:[["tfoot",8,"app-fusion-trio-table-header"]],inputs:{title:"title",leftHeader:"leftHeader"},outputs:{hideAll:"hideAll"},features:[t.Vt3],attrs:E,decls:35,vars:24,consts:[["colspan","11",1,"title"],["rowspan","2",1,"sortable",3,"click"],["rowSpan","2",3,"ngClass","click"],["colspan","3"],[3,"ngClass","click"]],template:function(n,i){1&n&&(t.j41(0,"tr")(1,"th",0),t.EFF(2),t.k0s()(),t.j41(3,"tr")(4,"th",1),t.bIt("click",function(){return i.toggleHideAll()}),t.EFF(5,"Hide All"),t.k0s(),t.j41(6,"th",2),t.bIt("click",function(){return i.nextSortFunIndex(1)}),t.EFF(7,"Price"),t.k0s(),t.j41(8,"th",3),t.EFF(9),t.k0s(),t.j41(10,"th",3),t.EFF(11,"Ingredient 2"),t.k0s(),t.j41(12,"th",3),t.EFF(13,"Ingredient 3"),t.k0s()(),t.j41(14,"tr")(15,"th",4),t.bIt("click",function(){return i.nextSortFunIndex(2)}),t.EFF(16,"Race"),t.k0s(),t.j41(17,"th",4),t.bIt("click",function(){return i.nextSortFunIndex(3)}),t.EFF(18,"Lvl"),t.j41(19,"span"),t.EFF(20,"--"),t.k0s()(),t.j41(21,"th",4),t.bIt("click",function(){return i.nextSortFunIndex(4)}),t.EFF(22,"Name"),t.k0s(),t.j41(23,"th"),t.EFF(24,"Race"),t.k0s(),t.j41(25,"th"),t.EFF(26,"Lvl"),t.k0s(),t.j41(27,"th"),t.EFF(28,"Name"),t.k0s(),t.j41(29,"th"),t.EFF(30,"Race"),t.k0s(),t.j41(31,"th"),t.EFF(32,"Lvl"),t.k0s(),t.j41(33,"th"),t.EFF(34,"Name"),t.k0s()()),2&n&&(t.R7$(2),t.JRh(i.title),t.R7$(2),t.xc7("width",8,"%"),t.R7$(2),t.xc7("width",8,"%"),t.Y8G("ngClass",t.eq3(16,D,i.sortDirClass(1))),t.R7$(2),t.xc7("width",28,"%"),t.R7$(1),t.JRh(i.leftHeader),t.R7$(1),t.xc7("width",28,"%"),t.R7$(2),t.xc7("width",28,"%"),t.R7$(3),t.Y8G("ngClass",t.eq3(18,D,i.sortDirClass(2))),t.R7$(2),t.Y8G("ngClass",t.eq3(20,D,i.sortDirClass(3))),t.R7$(4),t.Y8G("ngClass",t.eq3(22,D,i.sortDirClass(4))))},dependencies:[d.YU],styles:["span[_ngcontent-%COMP%]{color:transparent}"],changeDetection:0})}}return o})(),w=(()=>{class o extends l.r{constructor(e){super(),this.changeDetector=e,this.title="Fusion Trio Table",this.leftHeader="Ingredient 1",this.showing=[],this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}toggleShowing(e){this.showing[e]=!this.showing[e]}toggleHideAll(){for(let e=0;e<this.showing.length;e++)this.showing[e]=!1}nextSortFuns(){this.sortFuns=[],this.raceOrder&&(this.sortFuns.push((e,n)=>e.minPrice-n.minPrice,(e,n)=>e.minPrice-n.minPrice,(e,n)=>200*(this.raceOrder[e.demon.race]-this.raceOrder[n.demon.race])+e.demon.currLvl-n.demon.currLvl,(e,n)=>e.demon.currLvl-n.demon.currLvl,(e,n)=>e.demon.name.localeCompare(n.demon.name)),this.sort())}getSortFun(e){return this.sortFuns[e]}static{this.\u0275fac=function(n){return new(n||o)(t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-fusion-trio-table"]],inputs:{title:"title",leftHeader:"leftHeader",raceOrder:"raceOrder"},features:[t.Jv_([g.P]),t.Vt3],decls:9,vars:9,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-fusion-trio-table-header",3,"title","leftHeader","sortFunIndex","hideAll","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-fusion-trio-table-header",3,"title","leftHeader"],["hiddenHeader",""],[4,"ngIf"],["class","app-fusion-trio-table-row",3,"trio","showing","showIndex","toggleShowing",4,"ngFor","ngForOf"],["colspan","11"],[1,"app-fusion-trio-table-row",3,"trio","showing","showIndex","toggleShowing"]],template:function(n,i){1&n&&(t.j41(0,"div")(1,"table",0)(2,"tfoot",1,2),t.bIt("hideAll",function(){return i.toggleHideAll()})("sortFunIndexChanged",function(P){return i.sortFunIndex=P}),t.k0s()(),t.j41(4,"table",3),t.nrm(5,"tfoot",4,5),t.DNE(7,O,4,0,"tbody",6),t.DNE(8,v,1,3,"tbody",7),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("title",i.title)("leftHeader",i.leftHeader)("sortFunIndex",i.sortFunIndex),t.R7$(3),t.xc7("visibility","collapse"),t.Y8G("title",i.title)("leftHeader",i.leftHeader),t.R7$(2),t.Y8G("ngIf",!i.rowData.length),t.R7$(1),t.Y8G("ngForOf",i.rowData))},dependencies:[d.Sq,d.bT,T.a,b.N,I,k],encapsulation:2,changeDetection:0})}}return o})()},6188:(R,f,a)=>{a.d(f,{X:()=>b});var t=a(6947),g=a(4660),l=a(2598),d=a(8935),F=a(8696),T=a(7346);let b=(()=>{class m{constructor(s,u,r,c){this.route=s,this.currentDemonService=u,this.changeDetectorRef=r,this.fusionTrioService=c,this.subscriptions=[],this.fissionTrios=[],this.toDemonTrio=h=>(0,g.f7)(h,this.compendium),this.sortDemonTrio=(h,E)=>h.price-E.price}ngOnInit(){this.pairCalculator=this.fusionTrioService.fissionCalculator,this.calculator=this.fusionTrioService.triFissionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(s=>{this.compendium=s,this.checkFissions()})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(s=>{this.chart=s,this.checkFissions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(s=>{this.currentDemon=s,this.checkFissions()}))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}checkFissions(){this.compendium&&this.chart&&this.currentDemon&&(this.changeDetectorRef.markForCheck(),this.getFissions())}getFissions(){const u=this.calculator.getFusions(this.currentDemon,this.compendium,this.chart).map(this.toDemonTrio),r={};for(const c of u)for(const h of[c.d1.name,c.d2.name,c.d3.name])r[h]||(r[h]=[]),r[h].push(c);for(const c of Object.values(r))c.sort(this.sortDemonTrio);this.fissionTrios=Object.entries(r).map(c=>({demon:this.compendium.getDemon(c[0]),minPrice:c[1][0].price,fusions:c[1]}))}static{this.\u0275fac=function(u){return new(u||m)(l.rXU(d.nX),l.rXU(F.i),l.rXU(l.gRc),l.rXU(t.eG))}}static{this.\u0275cmp=l.VBU({type:m,selectors:[["app-triple-fission-table"]],decls:1,vars:3,consts:[[3,"title","raceOrder","rowData"]],template:function(u,r){1&u&&l.nrm(0,"app-fusion-trio-table",0),2&u&&l.Y8G("title","Ingredient 1 x Ingredient 2 x Ingredient 3 = "+r.currentDemon)("raceOrder",r.chart.normalChart.raceOrder)("rowData",r.fissionTrios)},dependencies:[T.qm],encapsulation:2,changeDetection:0})}}return m})()},131:(R,f,a)=>{a.d(f,{W:()=>b});var t=a(6947),g=a(4660),l=a(2598),d=a(8935),F=a(8696),T=a(7346);let b=(()=>{class m{constructor(s,u,r,c){this.route=s,this.currentDemonService=u,this.changeDetectorRef=r,this.fusionTrioService=c,this.subscriptions=[],this.fusionTrios=[],this.toDemonTrio=h=>(0,g.OY)(h,this.compendium),this.sortDemonTrio=(h,E)=>h.price-E.price}ngOnInit(){this.pairCalculator=this.fusionTrioService.fusionCalculator,this.calculator=this.fusionTrioService.triFusionCalculator,this.subscriptions.push(this.fusionTrioService.compendium.subscribe(s=>{this.compendium=s,this.checkFusions()})),this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(s=>{this.chart=s,this.checkFusions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(s=>{this.currentDemon=s,this.checkFusions()}))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}checkFusions(){this.compendium&&this.chart&&this.currentDemon&&(this.changeDetectorRef.markForCheck(),this.getFusions())}getFusions(){const u=this.calculator.getFusions(this.currentDemon,this.compendium,this.chart).map(this.toDemonTrio),r={};for(const c of u)r[c.d3.name]||(r[c.d3.name]=[]),r[c.d3.name].push(c);for(const c of Object.values(r))c.sort(this.sortDemonTrio);this.fusionTrios=Object.entries(r).map(c=>({demon:this.compendium.getDemon(c[0]),minPrice:c[1][0].price,fusions:c[1]}))}static{this.\u0275fac=function(u){return new(u||m)(l.rXU(d.nX),l.rXU(F.i),l.rXU(l.gRc),l.rXU(t.eG))}}static{this.\u0275cmp=l.VBU({type:m,selectors:[["app-triple-fusion-table"]],decls:1,vars:4,consts:[[3,"title","raceOrder","leftHeader","rowData"]],template:function(u,r){1&u&&l.nrm(0,"app-fusion-trio-table",0),2&u&&l.Y8G("title","Result = Lvl "+r.compendium.getDemon(r.currentDemon).currLvl+" "+r.currentDemon+" x Ingredient 2 x Ingredient 3")("raceOrder",r.chart.normalChart.raceOrder)("leftHeader","Result")("rowData",r.fusionTrios)},dependencies:[T.qm],encapsulation:2,changeDetection:0})}}return m})()}}]);