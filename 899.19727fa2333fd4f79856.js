(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[899],{8623:(e,t,s)=>{"use strict";s.d(t,{d:()=>a});var n=s(5614),i=s(9624),o=s(1116);function r(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"tr"),n.TgZ(1,"td"),n.TgZ(2,"label"),n._uU(3),n.TgZ(4,"input",3),n.NdJ("change",function(){const t=n.CHM(e).$implicit;return n.oxw().toggledName.emit(t.name)}),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(3),n.hij("",e.name.split(",").join(", ")," "),n.xp6(1),n.Q6J("checked",e.included)}}let a=(()=>{class e{constructor(e){this.title=e,this.dlcTitle="Included DLC Demons",this.langEn=!0,this.toggledName=new n.vpe}set appTitle(e){this.title.setTitle((this.langEn?"Fusion Settings - ":"\u5408\u4f53\u8a2d\u5b9a ")+e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(i.Dx))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-demon-dlc-settings"]],inputs:{dlcDemons:"dlcDemons",dlcTitle:"dlcTitle",langEn:"langEn",appTitle:"appTitle"},outputs:{toggledName:"toggledName"},decls:10,vars:2,consts:[[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],["type","checkbox",3,"checked","change"]],template:function(e,t){1&e&&(n.ynx(0),n.TgZ(1,"h2"),n._uU(2),n.qZA(),n.TgZ(3,"table",0),n.TgZ(4,"thead"),n.TgZ(5,"tr"),n.TgZ(6,"th",1),n._uU(7,"DLC"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(8,"tbody"),n.YNc(9,r,5,2,"tr",2),n.qZA(),n.qZA(),n.BQk()),2&e&&(n.xp6(2),n.Oqu(t.dlcTitle),n.xp6(7),n.Q6J("ngForOf",t.dlcDemons))},directives:[o.sg],encapsulation:2,changeDetection:0}),e})()},7967:(e,t,s)=>{"use strict";s.d(t,{R:()=>h});var n=s(5614),i=s(9624),o=s(3522),r=s(1116);function a(e,t){if(1&e&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&e){const e=t.$implicit,s=n.oxw();n.xp6(1),n.Oqu(e.slice(0,s.nameCut))}}function c(e,t){if(1&e&&(n.TgZ(0,"td",4),n._uU(1),n.qZA()),2&e){const e=t.$implicit,s=n.oxw(2);n.Q6J("ngClass",e.slice(0,4)),n.xp6(1),n.Oqu(e.slice(4,s.nameCut+4))}}function l(e,t){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"th"),n._uU(2),n.qZA(),n.YNc(3,c,2,2,"td",3),n.TgZ(4,"th"),n._uU(5),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.xp6(2),n.Oqu(e[0]),n.xp6(1),n.Q6J("ngForOf",e.slice(1,e.length-1)),n.xp6(2),n.Oqu(e[e.length-1])}}function m(e,t){if(1&e&&(n.TgZ(0,"th"),n._uU(1),n.qZA()),2&e){const e=t.$implicit,s=n.oxw();n.xp6(1),n.Oqu(e.slice(0,s.nameCut))}}function p(e,t){if(1&e&&(n.TgZ(0,"tr"),n.TgZ(1,"th",0),n._uU(2),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.uIk("colspan",e.table[0].length),n.xp6(1),n.AsE("",e.appName," ",e.tripTitle,"")}}let h=(()=>{class e{constructor(e,t){this.title2=e,this.route=t,this.normTitle="Normal Fusions",this.tripTitle="",this.isPersona=!1,this.filterDarks=!0,this.langEn=!0,this.subscriptions=[],this.table=[],this.nameCut=4}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(e=>{this.appName=e.appName||"Shin Megami Tensei",this.nameCut=this.langEn?4:2,this.title2.setTitle(this.langEn?`Fusion Chart - ${this.appName} Fusion Calculator`:`\u5408\u4f53\u8868 ${this.appName} \u5408\u4f53\u30a2\u30d7\u30ea`)}))}ngOnChanges(){this.normChart&&this.fillFusionChart()}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}fillFusionChart(){const t="noneNone",s=e.RESULT_COLORS.reduce((e,[t,s])=>s.reduce((e,s)=>(e[s]=t,e),e),{}),n=this.normChart.elementDemons;let i=[],o=this.normChart.races,r=[];this.filterDarks&&(i=this.normChart.races.filter(e=>this.normChart.getLightDark(e)>0),o=this.normChart.races.filter(e=>0===this.normChart.getLightDark(e)),r=this.normChart.races.filter(e=>-1===this.normChart.getLightDark(e)),0===r.length&&i.length>0&&(i=this.normChart.races.filter(e=>this.normChart.getLightDark(e)>-1),o=[],r=this.normChart.races.filter(e=>this.normChart.getLightDark(e)<-1)));const a=i.length-r.length,c=i.concat(o,n),l=r.length?r.concat(Array(c.length-r.length).fill("")):c,m=this.mitaTable?c:i.concat(o,Array(n.length).fill("")),p=this.mitaTable||r.length?Array(a).fill("").concat(r,o,n):c;this.table=[[""].concat(c,[""])];for(let e=0;e<p.length;e++){const i=Array(c.length+2).fill("empt-"),o=p[e],r=m[e],h=-1!==n.indexOf(o),u=-1!==n.indexOf(r);this.table.push(i),i[0]=o,i[i.length-1]=r;for(let a=e;a<c.length;a++){const e=c[a],o=-1!==n.indexOf(e);if(o&&u){const o=n.indexOf(r),c=n.indexOf(e),l=this.mitaTable[o][c-o-1];i[a+1]=l?(s[l]||"norm")+l:t}else if(o&&r){const n=this.normChart.getElemFusions(e)[r];i[a+1]=n?(s[n]||"rank")+(n>0?"+":"")+n.toString():t}else if(e&&r){const n=this.isPersona&&e===r?e:this.normChart.getRaceFusion(e,r);i[a+1]=n?(s[n]||(e===r?"elem":"norm"))+n:t}}if(this.tripChart)for(let n=0;n<=e-a;n++){const e=l[n];if(e&&h){const r=this.tripChart.getElemFusions(o)[e];i[n+1]=r?(s[r]||"rank")+(r>0?"+":"")+r.toString():t}else if(e&&o){const r=this.tripChart.getRaceFusion(e,o);i[n+1]=r?(s[r]||(e===o?"elem":"trip"))+r:t}}if(-1!==o.indexOf(" x ")){const[e,t]=o.split(" x "),s=e.slice(0,3)+"x"+t.slice(0,3);i[0]=s,i[i.length-1]=s}else if(-1!==o.indexOf(" ")){const e=o.split(" ")[0];i[0]=e,i[i.length-1]=e}}for(let e=0;e<this.table[0].length;e++){const t=this.table[0][e];if(-1!==t.indexOf(" x ")){const[s,n]=t.split(" x ");this.table[0][e]=s.slice(0,2)+n.slice(0,2)}}this.table.push([""].concat(l,[""]))}}return e.RESULT_COLORS=Object.entries({oran:["-2","Erthys","Gnome","Saki","Saki Mitama","Random","\u30a2\u30fc\u30b7\u30fc\u30ba","\u30ce\u30fc\u30e0","\u30b5\u30ad\u30df\u30bf\u30de"],redd:["-1","Flaemis","Salamander","Ara ","Ara Mitama","Fiend","\u30d5\u30ec\u30a4\u30df\u30fc\u30ba","\u30b5\u30e9\u30de\u30f3\u30c0\u30fc","\u30a2\u30e9\u30df\u30bf\u30de"],gree:["1","Aeros","Sylph","Kusi","Kusi Mitama","UMA","\u30a8\u30a2\u30ed\u30b9","\u30b7\u30eb\u30ad\u30fc","\u30af\u30b7\u30df\u30bf\u30de"],blue:["2","Aquans","Undine","Nigi","Nigi Mitama","Enigma","\u30a2\u30af\u30a2\u30f3\u30ba","\u30a6\u30f3\u30c7\u30a3\u30fc\u30cd","\u30cb\u30ae\u30df\u30bf\u30de"]}),e.\u0275fac=function(t){return new(t||e)(n.Y36(i.Dx),n.Y36(o.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-fusion-chart"]],inputs:{normChart:"normChart",tripChart:"tripChart",mitaTable:"mitaTable",normTitle:"normTitle",tripTitle:"tripTitle",isPersona:"isPersona",filterDarks:"filterDarks",langEn:"langEn",counter:"counter"},features:[n.TTD],decls:12,vars:7,consts:[[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(e,t){1&e&&(n.TgZ(0,"table"),n.TgZ(1,"tbody"),n.TgZ(2,"tr"),n.TgZ(3,"th",0),n._uU(4),n.qZA(),n.qZA(),n.TgZ(5,"tr"),n.YNc(6,a,2,1,"th",1),n.qZA(),n.YNc(7,l,6,3,"tr",1),n.TgZ(8,"tr"),n.YNc(9,m,2,1,"th",1),n.qZA(),n.YNc(10,p,3,3,"tr",2),n.qZA(),n._UZ(11,"tbody"),n.qZA()),2&e&&(n.xp6(3),n.uIk("colspan",t.table[0].length),n.xp6(1),n.AsE("",t.appName," ",t.normTitle,""),n.xp6(2),n.Q6J("ngForOf",t.table[0]),n.xp6(1),n.Q6J("ngForOf",t.table.slice(1,t.table.length-1)),n.xp6(2),n.Q6J("ngForOf",t.table[t.table.length-1]),n.xp6(1),n.Q6J("ngIf",t.tripTitle))},directives:[r.sg,r.O5,r.mk],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto;white-space:nowrap}td.elem[_ngcontent-%COMP%]{color:#0f0}td.trip[_ngcontent-%COMP%]{color:#d3d3d3}td.oran[_ngcontent-%COMP%]{color:orange}td.redd[_ngcontent-%COMP%]{color:red}td.gree[_ngcontent-%COMP%]{color:#0f0}td.blue[_ngcontent-%COMP%]{color:#0ff}td.empt[_ngcontent-%COMP%], td.none[_ngcontent-%COMP%]{color:transparent}td.empt[_ngcontent-%COMP%]{background-color:initial}"],changeDetection:0}),e})()},8457:(e,t,s)=>{"use strict";s.d(t,{m:()=>r});var n=s(115),i=s(5614),o=s(7967);let r=(()=>{class e{constructor(e,t){this.changeDetectorRef=e,this.fusionTrioService=t,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionTrioService.squareChart.subscribe(e=>{this.normChart=e.normalChart,this.tripChart=e.tripleChart}))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(n.Ir))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-triple-fusion-chart"]],decls:1,vars:4,consts:[[3,"normChart","tripChart","normTitle","tripTitle"]],template:function(e,t){1&e&&i._UZ(0,"app-fusion-chart",0),2&e&&i.Q6J("normChart",t.normChart)("tripChart",t.tripChart)("normTitle","Normal Fusions")("tripTitle","Triple Fusions")},directives:[o.R],encapsulation:2,changeDetection:0}),e})()},9805:(e,t,s)=>{"use strict";s.d(t,{f:()=>i});var n=s(5614);let i=(()=>{class e{constructor(e,t){this.changeDetector2=e,this.fusionDataService2=t,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.fusionDataService2.compendium.subscribe(e=>{this.changeDetector2.markForCheck(),this.compendium=e,this._dlcDemons=Object.assign({},this.compendium.dlcDemons),this.dlcDemons=Object.entries(this._dlcDemons).map(([e,t])=>({name:e,included:t}))}))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}toggleName(e){this._dlcDemons[e]=!this._dlcDemons[e],this.fusionDataService2.nextDlcDemons(this._dlcDemons)}}return e.\u0275fac=function(e){n.$Z()},e.\u0275dir=n.lG2({type:e}),e})()},8611:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var n=s(6829);class i extends n.g{constructor(e,t,s){super(),this.elementDemons=[],this.lvlModifier=.5,this.initCharts(e,s)}initCharts(e,t){const s=e.races,i=e.table,o=[];for(let n=0;n<s.length;n++)o.push(i[n].slice(t?0:n,t?n+1:s.length)),t||(o[n][0]="-");this.races=s,this.lvlModifier=t?4.25:.5,this.fissionChart=n.g.loadFissionTableJson(s,this.elementDemons,o),this.fusionChart=n.g.loadFusionTableJson(s,o),this.elementChart={}}}},5181:(e,t,s)=>{"use strict";s.d(t,{V:()=>he});var n=s(3522),i=s(5614),o=s(7089),r=s(1116);const a=function(){return{title:"Shadow List",link:"shadows"}},c=function(){return{title:"QR Code Generator",link:"qrcodes"}},l=function(e,t){return[e,t]};let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-pq2-compendium"]],decls:1,vars:8,consts:[[3,"ngClass","mainList","otherLinks"]],template:function(e,t){1&e&&i._UZ(0,"app-demon-compendium",0),2&e&&i.Q6J("ngClass","pq2")("mainList","persona")("otherLinks",i.WLB(5,l,i.DdM(3,a),i.DdM(4,c)))},directives:[o.e,r.mk],styles:[".pq2 div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:50%;color:transparent}.pq2 div.element-icon.phy{background-image:url(/assets/images/p5/phys.png)}.pq2 div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.pq2 div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.pq2 div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.pq2 div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.pq2 div.element-icon.psy{background-image:url(/assets/images/p5/psy.png)}.pq2 div.element-icon.nuk{background-image:url(/assets/images/p5/nuke.png)}.pq2 div.element-icon.ble{background-image:url(/assets/images/p5/bless.png)}.pq2 div.element-icon.cur{background-image:url(/assets/images/p5/curse.png)}.pq2 div.element-icon.mag{background-image:url(/assets/images/p5/almighty.png)}.pq2 div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.pq2 div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.pq2 div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.pq2 div.element-icon.def,.pq2 div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.pq2 div.element-icon.nav{background-image:url(/assets/images/p5/trait.png)}.pq2 div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.pq2 th.nav.active,.pq2 th.nav.active a,.pq2 th.title{color:#fff;background-color:#ff4800}.pq div.element-icon{height:25px;background-size:25px;background-repeat:no-repeat;background-position:50%;color:transparent}.pq div.element-icon.cut{background-image:url(/assets/images/p5/sword.png)}.pq div.element-icon.bas{background-image:url(/assets/images/p5/phys.png)}.pq div.element-icon.sta{background-image:url(/assets/images/p5/gun.png)}.pq div.element-icon.fir{background-image:url(/assets/images/p5/fire.png)}.pq div.element-icon.ice{background-image:url(/assets/images/p5/ice.png)}.pq div.element-icon.ele{background-image:url(/assets/images/p5/elec.png)}.pq div.element-icon.win{background-image:url(/assets/images/p5/wind.png)}.pq div.element-icon.lig{background-image:url(/assets/images/p5/bless.png)}.pq div.element-icon.dar{background-image:url(/assets/images/p5/curse.png)}.pq div.element-icon.ail{background-image:url(/assets/images/p5/ailment.png)}.pq div.element-icon.rec{background-image:url(/assets/images/p5/healing.png)}.pq div.element-icon.alm{background-image:url(/assets/images/p5/almighty.png)}.pq div.element-icon.sup{background-image:url(/assets/images/p5/support.png)}.pq div.element-icon.nav{background-image:url(/assets/images/p5/trait.png)}.pq div.element-icon.pas{background-image:url(/assets/images/p5/passive.png)}.pq th.nav.active,.pq th.nav.active a,.pq th.title{color:#000;background-color:#aa1ca9}"],encapsulation:2,changeDetection:0}),e})();var p=s(5438),h=s(9624),u=s(9515),g=s(4008);let d=(()=>{class e extends p.l{constructor(e,t,s,n){super(e,s,n),this.showAllies=!t.snapshot.data.showShadows,this.showEnemies=!this.showAllies,this.compConfig=n.compConfig,this.defaultSortFun=(e,t)=>200*(this.compConfig.raceOrder[e.race]-this.compConfig.raceOrder[t.race])+t.lvl-e.lvl,this.appName=`List of Personas - ${n.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Shadows - ${n.appName}`,this.statHeaders=this.compConfig.enemyStats,this.resistHeaders=this.compConfig.enemyResists,this.inheritOrder=null)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(h.Dx),i.Y36(n.gz),i.Y36(i.sBO),i.Y36(u.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-list-container"]],features:[i.qOj],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(e,t){1&e&&(i._UZ(0,"app-smt-demon-list",0),i.ALo(1,"async")),2&e&&i.Q6J("isEnemy",t.showEnemies)("raceOrder",t.compConfig.raceOrder)("statHeaders",t.statHeaders)("resistHeaders",t.resistHeaders)("inheritOrder",t.inheritOrder)("rowData",i.lcZ(1,6,t.demons))},directives:[g.Q],pipes:[r.Ov],encapsulation:2,changeDetection:0}),e})();var f=s(9261),v=s(3787);let C=(()=>{class e extends f.e{constructor(e,t,s){super(e,t,s),this.appName=`List of Skills - ${s.appName}`,this.compConfig=s.compConfig,this.defaultSortFun=(e,t)=>1e4*(this.compConfig.elemOrder[e.element]-this.compConfig.elemOrder[t.element])+e.rank-t.rank}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(h.Dx),i.Y36(i.sBO),i.Y36(u.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-skill-list-container"]],features:[i.qOj],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(e,t){1&e&&(i._UZ(0,"app-smt-skill-list",0),i.ALo(1,"async")),2&e&&i.Q6J("elemOrder",t.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Skill Card")("rowData",i.lcZ(1,6,t.skills))},directives:[v.J],pipes:[r.Ov],encapsulation:2,changeDetection:0}),e})();var Z=s(2573),T=s(4209),b=s(4354),D=s(4897),q=s(3966),k=s(858);let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:19,vars:14,consts:[[3,"title","statHeaders","stats"],[1,"entry-table"],["colspan","2",1,"title"],[3,"resistHeaders","resists","ailmentHeaders","ailments"],[3,"hasTarget","hasLvl","elemOrder","compendium","skillLevels"]],template:function(e,t){1&e&&(i._UZ(0,"app-demon-stats",0),i.TgZ(1,"table",1),i.TgZ(2,"thead"),i.TgZ(3,"tr"),i.TgZ(4,"th",2),i._uU(5,"Appearances"),i.qZA(),i.qZA(),i.TgZ(6,"tr"),i.TgZ(7,"th"),i._uU(8,"Areas"),i.qZA(),i.TgZ(9,"th"),i._uU(10,"Drops"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"tbody"),i.TgZ(12,"tr"),i.TgZ(13,"td"),i._uU(14),i.qZA(),i.TgZ(15,"td"),i._uU(16),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i._UZ(17,"app-demon-resists",3),i._UZ(18,"app-demon-skills",4)),2&e&&(i.Q6J("title","Lvl "+t.demon.lvl+" "+t.demon.race+" "+t.demon.name)("statHeaders",t.compConfig.enemyStats)("stats",t.demon.stats),i.xp6(14),i.Oqu(t.demon.area),i.xp6(2),i.Oqu(t.demon.drop),i.xp6(1),i.Q6J("resistHeaders",t.compConfig.enemyResists)("resists",t.demon.resists)("ailmentHeaders",t.compConfig.ailmentElems)("ailments",t.demon.ailments),i.xp6(1),i.Q6J("hasTarget",!0)("hasLvl",!1)("elemOrder",t.compConfig.elemOrder)("compendium",t.compendium)("skillLevels",t.demon.skills))},directives:[Z.O,k.I,T.n],encapsulation:2,changeDetection:0}),e})();function A(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"app-demon-stats",2),i._UZ(2,"app-demon-skills",3),i._UZ(3,"app-smt-fusions",4),i.BQk()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("title","Lvl "+e.demon.lvl+" "+e.demon.race+" "+e.demon.name)("price",e.demon.price)("statHeaders",e.compConfig.baseStats)("stats",e.demon.stats),i.xp6(1),i.Q6J("hasTarget",!0)("elemOrder",e.compConfig.elemOrder)("compendium",e.compendium)("skillLevels",e.demon.skills),i.xp6(1),i.Q6J("hasTripleFusion",!0)("excludedDlc","excluded"===e.demon.fusion)}}function S(e,t){if(1&e&&i._UZ(0,"app-demon-missing",5),2&e){const e=i.oxw();i.Q6J("name",e.name)}}function y(e,t){if(1&e&&i._UZ(0,"app-demon-entry",1),2&e){const e=i.oxw();i.Q6J("name",e.name)("demon",e.demon)("compConfig",e.compConfig)("compendium",e.compendium)}}function _(e,t){if(1&e&&i._UZ(0,"app-enemy-entry",1),2&e){const e=i.oxw();i.Q6J("name",e.name)("demon",e.demon)("compConfig",e.compConfig)("compendium",e.compendium)}}let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","price","statHeaders","stats"],[3,"hasTarget","elemOrder","compendium","skillLevels"],[3,"hasTripleFusion","excludedDlc"],[3,"name"]],template:function(e,t){1&e&&(i.YNc(0,A,4,10,"ng-container",0),i.YNc(1,S,1,1,"app-demon-missing",1)),2&e&&(i.Q6J("ngIf",t.demon),i.xp6(1),i.Q6J("ngIf",!t.demon))},directives:[r.O5,Z.O,T.n,b.O,D.t],encapsulation:2,changeDetection:0}),e})(),J=(()=>{class e{constructor(e,t,s,n){this.route=e,this.title=t,this.currentDemonService=s,this.fusionDataService=n,this.subscriptions=[],this.appName="Test App",this.appName=n.appName,this.compConfig=n.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(e=>{this.compendium=e,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(e=>{this.name=e,this.getDemonEntry()})),this.route.params.subscribe(e=>{this.currentDemonService.nextCurrentDemon(e.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(n.gz),i.Y36(h.Dx),i.Y36(q.s),i.Y36(u.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium"]],template:function(e,t){1&e&&(i.YNc(0,y,1,4,"app-demon-entry",0),i.YNc(1,_,1,4,"app-enemy-entry",0)),2&e&&(i.Q6J("ngIf",!t.demon||!t.demon.isEnemy),i.xp6(1),i.Q6J("ngIf",t.demon&&t.demon.isEnemy))},directives:[r.O5,x,O],encapsulation:2,changeDetection:0}),e})();const F=Array(24).fill(0);function E(e,t){return e.split("").map(e=>e.charCodeAt(0)).concat(Array(t-e.length).fill(0))}F[0]=4,F[2]=50,F[4]=50,F[6]=50,F[7]=50,F[8]=50,F[12]=50,F[16]=50,F[20]=50;const H=[].concat(E("aqiu384.github.io",21),E("https://youtu.be/b1KfNEPKncQ",33)),w="kitaro",M="bancho",N=[].concat(E(w,17),E(M,17)),L=[].concat(E(w,29),E(M,29)),U=[].concat(E(w,17),E(M,17),E("renren",17),E("hamuko",17)),Q=[].concat([34,50],Array(36).fill(31),[31,0,31,0,0,0,1,128]),P=[].concat([34,50],Array(54).fill(31),[31,0,1,0]);var Y=s(1462);let I=(()=>{class e{constructor(){this.byteArray=[],this.errorLvl="L",this.typeNum=10,this.qrFactory=qrcode(this.typeNum,this.errorLvl),this.qrImg=null}ngOnChanges(){this.createQrcode()}createQrcode(){this.qrFactory=qrcode(this.typeNum,this.errorLvl),this.qrFactory.addData(this.byteArray.map(e=>String.fromCharCode(e)).join("")),this.qrFactory.make(),this.qrImg=this.qrFactory.createImgTag(5)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-qrcode"]],inputs:{byteArray:"byteArray",errorLvl:"errorLvl",typeNum:"typeNum"},features:[i.TTD],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&i._UZ(0,"div",0),2&e&&i.Q6J("innerHtml",t.qrImg,i.oJD)},encapsulation:2,changeDetection:0}),e})();var R=s(6101);function j(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.index;i.Q6J("value",e+1),i.xp6(1),i.Oqu(e+1)}}function $(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.index;i.Q6J("value",e+1),i.xp6(1),i.Oqu(e+1)}}function B(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.index;i.Q6J("value",e+1),i.xp6(1),i.Oqu(e+1)}}function X(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.Oqu(e)}}function V(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e.name),i.xp6(1),i.Oqu(e.name)}}function G(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e),i.xp6(1),i.Oqu(e)}}function z(e,t){if(1&e&&(i.TgZ(0,"option",17),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e.name),i.xp6(1),i.Oqu(e.name)}}function K(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"td"),i._uU(2),i.ALo(3,"skillCostToString"),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.BQk()),2&e){const e=t.$implicit;i.xp6(1),i.Udp("color",e.cost?null:"transparent"),i.xp6(1),i.Oqu(i.lcZ(3,5,e.cost)),i.xp6(3),i.Oqu(e.effect),i.xp6(2),i.Oqu(e.target)}}function W(e,t){1&e&&(i.TgZ(0,"td"),i._uU(1,"-"),i.qZA(),i.TgZ(2,"td"),i._uU(3,"-"),i.qZA(),i.TgZ(4,"td"),i._uU(5,"-"),i.qZA())}const ee=function(e){return{unique:e}};function te(e,t){if(1&e){const e=i.EpF();i.ynx(0,18),i.TgZ(1,"tr",19),i.TgZ(2,"td"),i.TgZ(3,"select",20),i.NdJ("change",function(){const t=i.CHM(e).$implicit,s=i.oxw();return t.controls.name.setValue(s.skills[t.controls.elem.value][0].name)}),i.TgZ(4,"option",21),i._uU(5,"-"),i.qZA(),i.YNc(6,G,2,2,"option",9),i.qZA(),i.qZA(),i.TgZ(7,"td"),i.TgZ(8,"select",22),i.YNc(9,z,2,2,"option",9),i.qZA(),i.qZA(),i.YNc(10,K,8,7,"ng-container",23),i.YNc(11,W,6,0,"ng-template",null,24,i.W1O),i.qZA(),i.BQk()}if(2&e){const e=t.$implicit,s=t.index,n=i.MAs(12),o=i.oxw();i.Q6J("formGroupName",s),i.xp6(1),i.Q6J("ngClass",i.VKq(6,ee,(o.compendium.getSkill(e.controls.name.value)||o.blankSkill).rank>90)),i.xp6(5),i.Q6J("ngForOf",o.elems),i.xp6(3),i.Q6J("ngForOf",o.skills[e.controls.elem.value]),i.xp6(1),i.Q6J("ngIf",o.compendium.getSkill(e.controls.name.value))("ngIfElse",n)}}let se=(()=>{class e{constructor(e){this.fb=e,this.defaultRace="Fool",this.defaultDemon="Slime",this.demons={},this.skills={},this.dcodes={},this.scodes={},this.range99=Array(99),this.range299=Array(299),this.price=0,this.blankSkill={code:0,cost:0,level:0,rank:0,target:"Self",name:"-",element:"-",inherit:"-",effect:"-",learnedBy:[],transfer:[]},this.createForm()}ngOnChanges(){this.initDropdowns()}createForm(){const e=[];for(let t=0;t<6;t++)e.push(this.fb.group({elem:"-",name:"-"}));this.form=this.fb.group({language:"eng",lvl:1,hp:1,mp:1,race:this.defaultRace,demon:this.defaultDemon,skills:this.fb.array(e)}),this.form.valueChanges.subscribe(e=>{if(this.form.valid){const t=this.compendium.getDemon(e.demon),s=e.skills.map(e=>this.compendium.getSkill(e.name)||this.blankSkill),n={language:e.language,demonCode:t.code,lvl:parseInt(e.lvl,10),exp:-1,hp:parseInt(e.hp,10),mp:parseInt(e.mp,10),skillCodes:s.map(e=>e.code)},i=n.skillCodes.reduce((e,t)=>0!==t?e+1:e,0);this.price=10*Math.floor((800+120*n.lvl)*(1+.25*i)/10),this.passBytes=function(e,t){return t&&t.includes("2")?function(e){const t=F.slice(),s=Array(25).fill(0),n=e.lvl,i=Math.floor((((-.0479755766*n+9.28700353)*n+71.9694228)*n-81.1026214)*n+.120783542),o=e.exp<0?i:e.exp;"jpn"!==e.language&&(t[6]=256-t[6]),s[0]=e.demonCode%256,s[1]=2*e.lvl+Math.floor(e.demonCode/256),s[2]=o%256,s[3]=Math.floor(o/256)%256,s[4]=Math.floor(o/65536);for(let r=0;r<6;r++)s[6+2*r]=e.skillCodes[r]%256,s[6+2*r+1]=Math.floor(e.skillCodes[r]/256);return s[22]=10*e.hp%256,s[23]=10*e.mp%16*16+Math.floor(e.hp/25.6),s[24]=Math.floor(e.mp/1.6),[].concat(t,H,U,P,s,Array(21).fill(0))}(e):function(e){const t="jpn"===e.language?N:L,s=Array(30).fill(0),n=e.lvl,i=Math.floor((((-.07600161*n+14.0603287)*n-.02256972)*n+.59031556)*n-1.87981906),o=e.exp<0?i:e.exp;s[0]=e.demonCode,s[2]=e.lvl,s[6]=o%256,s[7]=Math.floor(o/256)%256,s[8]=Math.floor(o/65536);for(let r=0;r<6;r++)s[10+2*r]=e.skillCodes[r]%256,s[10+2*r+1]=Math.floor(e.skillCodes[r]/256);return s[26]=10*e.hp%256,s[27]=Math.floor(e.hp/25.6),s[28]=10*e.mp%256,s[29]=Math.floor(e.mp/25.6),[].concat(F,H,t,Q,s,Array(40).fill(0))}(e)}(n,this.compConfig.appTitle)}})}initDropdowns(){if(this.demons={},this.skills={"-":[this.blankSkill]},this.dcodes={},this.scodes={0:this.blankSkill},this.compConfig&&this.compendium){for(const e of this.compendium.allDemons.filter(e=>e.code))this.demons[e.race]||(this.demons[e.race]=[]),this.demons[e.race].push(e),this.dcodes[e.code]=e;for(const e of this.compendium.allSkills.filter(e=>e.code))this.skills[e.element]||(this.skills[e.element]=[]),this.skills[e.element].push(e),this.scodes[e.code]=e;for(const e of Object.values(this.demons))e.sort((e,t)=>t.lvl-e.lvl);for(const e of Object.values(this.skills))e.sort((e,t)=>e.rank-t.rank);this.races=this.compConfig.races.filter(e=>this.demons[e]),this.elems=this.compConfig.skillElems.filter(e=>this.skills[e]),this.setDefaultValues(this.defaultDemon)}}changeRace(e){const t=this.demons[e][0];this.form.controls.demon.setValue(t.name),this.setDefaultValues(t.name)}setDefaultValues(e){const t=Array(6).fill(this.blankSkill),s=this.compendium.getDemon(e);let n=0;for(const[i,o]of Object.entries(s.skills))0===o&&(t[n++]=this.compendium.getSkill(i));this.form.patchValue({lvl:Math.floor(s.lvl),hp:s.stats[0],mp:s.stats[1],race:s.race,demon:s.name,skills:t.map(e=>({elem:e.element,name:e.name}))})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(Y.qu))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-password-generator"]],inputs:{defaultRace:"defaultRace",defaultDemon:"defaultDemon",compendium:"compendium",compConfig:"compConfig"},features:[i.TTD],decls:69,vars:9,consts:[[3,"formGroup"],[1,"entry-table"],["colspan","2",1,"title"],[3,"byteArray"],["colspan","7",1,"title"],["formControlName","language"],["value","jpn"],["value","eng"],["formControlName","lvl"],[3,"value",4,"ngFor","ngForOf"],["formControlName","hp"],["formControlName","mp"],["formControlName","race",3,"change"],["formControlName","demon",3,"change"],["formArrayName","skills",1,"list-table"],["colspan","5",1,"title"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[3,"formGroupName"],[3,"ngClass"],["formControlName","elem",3,"change"],["value","-"],["formControlName","name"],[4,"ngIf","ngIfElse"],["noEntry",""]],template:function(e,t){1&e&&(i.TgZ(0,"form",0),i.TgZ(1,"h2"),i._uU(2,"QR Code Generator"),i.qZA(),i.TgZ(3,"table",1),i.TgZ(4,"tr"),i.TgZ(5,"th",2),i._uU(6,"QR Code"),i.qZA(),i.qZA(),i.TgZ(7,"tr"),i.TgZ(8,"td"),i._UZ(9,"app-qrcode",3),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"table",1),i.TgZ(11,"tr"),i.TgZ(12,"th",4),i._uU(13,"Persona Entry"),i.qZA(),i.qZA(),i.TgZ(14,"tr"),i.TgZ(15,"th"),i._uU(16,"Price"),i.qZA(),i.TgZ(17,"th"),i._uU(18,"Language"),i.qZA(),i.TgZ(19,"th"),i._uU(20,"Level"),i.qZA(),i.TgZ(21,"th"),i._uU(22,"HP"),i.qZA(),i.TgZ(23,"th"),i._uU(24,"MP"),i.qZA(),i.TgZ(25,"th"),i._uU(26,"Race"),i.qZA(),i.TgZ(27,"th"),i._uU(28,"Demon"),i.qZA(),i.qZA(),i.TgZ(29,"tr"),i.TgZ(30,"td"),i._uU(31),i.qZA(),i.TgZ(32,"td"),i.TgZ(33,"select",5),i.TgZ(34,"option",6),i._uU(35,"Japanese"),i.qZA(),i.TgZ(36,"option",7),i._uU(37,"English"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(38,"td"),i.TgZ(39,"select",8),i.YNc(40,j,2,2,"option",9),i.qZA(),i.qZA(),i.TgZ(41,"td"),i.TgZ(42,"select",10),i.YNc(43,$,2,2,"option",9),i.qZA(),i.qZA(),i.TgZ(44,"td"),i.TgZ(45,"select",11),i.YNc(46,B,2,2,"option",9),i.qZA(),i.qZA(),i.TgZ(47,"td"),i.TgZ(48,"select",12),i.NdJ("change",function(){return t.changeRace(t.form.controls.race.value)}),i.YNc(49,X,2,2,"option",9),i.qZA(),i.qZA(),i.TgZ(50,"td"),i.TgZ(51,"select",13),i.NdJ("change",function(){return t.setDefaultValues(t.form.controls.demon.value)}),i.YNc(52,V,2,2,"option",9),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(53,"table",14),i.TgZ(54,"tr"),i.TgZ(55,"th",15),i._uU(56,"Learned Skills"),i.qZA(),i.qZA(),i.TgZ(57,"tr"),i.TgZ(58,"th"),i._uU(59,"Element"),i.qZA(),i.TgZ(60,"th"),i._uU(61,"Name"),i.qZA(),i.TgZ(62,"th"),i._uU(63,"Cost"),i.qZA(),i.TgZ(64,"th"),i._uU(65,"Effect"),i.qZA(),i.TgZ(66,"th"),i._uU(67,"Target"),i.qZA(),i.qZA(),i.YNc(68,te,13,8,"ng-container",16),i.qZA(),i.qZA()),2&e&&(i.Q6J("formGroup",t.form),i.xp6(9),i.Q6J("byteArray",t.passBytes),i.xp6(22),i.Oqu(t.price),i.xp6(9),i.Q6J("ngForOf",t.range99),i.xp6(3),i.Q6J("ngForOf",t.range299),i.xp6(3),i.Q6J("ngForOf",t.range99),i.xp6(3),i.Q6J("ngForOf",t.races),i.xp6(3),i.Q6J("ngForOf",t.demons[t.form.controls.race.value]),i.xp6(16),i.Q6J("ngForOf",t.form.controls.skills.controls))},directives:[Y._Y,Y.JL,Y.sg,I,Y.EJ,Y.JJ,Y.u,Y.YN,Y.Kr,r.sg,Y.CE,Y.x0,r.mk,r.O5],pipes:[R.tq],styles:["td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%]{width:95%;border-width:3px}input.ng-valid[_ngcontent-%COMP%]{border-color:#0f0}input.ng-invalid[_ngcontent-%COMP%]{border-color:red}"],changeDetection:0}),e})(),ne=(()=>{class e{constructor(e,t){this.fusionDataService=e,this.title=t,this.subscriptions=[],this.compConfig=this.fusionDataService.compConfig}ngOnInit(){this.setTitle(),this.subscribeAll()}ngOnDestroy(){this.unsubscribeAll()}setTitle(){this.title.setTitle(`QR Code Generator - ${this.fusionDataService.appName}`)}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(e=>{this.compendium=e}))}unsubscribeAll(){for(const e of this.subscriptions)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(u.Y),i.Y36(h.Dx))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-password-generator-container"]],decls:1,vars:2,consts:[[3,"compendium","compConfig"]],template:function(e,t){1&e&&i._UZ(0,"app-password-generator",0),2&e&&i.Q6J("compendium",t.compendium)("compConfig",t.compConfig)},directives:[se],encapsulation:2,changeDetection:0}),e})();var ie=s(9805),oe=s(8623);let re=(()=>{class e extends ie.f{constructor(e,t){super(e,t),this.changeDetector=e,this.fusionDataService=t,this.appTitle=t.appName}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(u.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-dlc-settings-container"]],features:[i.qOj],decls:1,vars:3,consts:[[3,"dlcDemons","appTitle","dlcTitle","toggledName"]],template:function(e,t){1&e&&(i.TgZ(0,"app-demon-dlc-settings",0),i.NdJ("toggledName",function(e){return t.toggleName(e)}),i.qZA()),2&e&&i.Q6J("dlcDemons",t.dlcDemons)("appTitle",t.appTitle)("dlcTitle","Included DLC Personas")},directives:[oe.d],encapsulation:2,changeDetection:0}),e})();var ae=s(5946),ce=s(2060),le=s(6926),me=s(6100);const pe=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:m,data:{fusionTool:"chart"},children:[{path:"chart",component:s(8457).m}]},{path:"",component:m,children:[{path:"personas/:demonName",component:J,children:[{path:"fissions/triple",component:le.p},{path:"fusions/triple",component:me.n},{path:"fissions",component:ae.t},{path:"fusions",component:ce.$},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"shadows/:demonName",component:J},{path:"personas",component:d},{path:"shadows",component:d,data:{showShadows:!0}},{path:"skills",component:C},{path:"qrcodes",component:ne},{path:"settings",component:re}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let he=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[n.Bz.forChild(pe)],n.Bz]}),e})()},9515:(e,t,s)=>{"use strict";s.d(t,{Y:()=>c});var n=s(8512);class i{constructor(e){this.compConfig=e,this.specialRecipes={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const e={},t={},s={},n={},i={};if(this._dlcDemons={},this.compConfig.dlcData){Object.assign(this.compConfig.demonData,this.compConfig.dlcData);for(const e of Object.keys(this.compConfig.dlcData))this._dlcDemons[e]=!1}for(const[o,r]of Object.entries(this.compConfig.demonData)){const t=Object.values(r.skills).reduce((e,t)=>0===t?e+1:e,0),s=10*Math.floor((800+120*r.lvl)*(1+.25*t)/10);e[o]={name:o,race:r.race,lvl:r.lvl,currLvl:r.lvl,price:s,inherits:0,stats:r.stats.slice(0,2),skills:r.skills,resists:[],ailments:[],code:r.code||0,fusion:r.fusion||"normal",prereq:r.prereq||""}}for(const[o,r]of Object.entries(this.compConfig.enemyData))t[o]={name:o,race:r.race,lvl:r.lvl,currLvl:r.lvl,price:0,inherits:0,stats:r.stats,resists:r.resists.split("").map(e=>this.compConfig.resistCodes[e]),ailments:r.ailments.split("").map(e=>this.compConfig.resistCodes[e]),skills:r.skills.reduce((e,t)=>(e[t]=0,e),{}),area:r.area,drop:r.drops.join(", "),code:0,fusion:"normal",isEnemy:!0};for(const[o,r]of Object.entries(this.compConfig.specialRecipes))n[o]=r,e[o].fusion="special";for(const[o,r]of Object.entries(this.compConfig.skillData))s[o]={name:o,element:r.elem,cost:r.cost||0,rank:r.unique?91:r.cost/100||1,effect:r.effect,target:r.target||"Self",learnedBy:[],transfer:[],code:r.code||0,level:0},r.card&&(s[o].transfer=r.card.split(", ").map(e=>({demon:e,level:0})));for(const o of this.compConfig.races)i[o]={};for(const o of Object.values(e).sort((e,t)=>e.lvl-t.lvl)){"party"!==o.fusion&&(i[o.race][o.lvl]=o.name);for(const[e,t]of Object.entries(o.skills))s[e].learnedBy.push({demon:o.name,level:t})}this.demons=e,this.enemies=t,this.skills=s,this.specialRecipes=n,this.invertedDemons=i}updateDerivedData(){const e=Object.assign({},this.demons),t=[],s={},n={};for(const r of Object.values(this.skills))r.learnedBy.length<1?r.rank=99:t.push(r);for(const r of this.compConfig.races)s[r]=[],n[r]=[];for(const[r,a]of Object.entries(this.demons))"party"!==a.fusion&&(s[a.race].push(a.lvl),this.specialRecipes.hasOwnProperty(r)||n[a.race].push(a.lvl));for(const r of this.compConfig.races)s[r].sort((e,t)=>e-t),n[r].sort((e,t)=>e-t);for(const[r,a]of Object.entries(this._dlcDemons))for(const t of r.split(",")){if(!a){const{race:i,lvl:o}=this.demons[t];delete e[t],s[i]=s[i].filter(e=>e!==o),n[i]=n[i].filter(e=>e!==o)}this.demons[t].fusion=a?"normal":"excluded"}const i=Object.keys(e).map(t=>e[t]),o=Object.keys(this.enemies).map(e=>this.enemies[e]);this._allDemons=o.concat(i),this._allSkills=t,this.allIngredients=s,this.allResults=n}get dlcDemons(){return this._dlcDemons}set dlcDemons(e){this._dlcDemons=e,this.updateDerivedData()}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return Object.keys(this.specialRecipes).map(e=>this.demons[e])}getDemon(e){return this.demons[e]||this.enemies[e]}getSkill(e){return this.skills[e]}getSkills(e){const t=this.compConfig.elemOrder,s=e.map(e=>this.skills[e]);return s.sort((e,s)=>1e4*(t[e.element]-t[s.element])+e.rank-s.rank),s}getIngredientDemonLvls(e){return this.allIngredients[e]||[]}getResultDemonLvls(e){return this.allResults[e]||[]}getSpecialNameEntries(e){return this.specialRecipes[e]||[]}getSpecialNamePairs(e){return[]}reverseLookupDemon(e,t){return this.invertedDemons[e][t]}reverseLookupSpecial(e){return[]}isElementDemon(e){return!1}}var o=s(8611),r=s(115),a=s(5614);let c=(()=>{class e{constructor(e){this.fissionCalculator=r.Bz,this.fusionCalculator=r.wC,this.triFissionCalculator=r.nL,this.triFusionCalculator=r.RD,this.compConfig=e,this.appName=e.appTitle+" Fusion Calculator",this._compendium=new i(this.compConfig),this._compendium$=new n.X(this._compendium),this.compendium=this._compendium$.asObservable(),this._fusionChart=new o.t(e.normalTable,e.races),this._fusionChart$=new n.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._tripleChart=new o.t(e.normalTable,e.races,!0),this._squareChart$=new n.X({normalChart:this._fusionChart,tripleChart:this._tripleChart,raceOrder:e.raceOrder}),this.squareChart=this._squareChart$.asObservable();const t=JSON.parse(localStorage.getItem(e.settingsKey));t&&t.version&&t.version>=e.settingsVersion&&this.nextDlcDemons(t.dlcDemons),window.addEventListener("storage",this.onStorageUpdated.bind(this))}nextDlcDemons(e){localStorage.setItem(this.compConfig.settingsKey,JSON.stringify({version:this.compConfig.settingsVersion,dlcDemons:e})),this._compendium.dlcDemons=e,this._compendium$.next(this._compendium)}onStorageUpdated(e){switch(e.key){case this.compConfig.settingsKey:this._compendium.dlcDemons=JSON.parse(e.newValue).dlcDemons,this._compendium$.next(this._compendium)}}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(r.I7))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac}),e})()},5109:(e,t,s)=>{"use strict";s.d(t,{i:()=>l});var n=s(1462),i=s(1116),o=s(5425),r=s(6487),a=s(5181),c=s(5614);let l=(()=>{class e{static forRoot(){return{ngModule:e}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[i.ez,o.m,n.UX,r.a,a.V]]}),e})()},2442:e=>{"use strict";e.exports=JSON.parse('{"races":["Fool","Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Justice","Hermit","Fortune","Strength","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement"],"table":[["Fool","Empress","Devil","Magician","Temperance","Justice","Death","Hierophant","Strength","Priestess","Lovers","Justice","Magician","Chariot","Death","Strength","Hanged","Lovers","Emperor","Hermit","Star"],["Chariot","Magician","Chariot","Justice","Hanged","Priestess","Fortune","Priestess","Emperor","Devil","Justice","Hierophant","Hermit","Hanged","Star","Chariot","Temperance","Death","Emperor","Star","Empress"],["Sun","Justice","Priestess","Temperance","Empress","Star","Emperor","Hierophant","Death","Strength","Magician","Justice","Lovers","Strength","Star","Lovers","Fortune","Magician","Hanged","Chariot","Hermit"],["Magician","Hermit","Justice","Empress","Justice","Magician","Temperance","Death","Star","Strength","Hermit","Chariot","Devil","Lovers","Priestess","Priestess","Emperor","Hierophant","Priestess","Chariot","Fortune"],["Star","Moon","Empress","Hanged","Emperor","Hermit","Fortune","Strength","Priestess","Hierophant","Star","Star","Strength","Hierophant","Devil","Justice","Lovers","Hermit","Temperance","Magician","Chariot"],["Judgement","Fortune","Death","Tower","Lovers","Hierophant","Strength","Star","Hanged","Lovers","Strength","Chariot","Fortune","Empress","Chariot","Emperor","Devil","Lovers","Hermit","Hanged","Temperance"],["Emperor","Chariot","Fool","Temperance","Devil","Moon","Lovers","Devil","Empress","Chariot","Justice","Magician","Death","Emperor","Hanged","Empress","Chariot","Hierophant","Magician","Star","Hanged"],["Sun","Judgement  ","Sun","Priestess","Hermit","Hanged","Hierophant","Chariot","Magician","Star","Priestess","Lovers","Fortune","Temperance","Strength","Magician","Empress","Emperor","Justice","Lovers","-"],["Hermit","Fool","Magician","Moon","Empress","Sun","Judgement","Fool","Justice","Fortune","Priestess","Emperor","Lovers","Hermit","Lovers","Hierophant","Fortune","Temperance","Empress","Devil","-"],["Lovers","Strength","Tower","Judgement","Chariot","Star","Hanged","Emperor","Strength","Hermit","Chariot","Priestess","Death","Fortune","Priestess","Hanged","Emperor","Justice","Hierophant","Death","Magician"],["Emperor","Hanged","Hierophant","Strength","Sun","Strength","Tower","Lovers","Priestess","Hanged","Fortune","Temperance","Emperor","Star","Empress","Hanged","Temperance","Devil","Lovers","Hanged","Devil"],["Justice","Sun","Fortune","Hierophant","Chariot","Magician","Hermit","Death","Tower","Devil","Moon","Strength","Star","Devil","Fortune","Priestess","Hermit","Empress","Hierophant","Empress","-"],["Devil","Hermit","Death","Star","Fortune","Tower","Sun","Devil","Lovers","Fool","Justice","Empress","Hanged","Justice","Death","Temperance","Hierophant","Fortune","Strength","Hierophant","Priestess"],["Temperance","Emperor","Lovers","Fortune","Hierophant","Chariot","Priestess","Magician","Temperance","Moon","Fool","Lovers","Tower","Death","Emperor","Hermit","Priestess","Chariot","Devil","Justice","-"],["Hanged","Tower","Star","Devil","Justice","Priestess","Strength","Moon","Emperor","Sun","Death","Tower","Hierophant","Moon","Temperance","Emperor","Strength","Hierophant","Chariot","Magician","Death"],["Moon","Empress","Emperor","Tower","Fool","Star","Sun","Temperance","Fortune","Priestess","Hermit","Hanged","Chariot","Strength","Magician","Devil","Death","Strength","Star","Fortune","Lovers"],["Judgement","Temperance","Hanged","Chariot","Hermit","Devil","Magician","Emperor","Moon","Death","Sun","Fool","Priestess","Star","Lovers","Fool","Tower","Hanged","Magician","Hermit","Hierophant"],["Strength","Fool","Moon","Sun","Temperance","Fortune","Hermit","Empress","Hierophant","Justice","Devil","Judgement","Moon","Temperance","Chariot","Death","Priestess","Star","Fortune","Empress","Strength"],["Fortune","Lovers","Devil","Priestess","Tower","Strength","Death","Justice","Hanged","Empress","Fool","Star","Temperance","Sun","Death","Hierophant","Judgement","Magician","Moon","Empress","Justice"],["Tower","Death","Fool","Justice","Moon","Hermit","Star","Strength","Hierophant","Fortune","Magician","Emperor","Temperance","Empress","Empress","Fool","Devil","Tower","Judgement","Sun","Emperor"],["Moon","Emperor","Strength","Fool","Sun","Temperance","Devil","-","-","Magician","Empress","-","Hermit","-","Hierophant","Tower","Fortune","Hanged","Priestess","Lovers","Judgement"]]}')}}]);