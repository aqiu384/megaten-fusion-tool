(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[915],{628:(e,t,n)=>{"use strict";n.d(t,{N:()=>v});var s=n(5614),i=n(1116),r=n(6101);function o(e,t){if(1&e&&(s.TgZ(0,"th",4),s._uU(1,"Inheritable Skills"),s.qZA()),2&e){const e=s.oxw();s.uIk("colspan",e.inheritHeaders.length)}}function a(e,t){if(1&e&&(s.TgZ(0,"th",4),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.uIk("colspan",e.inheritHeaders.length),s.xp6(1),s.hij(" ",e.langEn?"Skill Affinities":"\u30b9\u30ad\u30eb\u9069\u6b63"," ")}}function c(e,t){if(1&e&&(s.ynx(0),s._uU(1),s.BQk()),2&e){const e=s.oxw().$implicit;s.xp6(1),s.Oqu(e)}}function l(e,t){if(1&e&&(s.TgZ(0,"div"),s._uU(1),s.qZA()),2&e){const e=s.oxw().$implicit;s.Gre("element-icon ",e,""),s.xp6(1),s.Oqu(e)}}function p(e,t){if(1&e&&(s.TgZ(0,"th"),s.YNc(1,c,2,1,"ng-container",3),s.YNc(2,l,2,4,"div",5),s.qZA()),2&e){const e=s.oxw();s.Udp("width",100/e.inheritHeaders.length,"%"),s.xp6(1),s.Q6J("ngIf",!e.hasIcons),s.xp6(1),s.Q6J("ngIf",e.hasIcons)}}function m(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Udp("color",e?null:"transparent"),s.xp6(1),s.hij(" ",e?"yes":"no"," ")}}function u(e,t){if(1&e&&(s.TgZ(0,"tr"),s.YNc(1,m,2,3,"td",6),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.inherits)}}function g(e,t){if(1&e&&(s.TgZ(0,"td"),s.ALo(1,"roundInheritPercent"),s._uU(2),s.qZA()),2&e){const e=t.$implicit;s.Gre("affinity",s.lcZ(1,4,100*e),""),s.xp6(2),s.hij(" ",100*e,"% ")}}function h(e,t){if(1&e&&(s.TgZ(0,"tr"),s.YNc(1,g,3,6,"td",7),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.inherits)}}function d(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.ALo(2,"affinityToString"),s.qZA()),2&e){const e=t.$implicit;s.Gre("affinity",e,""),s.xp6(1),s.hij(" ",s.lcZ(2,4,e)," ")}}function f(e,t){if(1&e&&(s.TgZ(0,"tr"),s.YNc(1,d,3,6,"td",7),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.inherits)}}let v=(()=>{class e{constructor(){this.inheritHeaders=[],this.inherits=[],this.hasChance=!1,this.hasIcons=!0,this.hasLvls=!1,this.langEn=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-demon-inherits"]],inputs:{inheritHeaders:"inheritHeaders",inherits:"inherits",hasChance:"hasChance",hasIcons:"hasIcons",hasLvls:"hasLvls",langEn:"langEn"},decls:11,vars:6,consts:[[1,"entry-table"],["class","title",4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"title"],[3,"class",4,"ngIf"],[3,"color",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.YNc(3,o,2,1,"th",1),s.YNc(4,a,2,2,"th",1),s.qZA(),s.TgZ(5,"tr"),s.YNc(6,p,3,4,"th",2),s.qZA(),s.qZA(),s.TgZ(7,"tbody"),s.YNc(8,u,2,1,"tr",3),s.YNc(9,h,2,1,"tr",3),s.YNc(10,f,2,1,"tr",3),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Q6J("ngIf",!t.hasLvls),s.xp6(1),s.Q6J("ngIf",t.hasLvls&&t.inheritHeaders.length),s.xp6(2),s.Q6J("ngForOf",t.inheritHeaders),s.xp6(2),s.Q6J("ngIf",!t.hasLvls&&!t.hasChance),s.xp6(1),s.Q6J("ngIf",t.hasChance),s.xp6(1),s.Q6J("ngIf",t.hasLvls))},directives:[i.O5,i.sg],pipes:[r.DY,r.JZ],encapsulation:2,changeDetection:0}),e})()},4209:(e,t,n)=>{"use strict";n.d(t,{n:()=>g});var s=n(5614),i=n(1116),r=n(3787);function o(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Target"),s.qZA())}function a(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Rank"),s.qZA())}function c(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Inherit"),s.qZA())}function l(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Level"),s.qZA())}const p=function(e,t){return{extra:e,unique:t}};function m(e,t){if(1&e&&s._UZ(0,"tr",4),2&e){const e=t.$implicit,n=s.oxw();s.Q6J("hasTarget",n.hasTarget)("hasRank",n.hasRank)("hasInherit",n.hasInherit)("hasLearned",!1)("hasLvl",n.hasLvl)("data",e)("ngClass",s.WLB(7,p,e.rank>70&&e.rank<90,e.rank>90))}}function u(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.uIk("colspan",e.skillHeaderLen),s.xp6(1),s.hij("No ",e.title," Found")}}let g=(()=>{class e{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.skillHeaderLen=5}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(e=>this.compendium.getSkill(e));for(const e of this.skills)e.level=this.skillLevels[e.name];this.elemOrder&&this.skills.sort((e,t)=>20*(e.level-t.level)+this.elemOrder[e.element]-this.elemOrder[t.element])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels"},features:[s.TTD],decls:22,vars:8,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","data","ngClass"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th",1),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"tr"),s.TgZ(6,"th"),s._uU(7,"Elem"),s.qZA(),s.TgZ(8,"th"),s._uU(9,"Name"),s.qZA(),s.TgZ(10,"th"),s._uU(11,"Cost"),s.qZA(),s.TgZ(12,"th"),s._uU(13,"Effect"),s.qZA(),s.YNc(14,o,2,0,"th",2),s.YNc(15,a,2,0,"th",2),s.YNc(16,c,2,0,"th",2),s.YNc(17,l,2,0,"th",2),s.qZA(),s.qZA(),s.TgZ(18,"tbody"),s.YNc(19,m,1,10,"tr",3),s.YNc(20,u,3,2,"tr",2),s._UZ(21,"tr"),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.uIk("colSpan",t.skillHeaderLen),s.xp6(1),s.Oqu(t.title),s.xp6(10),s.Q6J("ngIf",t.hasTarget),s.xp6(1),s.Q6J("ngIf",t.hasRank),s.xp6(1),s.Q6J("ngIf",t.hasInherit),s.xp6(1),s.Q6J("ngIf",t.hasLvl),s.xp6(2),s.Q6J("ngForOf",t.skills),s.xp6(1),s.Q6J("ngIf",!t.skills.length))},directives:[i.O5,i.sg,r.W,i.mk],encapsulation:2,changeDetection:0}),e})()},2573:(e,t,n)=>{"use strict";n.d(t,{O:()=>h});var s=n(5614),i=n(1116);function r(e,t){if(1&e&&(s.TgZ(0,"h2"),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.title)}}function o(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.langEn?"Price":"\u4fa1\u683c")}}function a(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function c(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Inherits"),s.qZA())}function l(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function p(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.price)}}function m(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function u(e,t){if(1&e&&(s.TgZ(0,"td"),s.TgZ(1,"div"),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Gre("element-icon i",e.inherits,""),s.xp6(1),s.Oqu(e.inherits)}}const g=["*"];let h=(()=>{class e{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.langEn=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",langEn:"langEn"},ngContentSelectors:g,decls:19,vars:10,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(s.F$t(),s.ynx(0),s.YNc(1,r,2,1,"h2",0),s.TgZ(2,"table",1),s.TgZ(3,"thead"),s.TgZ(4,"tr"),s.TgZ(5,"th",2),s._uU(6),s.qZA(),s.qZA(),s.TgZ(7,"tr"),s.YNc(8,o,2,1,"th",0),s.YNc(9,a,2,1,"th",3),s.YNc(10,c,2,0,"th",0),s.YNc(11,l,2,1,"th",3),s.qZA(),s.qZA(),s.TgZ(12,"tbody"),s.TgZ(13,"tr"),s.YNc(14,p,2,1,"td",0),s.YNc(15,m,2,1,"td",3),s.YNc(16,u,3,4,"td",0),s.Hsn(17),s.qZA(),s.qZA(),s.qZA(),s.GkF(18),s.BQk()),2&e&&(s.xp6(1),s.Q6J("ngIf",t.title.includes("Lvl")),s.xp6(4),s.uIk("colSpan",t.stats.length+t.fusionHeaders.length+(t.inherits?1:0)+(t.price?1:0)),s.xp6(1),s.hij(" ",t.title.includes("Lvl")?t.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9":t.title," "),s.xp6(2),s.Q6J("ngIf",t.price),s.xp6(1),s.Q6J("ngForOf",t.statHeaders),s.xp6(1),s.Q6J("ngIf",t.inherits),s.xp6(1),s.Q6J("ngForOf",t.fusionHeaders),s.xp6(3),s.Q6J("ngIf",t.price),s.xp6(1),s.Q6J("ngForOf",t.stats),s.xp6(1),s.Q6J("ngIf",t.inherits))},directives:[i.O5,i.sg],encapsulation:2,changeDetection:0}),e})()},6193:(e,t,n)=>{"use strict";n.d(t,{V:()=>Ze});var s=n(3522),i=n(5614),r=n(9159),o=n(7089),a=n(1116);const c=function(){return{title:"Demon List",link:"demons"}},l=function(e){return[e]};let p=(()=>{class e{constructor(e){this.appCssClasses=e.compConfig.appCssClasses}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(r.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-p4-compendium"]],decls:1,vars:7,consts:[[3,"ngClass","mainList","hasSettings","otherLinks"]],template:function(e,t){1&e&&i._UZ(0,"app-demon-compendium",0),2&e&&i.Q6J("ngClass",t.appCssClasses)("mainList","persona")("hasSettings",!1)("otherLinks",i.VKq(5,l,i.DdM(4,c)))},directives:[o.e,a.mk],styles:['.mib div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:50%;color:transparent}.mib div.element-icon.s1h{background-image:url(/assets/images/p1/sword1h.png)}.mib div.element-icon.s2h,.mib div.element-icon.sla{background-image:url(/assets/images/p1/sword2h.png)}.mib div.element-icon.spr{background-image:url(/assets/images/p1/spear.png)}.mib div.element-icon.axe{background-image:url(/assets/images/p1/axe.png)}.mib div.element-icon.whi{background-image:url(/assets/images/p1/whip.png)}.mib div.element-icon.thr{background-image:url(/assets/images/p1/thrown.png)}.mib div.element-icon.arr{background-image:url(/assets/images/p1/arrow.png)}.mib div.element-icon.fis,.mib div.element-icon.str{background-image:url(/assets/images/p1/strike.png)}.mib div.element-icon.hgn{background-image:url(/assets/images/p1/handgun.png)}.mib div.element-icon.agn{background-image:url(/assets/images/p1/autogun.png)}.mib div.element-icon.sgn{background-image:url(/assets/images/p1/shotgun.png)}.mib div.element-icon.gun,.mib div.element-icon.rif{background-image:url(/assets/images/p1/rifle.png)}.mib div.element-icon.hav,.mib div.element-icon.tec{background-image:url(/assets/images/p1/havoc.png)}.mib div.element-icon.rus{background-image:url(/assets/images/p1/rush.png)}.mib div.element-icon.fir,.p1 div.element-icon.i14,.p2 div.element-icon.i5{background-image:url(/assets/images/p1/fire.png)}.mib div.element-icon.ice,.p1 div.element-icon.i15{background-image:url(/assets/images/p1/ice.png)}.mib div.element-icon.wat,.p2 div.element-icon.i6{background-image:url(/assets/images/p1/water.png)}.mib div.element-icon.win,.p1 div.element-icon.i16,.p2 div.element-icon.i7{background-image:url(/assets/images/p1/wind.png)}.mib div.element-icon.ear,.p1 div.element-icon.i17,.p2 div.element-icon.i8{background-image:url(/assets/images/p1/earth.png)}.mib div.element-icon.ele,.p1 div.element-icon.i18{background-image:url(/assets/images/p1/elec.png)}.mib div.element-icon.nuk,.p1 div.element-icon.i19{background-image:url(/assets/images/p1/nuke.png)}.mib div.element-icon.bla,.p1 div.element-icon.i20{background-image:url(/assets/images/p1/blast.png)}.mib div.element-icon.gra,.p1 div.element-icon.i21{background-image:url(/assets/images/p1/gravity.png)}.mib div.element-icon.exp,.mib div.element-icon.lig,.p1 div.element-icon.i22{background-image:url(/assets/images/p1/expel.png)}.mib div.element-icon.mir,.p1 div.element-icon.i23{background-image:url(/assets/images/p1/miracle.png)}.mib div.element-icon.dar,.mib div.element-icon.dea,.p1 div.element-icon.i24{background-image:url(/assets/images/p1/death.png)}.mib div.element-icon.cur,.mib div.element-icon.min,.p1 div.element-icon.i25{background-image:url(/assets/images/p1/curse.png)}.mib div.element-icon.ner,.p1 div.element-icon.i26{background-image:url(/assets/images/p1/nerve.png)}.mib div.element-icon.ail,.mib div.element-icon.occ,.p1 div.element-icon.i28{background-image:url(/assets/images/p1/occult.png)}.mib div.element-icon.ble,.mib div.element-icon.rec,.p1 div.element-icon.i29{background-image:url(/assets/images/p1/bless.png)}.mib div.element-icon.pra,.mib div.element-icon.sup,.p1 div.element-icon.i30{background-image:url(/assets/images/p1/prayer.png)}.mib div.element-icon.alm,.mib div.element-icon.spe,.p1 div.element-icon.i32,.p2 div.element-icon.i17{background-image:url(/assets/images/p1/almighty.png)}.p1 div.target-icon{height:52px;background-size:52px;background-repeat:no-repeat;background-position:50%;color:transparent}.p1 div.target-icon.a101000{background-image:url(/assets/images/p1/101000.png)}.p1 div.target-icon.a101010{background-image:url(/assets/images/p1/101010.png)}.p1 div.target-icon.a201020{background-image:url(/assets/images/p1/201020.png)}.p1 div.target-icon.a202010{background-image:url(/assets/images/p1/202010.png)}.p1 div.target-icon.a202020{background-image:url(/assets/images/p1/202020.png)}.p1 div.target-icon.a303030{background-image:url(/assets/images/p1/303030.png)}.p1 div.target-icon.a303132{background-image:url(/assets/images/p1/303132.png)}.p1 div.target-icon.a505050{background-image:url(/assets/images/p1/505050.png)}.p1 div.target-icon.a540000{background-image:url(/assets/images/p1/540000.png)}.p1 div.target-icon.a606060{background-image:url(/assets/images/p1/606060.png)}.p1 div.target-icon.a636363{background-image:url(/assets/images/p1/636363.png)}.p1 div.target-icon.a727272{background-image:url(/assets/images/p1/727272.png)}.p1 div.target-icon.a904010{background-image:url(/assets/images/p1/904010.png)}.p1 div.target-icon.a909000{background-image:url(/assets/images/p1/909000.png)}.p1 div.target-icon.a909090{background-image:url(/assets/images/p1/909090.png)}.p1 div.target-icon.a949494{background-image:url(/assets/images/p1/949494.png)}.p1 tr.fusion-color.second td.price:after,.p1-fusion-table td.sec:after{content:"\u2191"}.p1 tr.fusion-color.first td.price:after,.p1-fusion-table td.fir:after{content:"\u2192"}.p1 tr.fusion-color.none td.price:after,.p1-fusion-table td.non:after{content:"\u25cb"}.p1 tr.fusion-color.unfav td.price:after,.p1-fusion-table td.unf:after{content:"\u2193"}.p1 tr.fusion-color.blue td.price,.p1-fusion-table td.blu{color:#0ff}.p1 tr.fusion-color.red td.price,.p1-fusion-table td.red{color:tomato}.p1 td.lvl111,.p1 td.lvl115{color:red}.p1 td.lvl112,.p1 td.lvl116{color:orange}.p1 td.lvl113,.p1 td.lvl117{color:#f0f}.p1 td.lvl114,.p1 td.lvl118{color:#0ff}.p1 th.nav.active,.p1 th.nav.active a,.p1 th.title{color:#000;background-color:#a9a9a9}.p2t th.nav.active,.p2t th.nav.active a,.p2t th.title{color:#fff;background-color:#8b668b}.p2b th.nav.active,.p2b th.nav.active a,.p2b th.title{color:#fff;background-color:#b3668b}'],encapsulation:2,changeDetection:0}),e})();var m=n(5438),u=n(9624),g=n(4008);let h=(()=>{class e extends m.l{constructor(e,t,n,s){super(e,n,s),this.showAllies=!t.snapshot.data.showEnemies,this.showEnemies=!this.showAllies,this.compConfig=s.compConfig,this.defaultSortFun=(e,t)=>200*(this.compConfig.raceOrder[e.race]-this.compConfig.raceOrder[t.race])+t.lvl-e.lvl,this.appName=`List of Personas - ${s.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Shadows - ${s.appName}`,this.statHeaders=this.compConfig.enemyStats)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(u.Dx),i.Y36(s.gz),i.Y36(i.sBO),i.Y36(r.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-list-container"]],features:[i.qOj],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(e,t){1&e&&(i._UZ(0,"app-smt-demon-list",0),i.ALo(1,"async")),2&e&&i.Q6J("isEnemy",t.showEnemies)("raceOrder",t.compConfig.raceOrder)("statHeaders",t.statHeaders)("resistHeaders",t.resistHeaders)("inheritOrder",t.inheritOrder)("rowData",i.lcZ(1,6,t.demons))},directives:[g.Q],pipes:[a.Ov],encapsulation:2,changeDetection:0}),e})();var d=n(2573),f=n(858),v=n(628),Z=n(4209),b=n(3015),T=n(5946),k=n(890),x=n(44);const q={B:0,W:1e5,R:2e5},C={2:2e4,1:4e4,0:6e4,T:8e4},O={0:null,2e4:"fusion-color blue second",4e4:"fusion-color blue first",6e4:"fusion-color blue none",8e4:"fusion-color blue unfav",12e4:"fusion-color white second",14e4:"fusion-color white first",16e4:"fusion-color white none",18e4:"fusion-color white unfav",22e4:"fusion-color red second",24e4:"fusion-color red first",26e4:"fusion-color red none",28e4:"fusion-color red unfav"},A=x.MG,J=k.IW.reduce((e,t)=>(e[t]={},e),{});for(let be=0;be<A.length;be++){const e=A[be],t=Array.from(x.O9[be]),n=Array.from(x.XW[be]);for(let s=be+1;s<A.length;s++){const i=A[s],r=q[t[s]]+C[n[s]];J[e][i]=r,J[i][e]=r}}var W=n(6135);function D(e,t){if(1&e&&(i.TgZ(0,"table",3),i.TgZ(1,"thead"),i.TgZ(2,"tr"),i.TgZ(3,"th",4),i._uU(4,"Special Fusion Condition"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(5,"tbody"),i.TgZ(6,"tr"),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(8),i.Oqu(e.fusionPrereq)}}function w(e,t){if(1&e&&(i.TgZ(0,"app-fusion-entry-table",5),i._uU(1,'" '),i.qZA()),2&e){const e=i.oxw();i.Q6J("title","Special Fusion Ingredients for "+e.currentDemon)("baseUrl","../../demons")("rowData",e.fusionEntries)("isFusion",!0)}}function _(e,t){if(1&e&&i._UZ(0,"app-fusion-pair-table",6),2&e){const e=i.oxw();i.Q6J("title","Ingredient 1 x Ingredient 2 = "+e.currentDemon)("leftBaseUrl","../../demons")("rightBaseUrl","../../demons")("rowData",e.fusionPairs)}}let I=(()=>{class e extends T.t{constructor(){super(...arguments),this.toFusionPair=e=>e=>function(e,t){const n=t.getDemon(e.name1),s=t.getDemon(e.name2),i=J[n.race][s.race]||0;return{price:i+n.price+s.price,race1:n.race,lvl1:n.lvl,name1:e.name1,race2:s.race,lvl2:s.lvl,name2:e.name2,notes:O[i]}}(e,this.compendium)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["app-p1-fission-table"]],features:[i.qOj],decls:3,vars:3,consts:[["class","list-table",4,"ngIf"],[3,"title","baseUrl","rowData","isFusion",4,"ngIf"],[3,"title","leftBaseUrl","rightBaseUrl","rowData",4,"ngIf"],[1,"list-table"],[1,"title"],[3,"title","baseUrl","rowData","isFusion"],[3,"title","leftBaseUrl","rightBaseUrl","rowData"]],template:function(e,t){1&e&&(i.YNc(0,D,9,1,"table",0),i.YNc(1,w,2,4,"app-fusion-entry-table",1),i.YNc(2,_,1,4,"app-fusion-pair-table",2)),2&e&&(i.Q6J("ngIf",t.fusionPrereq),i.xp6(1),i.Q6J("ngIf",t.fusionEntries.length),i.xp6(1),i.Q6J("ngIf",t.fusionPairs.length||!t.fusionPrereq&&!t.fusionEntries.length))},directives:[a.O5,b.P,W.tV],encapsulation:2,changeDetection:0}),e})();var y=n(4897),U=n(3966),N=n(2060);let F=(()=>{class e extends N.${constructor(){super(...arguments),this.toFusionPair=e=>t=>function(e,t,n){const s=n.getDemon(e),i=n.getDemon(t.name1),r=n.getDemon(t.name2),o=J[s.race][i.race]||0;return{price:o+s.price+i.price,race1:i.race,lvl1:i.lvl,name1:t.name1,race2:r.race,lvl2:r.lvl,name2:t.name2,notes:O[o]}}(e,t,this.compendium)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["app-p1-fusion-table"]],features:[i.qOj],decls:1,vars:6,consts:[[3,"title","leftHeader","rightHeader","rowData","leftBaseUrl","rightBaseUrl"]],template:function(e,t){1&e&&i._UZ(0,"app-fusion-pair-table",0),2&e&&i.Q6J("title",t.currentDemon+" x Ingredient 2 = Result")("leftHeader","Ingredient 2")("rightHeader","Result")("rowData",t.fusionPairs)("leftBaseUrl","..")("rightBaseUrl","../../personas")},directives:[W.tV],encapsulation:2,changeDetection:0}),e})();function S(e,t){if(1&e&&i._UZ(0,"app-demon-resists",3),2&e){const e=i.oxw();i.Q6J("resistHeaders",e.compConfig.presistElems)("resists",e.demon.presists)}}function H(e,t){1&e&&i._UZ(0,"app-p1-fusion-table")}const Q=function(){return["Traits","Drops"]};let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:11,vars:28,consts:[[3,"title","price","statHeaders","stats","fusionHeaders","inherits"],[3,"title","statHeaders","stats"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"title","hasLvl","hasTarget","elemOrder","compendium","skillLevels"],[4,"ngIf"]],template:function(e,t){1&e&&(i.TgZ(0,"app-demon-stats",0),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.qZA(),i._UZ(5,"app-demon-stats",1),i.YNc(6,S,1,2,"app-demon-resists",2),i._UZ(7,"app-demon-resists",3),i._UZ(8,"app-demon-skills",4),i._UZ(9,"app-demon-skills",4),i.YNc(10,H,1,0,"app-p1-fusion-table",5)),2&e&&(i.Q6J("title","Lvl "+t.demon.lvl+" "+t.demon.race+" "+t.demon.name)("price",t.demon.price)("statHeaders",t.compConfig.enemyStats)("stats",t.demon.stats)("fusionHeaders",i.DdM(27,Q))("inherits",t.demon.inherits),i.xp6(2),i.Oqu(t.demon.trait),i.xp6(2),i.Oqu(t.demon.drop),i.xp6(1),i.Q6J("title","Stats")("statHeaders",t.compConfig.baseStats)("stats",t.demon.atks),i.xp6(1),i.Q6J("ngIf",t.compConfig.presistElems.length),i.xp6(1),i.Q6J("resistHeaders",t.compConfig.mresistElems)("resists",t.demon.mresists),i.xp6(1),i.Q6J("title","Transferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",t.compConfig.elemOrder)("compendium",t.compendium)("skillLevels",t.demon.transfers),i.xp6(1),i.Q6J("title","Nontransferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",t.compConfig.elemOrder)("compendium",t.compendium)("skillLevels",t.demon.skills),i.xp6(1),i.Q6J("ngIf","p1"===t.compConfig.appCssClasses[0]))},directives:[d.O,a.O5,f.I,Z.n,F],encapsulation:2,changeDetection:0}),e})();function Y(e,t){if(1&e&&(i.TgZ(0,"table",5),i.TgZ(1,"thead"),i.TgZ(2,"tr"),i.TgZ(3,"th",6),i._uU(4,"Special Fusion Condition"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(5,"tbody"),i.TgZ(6,"tr"),i.TgZ(7,"td"),i._uU(8),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const e=i.oxw(2);i.xp6(8),i.Oqu(e.demon.prereq)}}function L(e,t){if(1&e&&i._UZ(0,"app-fusion-entry-table",12),2&e){const e=i.oxw(2);i.Q6J("title","Mutates From")("baseUrl","..")("rowData",e.mutatesFrom)}}function E(e,t){if(1&e&&i._UZ(0,"app-fusion-entry-table",12),2&e){const e=i.oxw(2);i.Q6J("title","Mutates To")("baseUrl","..")("rowData",e.mutatesTo)}}function B(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e)}}function M(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e)}}function P(e,t){if(1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"td"),i._uU(2),i.qZA(),i.YNc(3,M,2,1,"td",7),i.qZA()),2&e){const e=t.$implicit,n=t.index;i.xp6(2),i.Oqu(n+1),i.xp6(1),i.Q6J("ngForOf",e)}}function $(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e)}}function j(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e)}}function G(e,t){if(1&e&&i._UZ(0,"app-demon-resists",9),2&e){const e=i.oxw(2);i.Q6J("resistHeaders",e.compConfig.presistElems)("resists",e.demon.presists)}}function X(e,t){1&e&&i._UZ(0,"app-p1-fission-table")}const z=function(){return["Traits","Returns"]};function K(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"app-demon-stats",2),i.TgZ(2,"td"),i._uU(3),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.qZA(),i.YNc(6,Y,9,1,"table",3),i.YNc(7,L,1,3,"app-fusion-entry-table",4),i.YNc(8,E,1,3,"app-fusion-entry-table",4),i.TgZ(9,"table",5),i.TgZ(10,"thead"),i.TgZ(11,"tr"),i.TgZ(12,"th",6),i._uU(13,"Stat Growths"),i.qZA(),i.qZA(),i.TgZ(14,"tr"),i.TgZ(15,"th"),i._uU(16,"Rank"),i.qZA(),i.YNc(17,B,2,1,"th",7),i.qZA(),i.qZA(),i.TgZ(18,"tbody"),i.YNc(19,P,4,2,"tr",7),i.qZA(),i.qZA(),i.TgZ(20,"table",5),i.TgZ(21,"thead"),i.TgZ(22,"tr"),i.TgZ(23,"th",6),i._uU(24,"Party Affinities"),i.qZA(),i.qZA(),i.TgZ(25,"tr"),i.YNc(26,$,2,1,"th",7),i.qZA(),i.qZA(),i.TgZ(27,"tbody"),i.TgZ(28,"tr"),i.YNc(29,j,2,1,"td",7),i.qZA(),i.qZA(),i.qZA(),i.YNc(30,G,1,2,"app-demon-resists",8),i._UZ(31,"app-demon-resists",9),i._UZ(32,"app-demon-inherits",10),i._UZ(33,"app-demon-skills",11),i.YNc(34,X,1,0,"app-p1-fission-table",0),i.BQk()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("title","Lvl "+e.demon.lvl+" "+e.demon.race+" "+e.demon.name)("statHeaders",e.compConfig.baseAtks)("stats",e.demon.atks)("inherits",e.demon.inherits)("fusionHeaders",i.DdM(26,z)),i.xp6(2),i.Oqu(e.demon.trait),i.xp6(2),i.Oqu(e.demon.drop),i.xp6(1),i.Q6J("ngIf",e.demon.prereq),i.xp6(1),i.Q6J("ngIf",e.mutatesFrom.length),i.xp6(1),i.Q6J("ngIf",e.mutatesTo.length),i.xp6(4),i.uIk("colSpan",e.compConfig.baseStats.length+1),i.xp6(5),i.Q6J("ngForOf",e.compConfig.baseStats),i.xp6(2),i.Q6J("ngForOf",e.statGrowths),i.xp6(4),i.uIk("colSpan",e.compConfig.party.length),i.xp6(3),i.Q6J("ngForOf",e.compConfig.party),i.xp6(3),i.Q6J("ngForOf",e.partyAffines),i.xp6(1),i.Q6J("ngIf",e.compConfig.presistElems.length),i.xp6(1),i.Q6J("resistHeaders",e.compConfig.mresistElems)("resists",e.demon.mresists),i.xp6(1),i.Q6J("inheritHeaders",e.compConfig.inheritElems)("inherits",e.demon.affinities),i.xp6(1),i.Q6J("elemOrder",e.compConfig.elemOrder)("hasTarget",!0)("compendium",e.compendium)("skillLevels",e.demon.skills),i.xp6(1),i.Q6J("ngIf","p1"===e.compConfig.appCssClasses[0])}}function V(e,t){if(1&e&&i._UZ(0,"app-demon-missing",13),2&e){const e=i.oxw();i.Q6J("name",e.name)}}function ee(e,t){if(1&e&&i._UZ(0,"app-demon-entry",1),2&e){const e=i.oxw();i.Q6J("name",e.name)("demon",e.demon)("compConfig",e.compConfig)("compendium",e.compendium)}}function te(e,t){if(1&e&&i._UZ(0,"app-enemy-entry",1),2&e){const e=i.oxw();i.Q6J("name",e.name)("demon",e.demon)("compConfig",e.compConfig)("compendium",e.compendium)}}let ne=(()=>{class e{constructor(){this.affinityLookup={0:"Great",50:"Good",100:"Norm",1150:"Bad",1200:"Worst"}}ngOnChanges(){const e=[this.demon.stats];for(const t of this.compendium.getStatGrowths(this.demon.growth))e.push(e[e.length-1].map((e,n)=>e+t[n]));this.statGrowths=e,this.partyAffines=this.demon.party.map(e=>this.affinityLookup[e]),this.mutatesTo=this.compendium.reverseLookupSpecial(this.demon.name).map(e=>this.compendium.getDemon(e)).map(e=>({price:e.atks[0],race1:e.race,lvl1:e.lvl,name1:e.name})),this.mutatesFrom=this.compendium.getSpecialNameEntries(this.demon.name).map(e=>this.compendium.getDemon(e)).map(e=>({price:e.atks[0],race1:e.race,lvl1:e.lvl,name1:e.name}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},features:[i.TTD],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","statHeaders","stats","inherits","fusionHeaders"],["class","entry-table",4,"ngIf"],[3,"title","baseUrl","rowData",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"inheritHeaders","inherits"],[3,"elemOrder","hasTarget","compendium","skillLevels"],[3,"title","baseUrl","rowData"],[3,"name"]],template:function(e,t){1&e&&(i.YNc(0,K,35,27,"ng-container",0),i.YNc(1,V,1,1,"app-demon-missing",1)),2&e&&(i.Q6J("ngIf",t.demon),i.xp6(1),i.Q6J("ngIf",!t.demon))},directives:[a.O5,d.O,a.sg,f.I,v.N,Z.n,b.P,I,y.t],encapsulation:2,changeDetection:0}),e})(),se=(()=>{class e{constructor(e,t,n,s,i){this.route=e,this.title=t,this.changeDetectorRef=n,this.currentDemonService=s,this.fusionDataService=i,this.subscriptions=[],this.appName="Test App",this.appName=i.appName,this.compConfig=i.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(e=>{this.compendium=e,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(e=>{this.name=e,this.getDemonEntry()})),this.route.params.subscribe(e=>{this.currentDemonService.nextCurrentDemon(e.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name),this.changeDetectorRef.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(s.gz),i.Y36(u.Dx),i.Y36(i.sBO),i.Y36(U.s),i.Y36(r.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium"]],template:function(e,t){1&e&&(i.YNc(0,ee,1,4,"app-demon-entry",0),i.YNc(1,te,1,4,"app-enemy-entry",0)),2&e&&(i.Q6J("ngIf",!t.demon||!t.demon.isEnemy),i.xp6(1),i.Q6J("ngIf",t.demon&&t.demon.isEnemy))},directives:[a.O5,ne,R],encapsulation:2,changeDetection:0}),e})();var ie=n(9261),re=n(3787);let oe=(()=>{class e extends ie.e{constructor(e,t,n){super(e,t,n),this.compConfig=n.compConfig,this.appName=`List of Skills - ${n.appName}`,this.defaultSortFun=(e,t)=>1e4*(this.compConfig.elemOrder[e.element]-this.compConfig.elemOrder[t.element])+e.rank-t.rank}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(u.Dx),i.Y36(i.sBO),i.Y36(r.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-skill-list-container"]],features:[i.qOj],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(e,t){1&e&&(i._UZ(0,"app-smt-skill-list",0),i.ALo(1,"async")),2&e&&i.Q6J("elemOrder",t.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Inherit From")("rowData",i.lcZ(1,6,t.skills))},directives:[re.J],pipes:[a.Ov],encapsulation:2,changeDetection:0}),e})();function ae(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.slice(0,4))}}const ce=function(e){return[e]};function le(e,t){if(1&e&&(i.TgZ(0,"td",4),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("ngClass",i.VKq(2,ce,e.slice(0,8))),i.xp6(1),i.Oqu(e.slice(8,12))}}function pe(e,t){if(1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"th"),i._uU(2),i.qZA(),i.YNc(3,le,2,4,"td",3),i.TgZ(4,"th"),i._uU(5),i.qZA(),i.qZA()),2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e[0]),i.xp6(1),i.Q6J("ngForOf",e.slice(1,e.length-1)),i.xp6(2),i.Oqu(e[e.length-1])}}function me(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.slice(0,4))}}function ue(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.slice(0,4))}}function ge(e,t){if(1&e&&(i.TgZ(0,"td",4),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("ngClass",i.VKq(2,ce,e.slice(0,4))),i.xp6(1),i.Oqu(e.slice(4))}}function he(e,t){if(1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"th"),i._uU(2),i.qZA(),i.YNc(3,ge,2,4,"td",3),i.TgZ(4,"th"),i._uU(5),i.qZA(),i.qZA()),2&e){const e=t.$implicit;i.xp6(2),i.Oqu(e[0]),i.xp6(1),i.Q6J("ngForOf",e.slice(1,e.length-1)),i.xp6(2),i.Oqu(e[e.length-1])}}function de(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Oqu(e.slice(0,4))}}let fe=(()=>{class e{ngOnChanges(){this.normChart&&this.fillFusionChart()}getColorClass(e,t){const n=this.normChart.fuseColors[e].charAt(t);return"B"===n?"blu":"R"===n?"red":"whi"}getInheritClass(e,t){const n=this.normChart.fuseInherits[e].charAt(t);return"2"===n?"sec":"1"===n?"fir":"T"===n?"unf":"0"===n?"non":"emp"}fillFusionChart(){const e="None",t=[],n=[],s=this.normChart.races,i=this.normChart.elementDemons;t.push([""].concat(s,[""]));for(let r=0;r<s.length;r++){const n=s[r],i=[s[r]];for(let e=0;e<r;e++)i.push("Empt    -");for(let t=r;t<s.length;t++){const o=this.normChart.getRaceFusion(n,s[t])||e;i.push(`${this.getColorClass(r,t)} ${this.getInheritClass(r,t)} ${o}`)}i.push(s[r]),t.push(i)}t.push([""].concat(s,[""])),this.table=t,n.push([""].concat(k.FR,[""]));for(const r of i){const t=[r],s=this.normChart.getElemFusions(r);for(const n of k.FR){const i=(s[n]||e).toString(),r=i.length<2?"+"+i:i;t.push(r.replace("+","ran").replace("-","ra-")+r)}t.push(r),n.push(t)}n.push([""].concat(k.FR,[""])),this.elemTable=n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-p1-fusion-chart"]],inputs:{normChart:"normChart",normTitle:"normTitle",elemTitle:"elemTitle"},features:[i.TTD],decls:20,vars:10,consts:[[1,"p1-fusion-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(e,t){1&e&&(i.TgZ(0,"table",0),i.TgZ(1,"tbody"),i.TgZ(2,"tr"),i.TgZ(3,"th",1),i._uU(4),i.qZA(),i.qZA(),i.TgZ(5,"tr"),i.YNc(6,ae,2,1,"th",2),i.qZA(),i.YNc(7,pe,6,3,"tr",2),i.TgZ(8,"tr"),i.YNc(9,me,2,1,"th",2),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"table",0),i.TgZ(11,"tbody"),i.TgZ(12,"tr"),i.TgZ(13,"th",1),i._uU(14),i.qZA(),i.qZA(),i.TgZ(15,"tr"),i.YNc(16,ue,2,1,"th",2),i.qZA(),i.YNc(17,he,6,3,"tr",2),i.TgZ(18,"tr"),i.YNc(19,de,2,1,"th",2),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.xp6(3),i.uIk("colspan",t.table[0].length),i.xp6(1),i.Oqu(t.normTitle),i.xp6(2),i.Q6J("ngForOf",t.table[0]),i.xp6(1),i.Q6J("ngForOf",t.table.slice(1,t.table.length-1)),i.xp6(2),i.Q6J("ngForOf",t.table[t.table.length-1]),i.xp6(4),i.uIk("colspan",t.elemTable[0].length),i.xp6(1),i.Oqu(t.elemTitle),i.xp6(2),i.Q6J("ngForOf",t.elemTable[0]),i.xp6(1),i.Q6J("ngForOf",t.elemTable.slice(1,t.elemTable.length-1)),i.xp6(2),i.Q6J("ngForOf",t.elemTable[t.elemTable.length-1]))},directives:[a.sg,a.mk],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.emp[_ngcontent-%COMP%], td.Empt[_ngcontent-%COMP%], td.None[_ngcontent-%COMP%]{color:transparent}td.Empt[_ngcontent-%COMP%]{background-color:initial}"],changeDetection:0}),e})();const ve=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:p,data:{fusionTool:"chart"},children:[{path:"chart",component:(()=>{class e{constructor(e,t,n,s){this.title2=e,this.route=t,this.changeDetectorRef=n,this.fusionDataService=s,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(e=>{this.appName=e.appName,this.title2.setTitle(`Fusion Chart - ${e.appName} Fusion Calculator`)})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(e=>{this.changeDetectorRef.markForCheck(),this.normChart=e}))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(u.Dx),i.Y36(s.gz),i.Y36(i.sBO),i.Y36(r.Y))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-fusion-chart-container"]],decls:1,vars:3,consts:[[3,"normChart","normTitle","elemTitle"]],template:function(e,t){1&e&&i._UZ(0,"app-p1-fusion-chart",0),2&e&&i.Q6J("normChart",t.normChart)("normTitle",t.appName+" - Normal Fusions")("elemTitle",t.appName+" - Gem Fusions")},directives:[fe],encapsulation:2,changeDetection:0}),e})()}]},{path:"",component:p,children:[{path:"personas/:demonName",component:se},{path:"demons/:demonName",component:se},{path:"personas",component:h},{path:"demons",component:h,data:{showEnemies:!0}},{path:"skills",component:oe}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let Ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[s.Bz.forChild(ve)],s.Bz]}),e})()},890:(e,t,n)=>{"use strict";function s(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=n;return t}n.d(t,{FR:()=>i,IW:()=>r,lw:()=>a,XI:()=>c});const i=["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Strength","Hermit","Fortune","Justice","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement","World","Fool"],r=i.concat(["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul","Karma","Fiend","Meta"]).concat(["Gem"]),o=["sword1h","sword2h","spear","axe","whip","thrown","arrow","fist","handgun","autogun","shotgun","rifle","tech","rush"].concat("fire","ice","wind","earth","elec","nuke","blast","gravity","expel","miracle","bless","prayer","death","curse","nerve","occult","almighty","spec"),a=(s(r),s(o),"p1-fusion-tool-settings"),c="Megami Ibunroku Persona"},9159:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var s=n(8512);class i{constructor(e){this.compConfig=e,this.specialNameEntries={},this.specialNamePairs={},this.invertedSpecials={},this.dlcDemons={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const{demons:e,enemies:t,skills:n}=this.compConfig,s={},i={},r={},o={};for(const[a,c]of Object.entries(this.compConfig.mutations)){r[a]=c;for(const e of c)s[e]||(s[e]=[]),s[e].push(a)}for(const[a,c]of Object.entries(this.compConfig.fusionPrereqs))e[a].prereq=c,"normal"===e[a].fusion&&(e[a].fusion="special"),i[a]=[{name1:a,name2:a}];for(const[a,c]of Object.entries(this.compConfig.specialRecipes))c.length>0?i[a]=[{name1:c[0],name2:c[1]}]:(e[a].prereq="Fusion Accident",e[a].fusion="accident");for(const a of this.compConfig.races)o[a]={};for(const a of Object.values(e).sort((e,t)=>e.lvl-t.lvl)){o[a.race][a.lvl]=a.name;for(const[e,t]of Object.entries(a.skills))n[e].learnedBy.push({demon:a.name,level:t})}for(const a of Object.values(t).sort((e,t)=>e.lvl-t.lvl)){o[a.race][a.lvl]=a.name;for(const[e,t]of Object.entries(a.transfers))n[e].transfer.push({demon:a.name,level:t})}for(const a of Object.values(n))if(""!==a.card)for(const n of a.card.split(", "))e[n]?a.learnedBy.push({demon:n,level:5084}):t[n]&&a.transfer.push({demon:n,level:3680});this.demons=e,this.enemies=t,this.skills=n,this.specialNameEntries=s,this.specialNamePairs=i,this.invertedSpecials=r,this.invertedDemons=o}updateDerivedData(){const e=Object.keys(this.skills).map(e=>this.skills[e]),t={},n={};for(const r of this.compConfig.races)t[r]=[],n[r]=[];for(const[r,o]of Object.entries(this.demons))"normal"===this.demons[r].fusion&&n[o.race].push(o.lvl);for(const[r,o]of Object.entries(this.enemies))t[o.race].push(o.lvl);for(const r of this.compConfig.races)t[r].sort((e,t)=>e-t),n[r].sort((e,t)=>e-t);const s=Object.keys(this.demons).map(e=>this.demons[e]),i=Object.keys(this.enemies).map(e=>this.enemies[e]);this._allDemons=i.concat(s),this._allSkills=e.filter(e=>e.rank<90),this.allIngredients=t,this.allResults=n}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return this._allDemons.filter(e=>"special"===e.fusion)}getDemon(e){return this.enemies[e]||this.demons[e]}getEnemy(e){return this.enemies[e]}getSkill(e){return this.skills[e]}getSkills(e){const t=this.compConfig.elemOrder,n=e.map(e=>this.skills[e]);return n.sort((e,n)=>1e4*(t[e.element]-t[n.element])+e.rank-n.rank),n}getStatGrowths(e){return this.compConfig.growthTypes[e]||[]}getIngredientDemonLvls(e){return this.allIngredients[e]||[]}getResultDemonLvls(e){return this.allResults[e]||[]}getSpecialNameEntries(e){return this.specialNameEntries[e]||[]}getSpecialNamePairs(e){return this.specialNamePairs[e]||[]}getInheritElems(e){return e.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(e=>100*parseInt(e))}reverseLookupDemon(e,t){return this.invertedDemons[e][t]}reverseLookupSpecial(e){return this.invertedSpecials[e]||[]}isElementDemon(e){return!1}}var r=n(6829),o=n(44);const a=JSON.parse('{"sn":["Alexandrite","Diamond","Sapphire","Emerald","Ruby","Pearl","Tanzanite","Opal","Amethyst","Garnet","Aquamarine","Topaz","Moonstone","Malachite","Onyx","Turquoise"],"MG":["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Hermit","Justice","Sun","Judgement","World","Fool"],"Kz":[[1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0,1],[1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,0,1,0],[-2,0,-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2],[1,1,0,0,-1,1,0,1,1,1,-1,1,0,-1,1,0],[1,0,-2,2,-2,0,-1,2,0,1,1,2,-1,1,0,-1],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,1,1,0]]}');class c extends r.g{constructor(){super(),this.elementDemons=[],this.lvlModifier=2.5,this.initCharts()}initCharts(){const e=o.MG,t=o.Kz,n=a.MG,s=a.Kz,i=a.sn;this.races=e,this.elementDemons=i,this.fusionChart=r.g.loadFusionTableJson(e,t),this.fissionChart=r.g.loadFissionTableJson(e,i,t),this.elementChart=r.g.loadElementTableJson(n,i,s),this.fuseColors=o.O9,this.fuseInherits=o.XW}getLightDark(e){return 0}}var l=n(5539),p=n(890),m=n(5614);let u=(()=>{class e{constructor(e){this.fissionCalculator=l.uC,this.fusionCalculator=l.YP,this.settingsKey=p.lw,this.appName=p.XI+" Fusion Calculator",this._fusionChart=new c,this._fusionChart$=new s.X(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._compendium=new i(e),this._compendium$=new s.X(this._compendium),this.compendium=this._compendium$.asObservable(),this.compConfig=e}nextDlcDemons(e){}}return e.\u0275fac=function(t){return new(t||e)(m.LFG(l.I7))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac}),e})()},8915:(e,t,n)=>{"use strict";n.d(t,{e:()=>c});var s=n(1116),i=n(5425),r=n(6487),o=n(6193),a=n(5614);let c=(()=>{class e{static forRoot(){return{ngModule:e}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.ez,i.m,r.a,o.V]]}),e})()},44:e=>{"use strict";e.exports=JSON.parse('{"O9":["-WWRBRWWWRBWRWWBBWW",".-BWWWRBRWWRWBBWWRR","..-WWWRBRWWRWBBWWRR","...-RBWWWBRWBWWRRWW","....-RWWWRBWRWWBBWW",".....-WWWBRWBWWRRWW","......-RBWWBWRRWWBB",".......-RWWRWBBWWRR","........-WWBWRRWWBB",".........-RWBWWRRWW","..........-WRWWBBWW","...........-WRRWWBB","............-WWRRWW",".............-BWWRR","..............-WWRR","...............-BWW","................-WW",".................-B","..................-"],"XW":["-2200000011TTTT0000",".-200000011TTTT0000","..-00000011TTTT0000","...-20011000000TTT0","....-0011000000TTT0",".....-2TT0011110000","......-TT0011110000",".......-20000000000","........-0000000000",".........-20000000T","..........-0000000T","...........-2220000","............-220000",".............-20000","..............-0000","...............-221","................-21",".................-1","..................-"],"MG":["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul"],"Kz":[["-","Emperor","Magician","Lovers","Devil","Sun","Judgement","Magician","Justice","Hermit","Sun","Priestess","Star","Justice","Death","Lovers","Hanged","Magician","Emperor"],["-","Magician","Lovers","Lovers","Emperor","Emperor","Sun","Justice","Emperor","Temperance","Justice","Emperor","Lovers","Emperor","Temperance","Lovers","Lovers","Temperance"],["-","Priestess","Magician","Hermit","Moon","Hermit","Empress","Priestess","Hermit","Magician","Hierophant","Temperance","Chariot","Judgement","Hermit","Magician","Hanged"],["-","Judgement","Judgement","Devil","Magician","Sun","Priestess","Priestess","Hierophant","Fortune","World","Death","Hierophant","Hanged","Judgement","Priestess"],["-","Temperance","Moon","Judgement","World","Hermit","Tower","Moon","Devil","Empress","Temperance","Moon","Magician","Devil","Moon"],["-","Priestess","Chariot","Empress","World","Chariot","Empress","Hierophant","Hierophant","Justice","Tower","World","Sun","World"],["-","World","Chariot","Justice","Tower","Justice","Chariot","Strength","Hierophant","World","Chariot","World","Hierophant"],["-","Sun","Star","Hanged","Hermit","Empress","Empress","Justice","Justice","Lovers","Judgement","Lovers"],["-","Priestess","Emperor","Empress","Fortune","Emperor","Sun","Sun","Moon","Moon","Judgement"],["-","Chariot","Temperance","Strength","Chariot","Hierophant","Temperance","Chariot","Temperance","Magician"],["-","Sun","Fortune","Strength","Sun","Hermit","Emperor","Judgement","Tower"],["-","Empress","Priestess","Empress","Moon","Empress","Temperance","Priestess"],["-","Hierophant","Justice","Death","Moon","Hermit","Hierophant"],["-","Star","Hermit","World","Star","Strength"],["-","Sun","Chariot","World","Fortune"],["-","Death","Judgement","Moon"],["-","World","Lovers"],["-","Star"],["-"]]}')}}]);