"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[532],{5583:(b,S,g)=>{g.d(S,{f:()=>R});var t=g(3885),n=g(9108),e=g(1090),i=g(2598),f=g(177),r=g(8935),o=g(4207);const s=function(){return{exact:!0}};function a(h,L){if(1&h&&(i.j41(0,"th",2)(1,"a",3),i.EFF(2),i.k0s()()),2&h){const C=L.$implicit,F=i.XpG().$implicit;i.xc7("width",1/F,"%"),i.Y8G("routerLink",C.link)("routerLinkActiveOptions",i.lJ4(6,s)),i.R7$(1),i.Y8G("routerLink",C.link),i.R7$(1),i.SpI(" ",C.title," ")}}function l(h,L){if(1&h&&(i.j41(0,"th",11)(1,"a",12),i.EFF(2),i.nI1(3,"translateComp"),i.k0s()()),2&h){const C=i.XpG().$implicit,F=i.XpG();i.xc7("width",1/C,"%"),i.R7$(2),i.SpI(" ",i.i5U(3,3,F.msgs.FusionSettings,F.lang)," ")}}const c=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function u(h,L){if(1&h&&(i.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"a",3),i.EFF(5),i.nI1(6,"translateComp"),i.k0s()(),i.j41(7,"th",4)(8,"a",5),i.EFF(9),i.nI1(10,"translateComp"),i.k0s()(),i.j41(11,"th",6)(12,"a",7),i.EFF(13),i.nI1(14,"translateComp"),i.k0s()(),i.DNE(15,a,3,7,"th",8),i.DNE(16,l,4,6,"th",9),i.k0s(),i.j41(17,"tr")(18,"th",10),i.EFF(19),i.nI1(20,"translateComp"),i.k0s()()()()),2&h){const C=L.$implicit,F=i.XpG();i.Y8G("ngStyle",i.lJ4(30,c)),i.R7$(3),i.xc7("width",1/C,"%"),i.Y8G("routerLink",F.mainList+"s")("routerLinkActiveOptions",i.lJ4(31,s)),i.R7$(1),i.Y8G("routerLink",F.mainList+"s"),i.R7$(1),i.SpI(" ",i.i5U(6,18,"demon"===F.mainList?F.msgs.DemonList:F.msgs.PersonaList,F.lang)," "),i.R7$(2),i.xc7("width",1/C,"%"),i.R7$(2),i.SpI(" ",i.i5U(10,21,F.msgs.SkillList,F.lang)," "),i.R7$(2),i.xc7("width",1/C,"%"),i.R7$(2),i.SpI(" ",i.i5U(14,24,F.msgs.FusionChart,F.lang)," "),i.R7$(2),i.Y8G("ngForOf",F.otherLinks),i.R7$(1),i.Y8G("ngIf",F.hasSettings),i.R7$(2),i.BMQ("colspan",C),i.R7$(1),i.Lme("",F.appName,"",i.i5U(20,27,F.msgs.FusionCalculator,F.lang),"")}}function d(h,L){if(1&h&&(i.j41(0,"div",3),i.nrm(1,"app-demon-compendium-header",4),i.k0s()),2&h){const C=i.XpG();i.R7$(1),i.Y8G("appName",C.appName)("mainList",C.mainList)("hasSettings",C.hasSettings)("lang",C.lang)("otherLinks",C.otherLinks)}}function _(h,L){if(1&h&&(i.j41(0,"div"),i.nrm(1,"app-demon-compendium-header",4),i.k0s()),2&h){const C=i.XpG();i.R7$(1),i.Y8G("appName",C.appName)("mainList",C.mainList)("hasSettings",C.hasSettings)("lang",C.lang)("otherLinks",C.otherLinks)}}const p=function(h){return{marginLeft:"auto",marginRight:"auto",width:h}};let m=(()=>{class h{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.lang="en",this.otherLinks=[],this.msgs=e.fu}static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",lang:"lang",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(F,y){1&F&&i.DNE(0,u,21,32,"table",0),2&F&&i.Y8G("ngIf",3+y.otherLinks.length+(y.hasSettings?1:0))},dependencies:[f.Sq,f.bT,f.B3,r.Wk,r.wQ,o.uz],encapsulation:2,changeDetection:0})}}return h})(),R=(()=>{class h{constructor(C){this.route=C,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(C=>{this.appName=C.appName||"Shin Megami Tensei",this.isChart="chart"===C.fusionTool,this.lang=C.lang})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const C of this.subscriptions)C.unsubscribe()}static{this.\u0275fac=function(F){return new(F||h)(i.rXU(r.nX))}}static{this.\u0275cmp=i.VBU({type:h,selectors:[["app-demon-compendium"]],viewQuery:function(F,y){if(1&F&&i.GBs(n.a,5),2&F){let j;i.mGM(j=i.lsd())&&(y.stickyTable=j.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[i.Jv_([t.P])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","lang","otherLinks"]],template:function(F,y){1&F&&(i.j41(0,"div",0),i.DNE(1,d,2,5,"div",1),i.DNE(2,_,2,5,"div",2),i.nrm(3,"router-outlet"),i.k0s()),2&F&&(i.Y8G("ngStyle",i.eq3(3,p,y.isChart?"auto":"1080px")),i.R7$(1),i.Y8G("ngIf",!y.isChart),i.R7$(1),i.Y8G("ngIf",y.isChart))},dependencies:[f.bT,f.B3,r.n3,n.a,m],encapsulation:2,changeDetection:0})}}return h})()},5692:(b,S,g)=>{g.d(S,{X:()=>r});var t=g(2598),n=g(177),e=g(8935);function i(o,s){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.j41(2,"a",3),t.EFF(3),t.k0s()()),2&o){const a=t.XpG();t.R7$(1),t.SpI(" Error: Could not find entry in compendium for ",a.name,". Did you mean: "),t.R7$(1),t.Mz_("routerLink","../",a.name.split("%20").join(" "),""),t.R7$(1),t.JRh(a.name.split("%20").join(" "))}}function f(o,s){if(1&o&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&o){const a=t.XpG();t.R7$(1),t.SpI("Error: Could not find entry in compendium for ",a.name,"")}}let r=(()=>{class o{static{this.\u0275fac=function(l){return new(l||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(l,c){1&l&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.EFF(4),t.k0s()()(),t.j41(5,"tbody")(6,"tr"),t.DNE(7,i,4,3,"td",2),t.DNE(8,f,2,1,"td",2),t.k0s()()()),2&l&&(t.R7$(4),t.SpI("Entry for ",c.name,""),t.R7$(3),t.Y8G("ngIf",c.name&&c.name.includes("%20")),t.R7$(1),t.Y8G("ngIf",!c.name||!c.name.includes("%20")))},dependencies:[n.bT,e.Wk],encapsulation:2,changeDetection:0})}}return o})()},2223:(b,S,g)=>{g.d(S,{w:()=>p});var t=g(1090),n=g(2598),e=g(177),i=g(4207);function f(m,R){if(1&m&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&m){const h=n.XpG(2);n.BMQ("colSpan",h.ailmentHeaders.length),n.R7$(1),n.JRh(n.i5U(2,2,h.msgs.Ailment,h.lang))}}const r=function(m){return["element-icon",m]};function o(m,R){if(1&m&&(n.j41(0,"th")(1,"div",6),n.EFF(2),n.k0s()()),2&m){const h=R.$implicit,L=n.XpG(2);n.xc7("width",(L.ailmentHeaders.length?50:100)/L.resistHeaders.length,"%"),n.R7$(1),n.Y8G("ngClass",n.eq3(4,r,h)),n.R7$(1),n.JRh(h)}}function s(m,R){if(1&m&&(n.j41(0,"th")(1,"div"),n.EFF(2),n.k0s()()),2&m){const h=R.$implicit,L=n.XpG(2);n.xc7("width",50/L.ailmentHeaders.length,"%"),n.R7$(2),n.JRh(h)}}const a=function(m){return["resists",m]};function l(m,R){if(1&m&&(n.j41(0,"td",6),n.nI1(1,"reslvlToColor"),n.EFF(2),n.nI1(3,"reslvlToStringJa"),n.k0s()),2&m){const h=R.$implicit,L=n.XpG(2);n.Y8G("ngClass",n.eq3(7,a,n.bMT(1,2,h))),n.R7$(2),n.SpI(" ",n.i5U(3,4,h,L.lang)," ")}}function c(m,R){if(1&m&&(n.j41(0,"td",6),n.nI1(1,"reslvlToString"),n.EFF(2),n.nI1(3,"reslvlToStringJa"),n.k0s()),2&m){const h=R.$implicit,L=n.XpG(2);n.Y8G("ngClass",n.eq3(7,a,n.bMT(1,2,h))),n.R7$(2),n.SpI(" ",n.i5U(3,4,h,L.lang)," ")}}function u(m,R){if(1&m&&(n.j41(0,"td",6),n.EFF(1),n.nI1(2,"resmodToString"),n.k0s()),2&m){const h=R.$implicit;n.Y8G("ngClass",n.eq3(4,a,h%1024==40?"no":"")),n.R7$(1),n.SpI(" ",n.bMT(2,2,h)," ")}}function d(m,R){if(1&m&&(n.j41(0,"td",6),n.EFF(1),n.nI1(2,"resmodToString"),n.k0s()),2&m){const h=R.$implicit;n.Y8G("ngClass",n.eq3(4,a,h%1024==40?"no":"")),n.R7$(1),n.SpI(" ",n.bMT(2,2,h)," ")}}function _(m,R){if(1&m&&(n.j41(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),n.EFF(4),n.nI1(5,"translateComp"),n.k0s()(),n.j41(6,"tr")(7,"th"),n.EFF(8),n.nI1(9,"translateComp"),n.k0s(),n.DNE(10,f,3,5,"th",3),n.k0s(),n.j41(11,"tr"),n.DNE(12,o,3,6,"th",4),n.DNE(13,s,3,3,"th",4),n.k0s()(),n.j41(14,"tbody")(15,"tr"),n.DNE(16,l,4,9,"td",5),n.DNE(17,c,4,9,"td",5),n.k0s(),n.j41(18,"tr"),n.DNE(19,u,3,6,"td",5),n.DNE(20,d,3,6,"td",5),n.k0s()()()),2&m){const h=n.XpG();n.R7$(3),n.BMQ("colspan",h.resistHeaders.length+h.ailmentHeaders.length),n.R7$(1),n.JRh(h.title||n.i5U(5,11,h.msgs.Resistances,h.lang)),n.R7$(3),n.BMQ("colSpan",h.resistHeaders.length),n.R7$(1),n.JRh(n.i5U(9,14,h.msgs.Element,h.lang)),n.R7$(2),n.Y8G("ngIf",h.ailmentHeaders.length),n.R7$(2),n.Y8G("ngForOf",h.resistHeaders),n.R7$(1),n.Y8G("ngForOf",h.ailmentHeaders),n.R7$(3),n.Y8G("ngForOf",h.resists),n.R7$(1),n.Y8G("ngForOf",h.ailments),n.R7$(2),n.Y8G("ngForOf",h.resists),n.R7$(1),n.Y8G("ngForOf",h.ailments)}}let p=(()=>{class m{constructor(){this.title="",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[],this.lang="en",this.msgs=t.wc}static{this.\u0275fac=function(L){return new(L||m)}}static{this.\u0275cmp=n.VBU({type:m,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments",lang:"lang"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(L,C){1&L&&n.DNE(0,_,21,17,"table",0),2&L&&n.Y8G("ngIf",C.resistHeaders.length)},dependencies:[e.YU,e.Sq,e.bT,i.uz,i.FA,i.g7,i.Fz,i.jk],encapsulation:2,changeDetection:0})}}return m})()},302:(b,S,g)=>{g.d(S,{F:()=>d});var t=g(1090),n=g(2598),e=g(177),i=g(2940),f=g(4207);function r(_,p){if(1&_&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&_){const m=n.XpG();n.R7$(1),n.JRh(n.i5U(2,1,m.msgs.Target,m.lang))}}function o(_,p){if(1&_&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&_){const m=n.XpG();n.R7$(1),n.JRh(n.i5U(2,1,m.msgs.Rank,m.lang))}}function s(_,p){1&_&&(n.j41(0,"th"),n.EFF(1,"Inherit"),n.k0s())}function a(_,p){1&_&&(n.j41(0,"th"),n.EFF(1,"Lvl"),n.k0s())}const l=function(_,p){return{extra:_,unique:p}};function c(_,p){if(1&_&&n.nrm(0,"tr",4),2&_){const m=p.$implicit,R=n.XpG();n.Y8G("hasTarget",R.hasTarget)("hasRank",R.hasRank)("hasInherit",R.hasInherit)("hasLearned",!1)("hasLvl",R.hasLvl)("skillLvl",m.level)("data",m)("ngClass",n.l_i(8,l,m.rank>70&&m.rank<90,m.rank>90))}}function u(_,p){if(1&_&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s()()),2&_){const m=n.XpG();n.R7$(1),n.BMQ("colspan",m.skillHeaderLen),n.R7$(1),n.SpI("No ",m.title," Found")}}let d=(()=>{class _{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.lang="en",this.skillHeaderLen=5,this.msgs=t.vf}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(m=>this.compendium.getSkill(m));for(const m of this.skills)m.level=this.skillLevels[m.name];this.elemOrder&&this.skills.sort((m,R)=>200*(m.level-R.level)+this.elemOrder[m.element]-this.elemOrder[R.element])}static{this.\u0275fac=function(R){return new(R||_)}}static{this.\u0275cmp=n.VBU({type:_,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels",lang:"lang"},features:[n.OA$],decls:26,vars:24,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(R,h){1&R&&(n.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),n.EFF(4),n.k0s()(),n.j41(5,"tr")(6,"th"),n.EFF(7),n.nI1(8,"translateComp"),n.k0s(),n.j41(9,"th"),n.EFF(10),n.nI1(11,"translateComp"),n.k0s(),n.j41(12,"th"),n.EFF(13),n.nI1(14,"translateComp"),n.k0s(),n.j41(15,"th"),n.EFF(16),n.nI1(17,"translateComp"),n.k0s(),n.DNE(18,r,3,4,"th",2),n.DNE(19,o,3,4,"th",2),n.DNE(20,s,2,0,"th",2),n.DNE(21,a,2,0,"th",2),n.k0s()(),n.j41(22,"tbody"),n.DNE(23,c,1,11,"tr",3),n.DNE(24,u,3,2,"tr",2),n.nrm(25,"tr"),n.k0s()()),2&R&&(n.R7$(3),n.BMQ("colSpan",h.skillHeaderLen),n.R7$(1),n.JRh(h.title),n.R7$(3),n.JRh(n.i5U(8,12,h.msgs.Elem,h.lang)),n.R7$(3),n.JRh(n.i5U(11,15,h.msgs.Name,h.lang)),n.R7$(3),n.JRh(n.i5U(14,18,h.msgs.Cost,h.lang)),n.R7$(3),n.JRh(n.i5U(17,21,h.msgs.Effect,h.lang)),n.R7$(2),n.Y8G("ngIf",h.hasTarget),n.R7$(1),n.Y8G("ngIf",h.hasRank),n.R7$(1),n.Y8G("ngIf",h.hasInherit),n.R7$(1),n.Y8G("ngIf",h.hasLvl),n.R7$(2),n.Y8G("ngForOf",h.skills),n.R7$(1),n.Y8G("ngIf",!h.skills.length))},dependencies:[e.YU,e.Sq,e.bT,i.t,f.uz],encapsulation:2,changeDetection:0})}}return _})()},3679:(b,S,g)=>{g.d(S,{C:()=>_});var t=g(1090),n=g(2598),e=g(177),i=g(4207);function f(p,m){if(1&p&&(n.j41(0,"h2"),n.EFF(1),n.k0s()),2&p){const R=n.XpG();n.R7$(1),n.JRh(R.title)}}function r(p,m){if(1&p&&(n.j41(0,"th"),n.EFF(1),n.nI1(2,"translateComp"),n.k0s()),2&p){const R=n.XpG();n.R7$(1),n.JRh(n.i5U(2,1,R.msgs.Price,R.lang))}}function o(p,m){if(1&p&&(n.j41(0,"th"),n.EFF(1),n.k0s()),2&p){const R=m.$implicit;n.R7$(1),n.JRh(R)}}function s(p,m){1&p&&(n.j41(0,"th"),n.EFF(1,"Inherits"),n.k0s())}function a(p,m){if(1&p&&(n.j41(0,"th"),n.EFF(1),n.k0s()),2&p){const R=m.$implicit;n.R7$(1),n.JRh(R)}}function l(p,m){if(1&p&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&p){const R=n.XpG();n.R7$(1),n.JRh(R.price)}}function c(p,m){if(1&p&&(n.j41(0,"td"),n.EFF(1),n.k0s()),2&p){const R=m.$implicit;n.R7$(1),n.JRh(R)}}function u(p,m){if(1&p&&(n.j41(0,"td")(1,"div"),n.EFF(2),n.k0s()()),2&p){const R=n.XpG();n.R7$(1),n.ZvI("element-icon i",R.inherits,""),n.R7$(1),n.JRh(R.inherits)}}const d=["*"];let _=(()=>{class p{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.lang="en",this.msgs=t.Cj}static{this.\u0275fac=function(h){return new(h||p)}}static{this.\u0275cmp=n.VBU({type:p,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",lang:"lang"},ngContentSelectors:d,decls:20,vars:13,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(h,L){1&h&&(n.NAR(),n.qex(0),n.DNE(1,f,2,1,"h2",0),n.j41(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),n.EFF(6),n.nI1(7,"translateComp"),n.k0s()(),n.j41(8,"tr"),n.DNE(9,r,3,4,"th",0),n.DNE(10,o,2,1,"th",3),n.DNE(11,s,2,0,"th",0),n.DNE(12,a,2,1,"th",3),n.k0s()(),n.j41(13,"tbody")(14,"tr"),n.DNE(15,l,2,1,"td",0),n.DNE(16,c,2,1,"td",3),n.DNE(17,u,3,4,"td",0),n.SdG(18),n.k0s()()(),n.eu8(19),n.bVm()),2&h&&(n.R7$(1),n.Y8G("ngIf",L.title.includes("Lvl")),n.R7$(4),n.BMQ("colSpan",L.stats.length+L.fusionHeaders.length+(L.inherits?1:0)+(L.price?1:0)),n.R7$(1),n.SpI(" ",L.title.includes("Lvl")?n.i5U(7,10,L.msgs.Stats,L.lang):L.title," "),n.R7$(3),n.Y8G("ngIf",L.price),n.R7$(1),n.Y8G("ngForOf",L.statHeaders),n.R7$(1),n.Y8G("ngIf",L.inherits),n.R7$(1),n.Y8G("ngForOf",L.fusionHeaders),n.R7$(3),n.Y8G("ngIf",L.price),n.R7$(1),n.Y8G("ngForOf",L.stats),n.R7$(1),n.Y8G("ngIf",L.inherits))},dependencies:[e.Sq,e.bT,i.uz],encapsulation:2,changeDetection:0})}}return p})()},9629:(b,S,g)=>{g.d(S,{F:()=>Z});var t=g(2598),n=g(3885),e=g(6661);let i=(()=>{class D extends e.r{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((v,O)=>200*(this.raceOrder[v.race]-this.raceOrder[O.race])+O.lvl-v.lvl,(v,O)=>200*(this.raceOrder[v.race]-this.raceOrder[O.race])+O.lvl-v.lvl,(v,O)=>O.lvl-v.lvl,(v,O)=>v.name.localeCompare(O.name)),this.inheritOrder&&this.sortFuns.push((v,O)=>v.inherits-O.inherits),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((v,O)=>(I,w)=>w.stats[O]-I.stats[O]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((v,O)=>(I,w)=>I.resists[O]-w.resists[O]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((v,O)=>(I,w)=>w.affinities[O]-I.affinities[O])))}getSortFun(v){return this.sortFuns[v]}static{this.\u0275fac=function(){let v;return function(I){return(v||(v=t.xGo(D)))(I||D)}}()}static{this.\u0275dir=t.FsC({type:D,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.Vt3]})}}return D})();var f=g(177),r=g(8935),o=g(4341),s=g(4207),a=g(9108),l=g(361),c=g(1090);const u=["class","app-demon-list-header"];function d(D,H){if(1&D&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&D){const v=t.XpG();t.BMQ("colSpan",v.statColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,v.msgs.Stats,v.lang))}}function _(D,H){if(1&D&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&D){const v=t.XpG();t.BMQ("colSpan",v.resistColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,v.msgs.Resistances,v.lang))}}function p(D,H){if(1&D&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&D){const v=t.XpG();t.BMQ("colSpan",v.affinityColIndices.length),t.R7$(1),t.JRh(t.i5U(2,2,v.msgs.Affinities,v.lang))}}function m(D,H){1&D&&(t.j41(0,"th",5),t.EFF(1,"Enemy"),t.k0s())}function R(D,H){if(1&D){const v=t.RV6();t.j41(0,"th",2),t.bIt("click",function(){t.eBV(v);const I=t.XpG();return t.Njj(I.nextSortFunIndex(4))}),t.EFF(1,"Inherits"),t.k0s()}if(2&D){const v=t.XpG();t.Y8G("ngClass",v.sortDirClass(4))}}function h(D,H){if(1&D){const v=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const w=t.eBV(v).$implicit,V=t.XpG();return t.Njj(V.nextSortFunIndex(w.index))}),t.EFF(1),t.k0s()}if(2&D){const v=H.$implicit;t.R7$(1),t.SpI(" ",v.stat," ")}}function L(D,H){if(1&D){const v=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const w=t.eBV(v).$implicit,V=t.XpG();return t.Njj(V.nextSortFunIndex(w.index))}),t.nrm(1,"div"),t.k0s()}if(2&D){const v=H.$implicit;t.R7$(1),t.ZvI("element-icon ",v.elem,"")}}function C(D,H){if(1&D){const v=t.RV6();t.j41(0,"th",6),t.bIt("click",function(){const w=t.eBV(v).$implicit,V=t.XpG();return t.Njj(V.nextSortFunIndex(w.index))}),t.nrm(1,"div"),t.k0s()}if(2&D){const v=H.$implicit;t.R7$(1),t.ZvI("element-icon ",v.elem,"")}}function F(D,H){1&D&&(t.j41(0,"th"),t.EFF(1,"Drops"),t.k0s())}function y(D,H){1&D&&(t.j41(0,"th"),t.EFF(1,"Appears"),t.k0s())}let j=(()=>{class D extends e.O{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.lang="en",this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[],this.msgs=c.vC}ngOnInit(){this.nextColIndices()}nextColIndices(){let v=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((O,I)=>({stat:O,index:I+v})),v+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((O,I)=>({elem:O,index:I+v})),v+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((O,I)=>({elem:O,index:I+v})))}static{this.\u0275fac=function(){let v;return function(I){return(v||(v=t.xGo(D)))(I||D)}}()}static{this.\u0275cmp=t.VBU({type:D,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",lang:"lang",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.Vt3],attrs:u,decls:26,vars:26,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(O,I){1&O&&(t.j41(0,"tr")(1,"th"),t.EFF(2),t.nI1(3,"translateComp"),t.k0s(),t.DNE(4,d,3,5,"th",0),t.DNE(5,_,3,5,"th",0),t.DNE(6,p,3,5,"th",0),t.DNE(7,m,2,0,"th",1),t.k0s(),t.j41(8,"tr")(9,"th",2),t.bIt("click",function(){return I.nextSortFunIndex(1)}),t.j41(10,"span"),t.EFF(11),t.nI1(12,"translateComp"),t.k0s()(),t.j41(13,"th",2),t.bIt("click",function(){return I.nextSortFunIndex(2)}),t.j41(14,"span"),t.EFF(15,"Lvl"),t.k0s()(),t.j41(16,"th",2),t.bIt("click",function(){return I.nextSortFunIndex(3)}),t.j41(17,"span"),t.EFF(18),t.nI1(19,"translateComp"),t.k0s()(),t.DNE(20,R,2,1,"th",3),t.DNE(21,h,2,1,"th",4),t.DNE(22,L,2,3,"th",4),t.DNE(23,C,2,3,"th",4),t.DNE(24,F,2,0,"th",0),t.DNE(25,y,2,0,"th",0),t.k0s()),2&O&&(t.R7$(1),t.BMQ("colSpan",I.hasInherits?4:3),t.R7$(1),t.JRh(t.i5U(3,17,I.isPersona?I.msgs.Persona:I.msgs.Demon,I.lang)),t.R7$(2),t.Y8G("ngIf",I.statColIndices.length),t.R7$(1),t.Y8G("ngIf",I.resistColIndices.length),t.R7$(1),t.Y8G("ngIf",I.affinityColIndices.length),t.R7$(1),t.Y8G("ngIf",I.isEnemy),t.R7$(2),t.Y8G("ngClass",I.sortDirClass(1)),t.R7$(2),t.JRh(t.i5U(12,20,I.msgs.Race,I.lang)),t.R7$(2),t.Y8G("ngClass",I.sortDirClass(2)),t.R7$(3),t.Y8G("ngClass",I.sortDirClass(3)),t.R7$(2),t.JRh(t.i5U(19,23,I.msgs.Name,I.lang)),t.R7$(2),t.Y8G("ngIf",I.hasInherits),t.R7$(1),t.Y8G("ngForOf",I.statColIndices),t.R7$(1),t.Y8G("ngForOf",I.resistColIndices),t.R7$(1),t.Y8G("ngForOf",I.affinityColIndices),t.R7$(1),t.Y8G("ngIf",I.isEnemy),t.R7$(1),t.Y8G("ngIf",I.isEnemy))},dependencies:[f.YU,f.Sq,f.bT,s.uz],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0})}}return D})();const $=["class","app-smt-demon-list-row"];function P(D,H){if(1&D&&(t.j41(0,"td"),t.EFF(1),t.nI1(2,"lvlToNumber"),t.k0s()),2&D){const v=t.XpG();t.R7$(1),t.JRh(t.bMT(2,1,v.data.lvl))}}function N(D,H){if(1&D){const v=t.RV6();t.j41(0,"button",9),t.bIt("click",function(){t.eBV(v);const I=t.XpG(2);return t.Njj(I.updateCurrRange())}),t.EFF(1),t.k0s()}if(2&D){const v=t.XpG(2);t.R7$(1),t.SpI("",v.data.currLvl," \u270e")}}function M(D,H){if(1&D&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&D){const v=H.index,O=t.XpG(3);t.Y8G("value",v+O.currOffset),t.R7$(1),t.JRh(v+O.currOffset)}}function x(D,H){if(1&D){const v=t.RV6();t.j41(0,"select",10),t.bIt("change",function(I){t.eBV(v);const w=t.XpG(2);return t.Njj(w.emitValidLvl(I))}),t.j41(1,"option",11),t.EFF(2),t.k0s(),t.DNE(3,M,2,2,"option",12),t.k0s()}if(2&D){const v=t.XpG(2);t.R7$(1),t.Y8G("value",v.data.currLvl),t.R7$(1),t.JRh(v.data.currLvl),t.R7$(1),t.Y8G("ngForOf",v.currRange)}}function A(D,H){if(1&D&&(t.j41(0,"td",6),t.DNE(1,N,2,1,"button",7),t.DNE(2,x,4,3,"select",8),t.k0s()),2&D){const v=t.XpG();t.R7$(1),t.Y8G("ngIf",!v.currOffset),t.R7$(1),t.Y8G("ngIf",v.currOffset)}}const U=function(D){return["element-icon",D]};function W(D,H){if(1&D&&(t.j41(0,"td")(1,"div",0),t.EFF(2),t.k0s()()),2&D){const v=t.XpG();t.R7$(1),t.Y8G("ngClass",t.eq3(2,U,"i"+v.data.inherits)),t.R7$(1),t.JRh(v.data.inherits)}}function Y(D,H){if(1&D&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&D){const v=H.$implicit;t.R7$(1),t.JRh(v)}}const X=function(D){return["resists",D]};function E(D,H){if(1&D&&(t.j41(0,"td",0),t.nI1(1,"reslvlToColor"),t.EFF(2),t.nI1(3,"reslvlToStringJa"),t.k0s()),2&D){const v=H.$implicit,O=t.XpG();t.Y8G("ngClass",t.eq3(7,X,t.bMT(1,2,v))),t.R7$(2),t.SpI(" ",t.i5U(3,4,v,O.lang)," ")}}function B(D,H){if(1&D&&(t.j41(0,"td",0),t.EFF(1),t.nI1(2,"affinityToString"),t.k0s()),2&D){const v=H.$implicit;t.Y8G("ngClass","affinity"+v),t.R7$(1),t.SpI(" ",t.bMT(2,2,v)," ")}}function k(D,H){if(1&D&&(t.qex(0),t.DNE(1,B,3,4,"td",5),t.bVm()),2&D){const v=t.XpG();t.R7$(1),t.Y8G("ngForOf",v.data.affinities)}}function G(D,H){if(1&D&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&D){const v=t.XpG();t.R7$(1),t.JRh(v.data.drop)}}function T(D,H){if(1&D&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&D){const v=t.XpG();t.R7$(1),t.JRh(v.data.area)}}const J=function(D){return["align",D]},K=function(D,H){return{special:D,exception:H}};function Q(D,H){if(1&D){const v=t.RV6();t.j41(0,"tr",7),t.bIt("currLvl",function(I){const V=t.eBV(v).$implicit,q=t.XpG();return t.Njj(q.lvlChanged.emit({demon:V.name,currLvl:I}))}),t.k0s()}if(2&D){const v=H.$implicit,O=t.XpG();t.Y8G("isEnemy",O.isEnemy)("hasCurrLvl",O.hasCurrLvl)("hasInherits",!!O.inheritOrder)("hasAffinity",!!O.affinityHeaders)("lang",O.lang)("ngClass",t.l_i(7,K,"special"===v.fusion,"special"!==v.fusion&&"normal"!==v.fusion))("data",v)}}let z=(()=>{class D{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.lang="en",this.currLvl=new t.bkB,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(100-this.currOffset))}emitValidLvl(v){const O=parseInt(v.target.value,10);this.data.currLvl!==O&&0<O&&O<100&&Number.isInteger(O)&&(this.data.currLvl=O,this.currLvl.emit(O))}static{this.\u0275fac=function(O){return new(O||D)}}static{this.\u0275cmp=t.VBU({type:D,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",lang:"lang",data:"data"},outputs:{currLvl:"currLvl"},attrs:$,decls:13,vars:14,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click",4,"ngIf"],[3,"change",4,"ngIf"],[3,"click"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"]],template:function(O,I){1&O&&(t.j41(0,"td",0),t.EFF(1),t.k0s(),t.DNE(2,P,3,3,"td",1),t.DNE(3,A,3,2,"td",2),t.j41(4,"td")(5,"a",3),t.EFF(6),t.k0s()(),t.DNE(7,W,3,4,"td",1),t.DNE(8,Y,2,1,"td",4),t.DNE(9,E,4,9,"td",5),t.DNE(10,k,2,1,"ng-container",1),t.DNE(11,G,2,1,"td",1),t.DNE(12,T,2,1,"td",1)),2&O&&(t.Y8G("ngClass",t.eq3(12,J,I.data.align?I.data.align:"none")),t.R7$(1),t.JRh(I.data.race),t.R7$(1),t.Y8G("ngIf",!I.hasCurrLvl),t.R7$(1),t.Y8G("ngIf",I.hasCurrLvl),t.R7$(2),t.Y8G("routerLink",I.data.name),t.R7$(1),t.JRh(I.data.name),t.R7$(1),t.Y8G("ngIf",I.hasInherits),t.R7$(1),t.Y8G("ngForOf",I.data.stats),t.R7$(1),t.Y8G("ngForOf",I.data.resists),t.R7$(1),t.Y8G("ngIf",I.hasAffinity),t.R7$(1),t.Y8G("ngIf",I.isEnemy),t.R7$(1),t.Y8G("ngIf",I.isEnemy))},dependencies:[f.YU,f.Sq,f.bT,r.Wk,o.xH,o.y7,s.XM,s.Z2,s.g7,s.Fz],encapsulation:2,changeDetection:0})}}return D})(),Z=(()=>{class D extends i{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.lang="en",this.lvlChanged=new t.bkB}static{this.\u0275fac=function(){let v;return function(I){return(v||(v=t.xGo(D)))(I||D)}}()}static{this.\u0275cmp=t.VBU({type:D,selectors:[["app-smt-demon-list"]],inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",lang:"lang"},outputs:{lvlChanged:"lvlChanged"},features:[t.Jv_([n.P]),t.Vt3],decls:8,vars:18,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","lang","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","lang","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","lang","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","lang","ngClass","data","currLvl"]],template:function(O,I){1&O&&(t.j41(0,"table",0)(1,"tfoot",1,2),t.bIt("sortFunIndexChanged",function(V){return I.sortFunIndex=V}),t.k0s()(),t.j41(3,"table",3),t.nrm(4,"tfoot",4,5),t.j41(6,"tbody"),t.DNE(7,Q,1,10,"tr",6),t.k0s()()),2&O&&(t.R7$(1),t.Y8G("isPersona",I.isPersona)("isEnemy",I.isEnemy)("lang",I.lang)("hasInherits",!!I.inheritOrder)("statHeaders",I.statHeaders)("resistHeaders",I.resistHeaders)("affinityHeaders",I.affinityHeaders)("sortFunIndex",I.sortFunIndex),t.R7$(3),t.xc7("visibility","collapse"),t.Y8G("isPersona",I.isPersona)("isEnemy",I.isEnemy)("lang",I.lang)("hasInherits",!!I.inheritOrder)("statHeaders",I.statHeaders)("resistHeaders",I.resistHeaders)("affinityHeaders",I.affinityHeaders),t.R7$(3),t.Y8G("ngForOf",I.rowData))},dependencies:[f.YU,f.Sq,a.a,l.N,j,z],encapsulation:2,changeDetection:0})}}return D})()},2940:(b,S,g)=>{g.d(S,{p:()=>X,t:()=>Y});var t=g(3885),n=g(6661),e=g(2598);let i=(()=>{class E extends n.r{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(k,G)=>1e4*(this.elemOrder[k.element]-this.elemOrder[G.element])+k.rank-G.rank,(k,G)=>1e4*(this.elemOrder[k.element]-this.elemOrder[G.element])+k.rank-G.rank,(k,G)=>k.name.localeCompare(G.name),(k,G)=>G.cost-k.cost,(k,G)=>k.rank-G.rank],this.inheritOrder&&this.sortFuns.push((k,G)=>this.inheritOrder[k.inherit]-this.inheritOrder[G.inherit])}getSortFun(k){return this.sortFuns[k]}static{this.\u0275fac=function(){let k;return function(T){return(k||(k=e.xGo(E)))(T||E)}}()}static{this.\u0275dir=e.FsC({type:E,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[e.Vt3]})}}return E})();var f=g(177),r=g(8935),o=g(4207),s=g(9108),a=g(361),l=g(1090);const c=["class","app-skill-list-header"];function u(E,B){if(1&E&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&E){const k=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,k.msgs.Target,k.lang))}}function d(E,B){if(1&E){const k=e.RV6();e.j41(0,"th",0),e.bIt("click",function(){e.eBV(k);const T=e.XpG();return e.Njj(T.nextSortFunIndex(4))}),e.j41(1,"span"),e.EFF(2),e.nI1(3,"translateComp"),e.k0s()()}if(2&E){const k=e.XpG();e.Y8G("ngClass",k.sortDirClass(4)),e.R7$(2),e.JRh(e.i5U(3,2,k.msgs.Rank,k.lang))}}function _(E,B){if(1&E){const k=e.RV6();e.j41(0,"th",0),e.bIt("click",function(){e.eBV(k);const T=e.XpG();return e.Njj(T.nextSortFunIndex(5))}),e.j41(1,"span"),e.EFF(2,"Inherit"),e.k0s()()}if(2&E){const k=e.XpG();e.Y8G("ngClass",k.sortDirClass(5))}}function p(E,B){if(1&E&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&E){const k=e.XpG();e.R7$(1),e.JRh(k.transferTitle)}}let m=(()=>{class E extends n.O{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.lang="en",this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1,this.msgs=l.vf}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}static{this.\u0275fac=function(){let k;return function(T){return(k||(k=e.xGo(E)))(T||E)}}()}static{this.\u0275cmp=e.VBU({type:E,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",lang:"lang",transferTitle:"transferTitle"},features:[e.Vt3],attrs:c,decls:30,vars:37,consts:[[1,"sortable",3,"ngClass","click"],[1,"cost"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(G,T){1&G&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.nI1(3,"translateComp"),e.k0s(),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translateComp"),e.k0s()(),e.j41(7,"tr")(8,"th",0),e.bIt("click",function(){return T.nextSortFunIndex(1)}),e.j41(9,"span"),e.EFF(10),e.nI1(11,"translateComp"),e.k0s()(),e.j41(12,"th",0),e.bIt("click",function(){return T.nextSortFunIndex(2)}),e.j41(13,"span"),e.EFF(14),e.nI1(15,"translateComp"),e.k0s()(),e.j41(16,"th",0),e.bIt("click",function(){return T.nextSortFunIndex(3)}),e.j41(17,"span",1),e.EFF(18),e.nI1(19,"translateComp"),e.k0s()(),e.j41(20,"th"),e.EFF(21),e.nI1(22,"translateComp"),e.k0s(),e.DNE(23,u,3,4,"th",2),e.DNE(24,d,4,5,"th",3),e.DNE(25,_,3,1,"th",3),e.j41(26,"th"),e.EFF(27),e.nI1(28,"translateComp"),e.k0s(),e.DNE(29,p,2,1,"th",2),e.k0s()),2&G&&(e.R7$(1),e.BMQ("colSpan",T.skillHeaderLen),e.R7$(1),e.JRh(e.i5U(3,16,T.msgs.Skill,T.lang)),e.R7$(2),e.BMQ("colSpan",T.acquireHeaderLen),e.R7$(1),e.JRh(e.i5U(6,19,T.msgs.HowToAcquire,T.lang)),e.R7$(3),e.Y8G("ngClass",T.sortDirClass(1)),e.R7$(2),e.JRh(e.i5U(11,22,T.msgs.Elem,T.lang)),e.R7$(2),e.Y8G("ngClass",T.sortDirClass(2)),e.R7$(2),e.JRh(e.i5U(15,25,T.msgs.Name,T.lang)),e.R7$(2),e.Y8G("ngClass",T.sortDirClass(3)),e.R7$(2),e.JRh(e.i5U(19,28,T.msgs.Cost,T.lang)),e.R7$(3),e.JRh(e.i5U(22,31,T.msgs.Effect,T.lang)),e.R7$(2),e.Y8G("ngIf",T.hasTarget),e.R7$(1),e.Y8G("ngIf",T.hasRank),e.R7$(1),e.Y8G("ngIf",T.hasInherit),e.R7$(2),e.JRh(e.i5U(28,34,T.msgs.LearnedBy,T.lang)),e.R7$(2),e.Y8G("ngIf",T.transferTitle))},dependencies:[f.YU,f.bT,o.uz],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding:.6em}span.cost[_ngcontent-%COMP%]{padding:1.2em}"],changeDetection:0})}}return E})();const R=["class","app-smt-skill-list-row"];function h(E,B){if(1&E&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&E){const k=e.XpG();e.R7$(1),e.LHq(" ",k.data.damage," ",k.data.element," damage",k.data.hits?" x"+k.data.hits:"","",k.data.effect?", "+k.data.effect:""," ")}}function L(E,B){if(1&E&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&E){const k=e.XpG();e.R7$(1),e.JRh(k.data.effect)}}function C(E,B){if(1&E&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&E){const k=e.XpG();e.R7$(1),e.ZvI("target-icon a",k.data.target||"Self",""),e.R7$(1),e.JRh(k.data.target||"Self")}}function F(E,B){if(1&E&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&E){const k=e.XpG();e.xc7("color",99!==k.data.rank?null:"transparent"),e.R7$(1),e.JRh(k.data.rank)}}function y(E,B){if(1&E&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&E){const k=e.XpG();e.R7$(1),e.ZvI("element-icon ",k.data.inherit,""),e.R7$(1),e.JRh(k.data.inherit)}}function j(E,B){if(1&E&&(e.j41(0,"td",3),e.EFF(1),e.nI1(2,"skillLevelToString"),e.k0s()),2&E){const k=e.XpG();e.Y8G("ngClass","lvl"+k.data.level.toString()),e.R7$(1),e.JRh(e.bMT(2,2,k.data.level))}}function $(E,B){if(1&E&&(e.j41(0,"li")(1,"a",6),e.EFF(2),e.k0s(),e.EFF(3),e.nI1(4,"skillLevelToShortString"),e.k0s()),2&E){const k=B.$implicit,G=e.XpG(2);e.R7$(1),e.FCK("routerLink","../",G.isPersona?"personas":"demons","/",k.demon,""),e.R7$(1),e.JRh(k.demon),e.R7$(1),e.SpI(" ",e.bMT(4,4,k.level)," ")}}function P(E,B){if(1&E&&(e.j41(0,"td")(1,"ul",4),e.DNE(2,$,5,6,"li",5),e.k0s()()),2&E){const k=e.XpG();e.R7$(2),e.Y8G("ngForOf",k.data.learnedBy)}}function N(E,B){if(1&E&&(e.qex(0),e.j41(1,"a",6),e.EFF(2),e.k0s(),e.EFF(3),e.nI1(4,"skillLevelToShortString"),e.bVm()),2&E){const k=e.XpG().$implicit,G=e.XpG(2);e.R7$(1),e.FCK("routerLink","../",G.hasSkillCards?"personas":"demons","/",k.demon,""),e.R7$(1),e.JRh(k.demon),e.R7$(1),e.SpI(" ",e.bMT(4,4,k.level)," ")}}function M(E,B){if(1&E&&(e.qex(0),e.EFF(1),e.bVm()),2&E){const k=e.XpG().$implicit;e.R7$(1),e.SpI("",k.demon," ")}}function x(E,B){if(1&E&&(e.j41(0,"li"),e.DNE(1,N,5,6,"ng-container",0),e.DNE(2,M,2,1,"ng-container",0),e.k0s()),2&E){const k=B.$implicit;e.R7$(1),e.Y8G("ngIf",k.level>=-99),e.R7$(1),e.Y8G("ngIf",k.level<-99)}}function A(E,B){if(1&E&&(e.j41(0,"td")(1,"ul",4),e.DNE(2,x,3,2,"li",5),e.k0s()()),2&E){const k=e.XpG();e.R7$(2),e.Y8G("ngForOf",k.data.transfer)}}const U=function(E,B){return{extra:E,unique:B}};function W(E,B){if(1&E&&e.nrm(0,"tr",7),2&E){const k=B.$implicit,G=e.XpG();e.Y8G("hasInherit",!!G.inheritOrder)("hasTarget",G.hasTarget)("hasRank",G.hasRank)("isPersona",G.isPersona)("hasTransferTitle",!!G.transferTitle)("hasSkillCards",G.transferTitle.includes("Card"))("data",k)("ngClass",e.l_i(8,U,k.rank>70&&k.rank<90,k.rank>90))}}let Y=(()=>{class E{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1,this.hasSkillCards=!1,this.skillLvl=-1}static{this.\u0275fac=function(G){return new(G||E)}}static{this.\u0275cmp=e.VBU({type:E,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",hasSkillCards:"hasSkillCards",skillLvl:"skillLvl",data:"data"},attrs:R,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(G,T){1&G&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"skillCostToString"),e.k0s(),e.DNE(8,h,2,4,"td",0),e.DNE(9,L,2,1,"td",0),e.DNE(10,C,3,4,"td",0),e.DNE(11,F,2,3,"td",1),e.DNE(12,y,3,4,"td",0),e.DNE(13,j,3,4,"td",2),e.DNE(14,P,3,1,"td",0),e.DNE(15,A,3,1,"td",0)),2&G&&(e.R7$(1),e.ZvI("element-icon ",T.data.element,""),e.R7$(1),e.JRh(T.data.element),e.R7$(2),e.JRh(T.data.name),e.R7$(1),e.xc7("color",T.data.cost?null:"transparent"),e.R7$(1),e.JRh(e.bMT(7,16,T.data.cost)),e.R7$(2),e.Y8G("ngIf",T.data.damage),e.R7$(1),e.Y8G("ngIf",!T.data.damage),e.R7$(1),e.Y8G("ngIf",T.hasTarget),e.R7$(1),e.Y8G("ngIf",T.hasRank),e.R7$(1),e.Y8G("ngIf",T.hasInherit),e.R7$(1),e.Y8G("ngIf",T.hasLvl),e.R7$(1),e.Y8G("ngIf",T.hasLearned),e.R7$(1),e.Y8G("ngIf",T.hasTransferTitle))},dependencies:[f.YU,f.Sq,f.bT,r.Wk,o.X2,o.Q3,o.wv],encapsulation:2,changeDetection:0})}}return E})(),X=(()=>{class E extends i{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.lang="en",this.transferTitle=""}static{this.\u0275fac=function(){let k;return function(T){return(k||(k=e.xGo(E)))(T||E)}}()}static{this.\u0275cmp=e.VBU({type:E,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",lang:"lang",transferTitle:"transferTitle"},features:[e.Jv_([t.P]),e.Vt3],decls:8,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","lang","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","lang","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass"]],template:function(G,T){1&G&&(e.j41(0,"table",0)(1,"tfoot",1,2),e.bIt("sortFunIndexChanged",function(K){return T.sortFunIndex=K}),e.k0s()(),e.j41(3,"table",3),e.nrm(4,"tfoot",4,5),e.j41(6,"tbody"),e.DNE(7,W,1,11,"tr",6),e.k0s()()),2&G&&(e.R7$(1),e.Y8G("hasInherit",!!T.inheritOrder)("hasTarget",T.hasTarget)("hasRank",T.hasRank)("lang",T.lang)("transferTitle",T.transferTitle)("sortFunIndex",T.sortFunIndex),e.R7$(3),e.xc7("visibility","collapse"),e.Y8G("hasInherit",!!T.inheritOrder)("hasTarget",T.hasTarget)("hasRank",T.hasRank)("lang",T.lang)("transferTitle",T.transferTitle),e.R7$(3),e.Y8G("ngForOf",T.rowData))},dependencies:[f.YU,f.Sq,s.a,a.N,m,Y],encapsulation:2,changeDetection:0})}}return E})()},6947:(b,S,g)=>{g.d(S,{HI:()=>d,I4:()=>j,RT:()=>F,Se:()=>C,_J:()=>R,eG:()=>p,iJ:()=>_,nv:()=>m,ov:()=>h,ty:()=>L,zm:()=>y});var t=g(2598),n=g(7396),e=g(7605),i=g(7101),f=g(7178),r=g(2338),o=g(6208),s=g(9910),a=g(3515),l=g(8939),c=g(1080),u=g(3357);const d=new t.nKC("compendium.config"),_=new t.nKC("fusion.data.service"),p=new t.nKC("fusion.trio.service"),m=new n.s([e.Cx,e.Hy,e.GW],[i.Dy,i.sk,i.Dc]),R=new n.s([e.Cx,e.Hy,e.GW,o.j],[i.Dy,i.sk,i.Dc]),h=new n.s([f.Hr,f.Hg,f.rj,f.Sm],[r.X]),L=new n.s([f.Hr,f.Hg,f.rj,o.i],[r.X]),C=new n.s([e.Cx,s.H],[]),F=new n.s([f.Hr,a.gt],[]),y=new l.$([c.FE,c.LW,c.Hy],[]),j=new l.$([u.Hr,u.gt,u.c7],[]);!function $(M){const x={};for(let A=0;A<M.length;A++)x[M[A]]=A}(["wk","no","rs","st","nu","rp","dr","ab"])},9404:(b,S,g)=>{g.d(S,{M:()=>e});var t=g(1985),n=g(2598);let e=(()=>{class i{constructor(r,o,s){this.title2=r,this.changeDetectorRef=o,this.fusionDataService2=s,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(a,l)=>a.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const r of this.subscriptions)r.unsubscribe()}onCompendiumUpdated(r){this.changeDetectorRef.markForCheck(),this.demons=t.c.create(o=>{let s=r.allDemons;this.showAllies||(s=s.filter(a=>a.isEnemy)),this.showEnemies||(s=s.filter(a=>!a.isEnemy)),s.sort(this.defaultSortFun),o.next(s.slice(0,this.initListLen)),setTimeout(()=>o.next(s))})}static{this.\u0275fac=function(o){n.QTQ()}}static{this.\u0275dir=n.FsC({type:i})}}return i})()},9454:(b,S,g)=>{g.d(S,{E:()=>e});var t=g(1985),n=g(2598);let e=(()=>{class i{constructor(r,o,s){this.title2=r,this.changeDetectorRef2=o,this.fusionDataService2=s,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(a,l)=>a.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const r of this.subscriptions)r.unsubscribe()}onCompendiumUpdated(r){this.changeDetectorRef2.markForCheck(),this.skills=t.c.create(o=>{const s=r.allSkills;s.sort(this.defaultSortFun),o.next(s.slice(0,this.initListLen)),setTimeout(()=>o.next(s))})}static{this.\u0275fac=function(o){n.QTQ()}}static{this.\u0275dir=n.FsC({type:i})}}return i})()},3515:(b,S,g)=>{function t(i,f,r){const{race:o,lvl:s}=f.getDemon(i),a=[];if(f.getSpecialNameEntries(i).length)return a;const l=f.getResultDemonLvls(o),c=l.indexOf(s);if(c<0)return a;const d=2*(s-1),_=l[c+1]?2*(l[c+1]-1):200,p=l[c+2]?2*(l[c+2]-1):200,m=f.getIngredientDemonLvls(o).filter(h=>h!==s),R=_/2+1;for(const h of m)R<h&&R+h<p&&a.push({name1:f.reverseLookupDemon(o,R),name2:f.reverseLookupDemon(o,h)});for(let h=0;h<m.length;h++){const L=m[h];for(let C=h+1;C<m.length;C++){const F=m[C];d<=L+F&&L+F<_&&a.push({name1:f.reverseLookupDemon(o,L),name2:f.reverseLookupDemon(o,F)})}}return a}function n(i,f,r){const o=[],{race:s,lvl:a}=f.getDemon(i),l=r.getElemModifiers(s),c=f.getResultDemonLvls(s),u=c.indexOf(a),d=Object.keys(l).map(_=>parseInt(_,10));if(d.sort(),-1===u)return o;for(const _ of d)if(0<=u+_&&u+_<c.length){const p=c[u+_];o.push({price:p,names1:[f.reverseLookupDemon(s,p)],lvl1:p,names2:l[_],lvl2:p})}return o}function e(i,f,r){const o=[],{race:s,lvl:a}=f.getDemon(i),l=r.getElemModifiers(s),c=f.getResultDemonLvls(s).concat([99]),u=c.indexOf(a),d=[a];if(-1===u)return o;u>1&&l[2]&&o.push({price:0,names1:[],lvl1:c[u-2],names2:l[2],lvl2:c[u-1]-1}),u>0&&l[1]&&o.push({price:0,names1:[],lvl1:c[u-1],names2:l[1],lvl2:a-1}),l[-1]&&o.push({price:0,names1:[],lvl1:a+1,names2:l[-1],lvl2:c[u+1]}),u<c.length-2&&l[-1]&&(d.push(c[u+1]),o.push({price:0,names1:[f.reverseLookupDemon(s,c[u+1])],lvl1:c[u+1],names2:l[-1],lvl2:c[u+2]})),u<c.length-2&&l[-2]&&o.push({price:0,names2:l[-2],lvl1:c[u+1]+1,lvl2:c[u+2],names1:[]}),u<c.length-3&&l[-2]&&(d.push(c[u+2]),o.push({price:0,names1:[f.reverseLookupDemon(s,c[u+2])],lvl1:c[u+2],names2:l[-2],lvl2:c[u+3]}),o.push({price:0,names1:[f.reverseLookupDemon(s,c[u+1])],lvl1:c[u+2]+1,names2:l[-2],lvl2:c[u+3]}));for(const _ of o.filter(p=>0===p.names1.length))for(const p of f.getIngredientDemonLvls(s).filter(m=>!d.includes(m)))p<=_.lvl2&&_.names1.push(f.reverseLookupDemon(s,p));for(const _ of o)_.price=Math.pow(3*_.lvl1+7,2)+2e3;return o.filter(_=>_.names1.length>0)}g.d(S,{gt:()=>t,iB:()=>e,o4:()=>n})},9910:(b,S,g)=>{function t(n,e,i){const f=[],{race:r,lvl:o}=e.getDemon(n),a=e.getIngredientDemonLvls(r).filter(c=>c!==o),l=e.getResultDemonLvls(r).filter(c=>c!==o).map(c=>2*c);for(const c of a){let d=l.reduce((p,m)=>o+c+2>=m?p+1:p,-1);l[d]/2===c&&(d-=1);const _=l[d]/2;_&&f.push({name1:e.reverseLookupDemon(r,c),name2:e.reverseLookupDemon(r,_)})}return f}g.d(S,{H:()=>t})},3357:(b,S,g)=>{g.d(S,{Hr:()=>i,XN:()=>o,c7:()=>r,gt:()=>f});var t=g(1080),n=g(7178);function e(s,a){if(!a.length)return-1;let l=0;for(const c of a)s>c&&l++;return l===a.length?-1:l}function i(s,a,l){const{normalChart:c,tripleChart:u}=l,{raceOrder:d}=c,{race:_,lvl:p}=a.getDemon(s),m=3*u.lvlModifier,R=[],h=a.getResultDemonLvls(_),L=h.indexOf(p);if(-1===L)return R;const C={};for(const[$,P]of Object.entries(u.getRaceFissions(_))){C[$]||(C[$]=[]);for(const N of P)C[N]||(C[N]=[]),$!==N&&C[$].push(N),C[N].push($)}const F={};for(const[$,P]of Object.entries(C)){F[$]={};for(const N of P)for(const[M,x]of Object.entries(c.getRaceFissions(N)))F[$][M]||(F[$][M]=[]),F[$][M]=F[$][M].concat(x);for(const N of P)$!==N&&(F[$][N]||(F[$][N]=[]),F[$][N].push(N))}const y=h[L-1]?3*h[L-1]-m:0,j=3*p-m;for(const[$,P]of Object.entries(F))for(const N of a.getIngredientDemonLvls($)){const M=a.reverseLookupDemon($,N),x=a.getDemon(M).currLvl;if(M!==s){const A=y-N,U=j-N;for(const[W,Y]of Object.entries(P))for(const X of a.getIngredientDemonLvls(W)){const E=a.reverseLookupDemon(W,X),B=a.getDemon(E).currLvl;if(E!==M&&E!==s&&(x>B||x===B&&d[$]<d[W])){const k=A-X,G=U-X;for(const T of Y)for(const J of a.getIngredientDemonLvls(T)){const K=a.reverseLookupDemon(T,J),Q=a.getDemon(K).currLvl;K!==E&&K!==M&&K!==s&&(W!==T||X<J)&&(x>Q||x===Q&&d[$]<d[T])&&k<J&&J<=G&&R.push({name1:M,name2:E,name3:K})}}}}}return R}function f(s,a,l){const{tripleChart:u}=l,{race:d,lvl:_}=a.getDemon(s),p=u.lvlModifier,m=[],R=a.getIngredientDemonLvls(d).filter(L=>L!==_),h=a.getResultDemonLvls(d);for(let L=0;L<R.length;L++){const C=R[L],F=h.filter(j=>j!==C),y=a.reverseLookupDemon(d,C);for(let j=L+1;j<R.length;j++){const $=R[j],P=F.filter(M=>M!==$),N=a.reverseLookupDemon(d,$);for(let M=j+1;M<R.length;M++){const x=R[M],A=P.filter(X=>X!==x),U=a.reverseLookupDemon(d,x),Y=e((C+$+x)/3+p,A);-1!==Y&&A[Y]===_&&m.push({name1:y,name2:N,name3:U})}}}return m}function r(s,a,l){const{race:c,lvl:u}=a.getDemon(s),d=a.getResultDemonLvls(c).slice();if(0<d.indexOf(u)){const _=a.reverseLookupDemon(c,d[d.indexOf(u)-1]);return[].concat((0,t.FE)(_,a,l).filter(m=>m.name3===s),(0,t.LW)(_,a,l).filter(m=>m.name3===s)).map(m=>({name1:m.name1,name2:m.name2,name3:_}))}return[]}function o(s,a,l){return(0,n.rj)(s,a,l.tripleChart).map(c=>{const[u,d]=c.name2.split(" x ");return{name1:c.name1,name2:u,name3:d}})}},1080:(b,S,g)=>{g.d(S,{FE:()=>e,Hy:()=>f,LW:()=>i,q6:()=>r});var t=g(7605);function n(o,s){if(!s.length)return-1;let a=0;for(const l of s)o>l&&a++;return a===s.length?-1:a}function e(o,s,a){const{normalChart:l,tripleChart:c}=a,{raceOrder:u}=l,{race:d,lvl:_,currLvl:p}=s.getDemon(o),m=3*c.lvlModifier,R=[],h=c.getRaceFusions(d),L={};for(const[C,F]of Object.entries(h)){L[C]||(L[C]={}),d!==C&&(L[C][C]=F);for(const[y,j]of Object.entries(l.getRaceFissions(C))){L[y]||(L[y]={});for(const $ of j)L[y][$]=F}}for(const[C,F]of Object.entries(L))for(const y of s.getIngredientDemonLvls(C)){const j=s.reverseLookupDemon(C,y),$=s.getDemon(j).currLvl;if(j!==o&&(p>$||p===$&&u[d]<u[C]))for(const[P,N]of Object.entries(F)){const M=s.getResultDemonLvls(N),x=M.map(A=>3*A-m-_-y);for(const A of s.getIngredientDemonLvls(P)){const U=s.reverseLookupDemon(P,A),W=s.getDemon(U).currLvl;if(U!==j&&U!==o&&(C!==P||y<A)&&(p>W||p===W&&u[d]<u[P]))if(s.isElementDemon(N))R.push({name1:j,name2:U,name3:N});else{const Y=n(A,x);if(-1!==Y){const X=s.reverseLookupDemon(N,M[Y]);X!==U&&X!==j&&X!==o?R.push({name1:j,name2:U,name3:X}):Y+1<M.length&&R.push({name1:j,name2:U,name3:s.reverseLookupDemon(N,M[Y+1])})}}}}}return R}function i(o,s,a){const{normalChart:l,tripleChart:c}=a,{raceOrder:u}=l,{race:d,lvl:_,currLvl:p}=s.getDemon(o),m=3*c.lvlModifier,R=[],h={};h[d]=Object.assign({},c.getRaceFusions(d)),delete h[d][d];for(const[L,C]of Object.entries(l.getRaceFusions(d)))h[L]=c.getRaceFusions(C);for(const[L,C]of Object.entries(h))for(const F of s.getIngredientDemonLvls(L)){const y=s.reverseLookupDemon(L,F),j=s.getDemon(y).currLvl;if(y!==o)for(const[$,P]of Object.entries(C)){const N=s.getResultDemonLvls(P),M=N.map(x=>3*x-m-_-F);for(const x of s.getIngredientDemonLvls($)){const A=s.reverseLookupDemon($,x),U=s.getDemon(A).currLvl;if(A!==y&&A!==o&&(U>p||U===p&&u[$]<u[d])&&(U>j||U===j&&u[$]<u[L]))if(s.isElementDemon(P))R.push({name1:y,name2:A,name3:P});else{const W=n(x,M);if(-1!==W){const Y=s.reverseLookupDemon(P,N[W]);Y!==A&&Y!==y&&Y!==o?R.push({name1:y,name2:A,name3:Y}):W+1<N.length&&R.push({name1:y,name2:A,name3:s.reverseLookupDemon(P,N[W+1])})}}}}}return R}function f(o,s,a){const{tripleChart:c}=a,{race:u,lvl:d}=s.getDemon(o),_=c.getRaceFusions(u)[u],p=[];if(!_)return p;const m=s.getIngredientDemonLvls(u).filter(L=>L!==d),R=s.getResultDemonLvls(u).filter(L=>L!==d),h=c.lvlModifier;for(let L=0;L<m.length;L++){const C=m[L],F=R.filter(j=>j!==C),y=s.reverseLookupDemon(u,C);for(let j=L+1;j<m.length;j++){const $=m[j],P=F.filter(M=>M!==$),N=s.reverseLookupDemon(u,$);if(s.isElementDemon(_))p.push({name1:y,name2:N,name3:_});else{const x=n((C+d+$)/3+h,P);-1!==x&&p.push({name1:y,name2:N,name3:s.reverseLookupDemon(u,P[x])})}}}return p}function r(o,s,a){return(0,t.GW)(o,s,a.tripleChart).map(l=>{const[c,u]=l.name1.split(" x ");return{name1:c,name2:u,name3:l.name2}})}},2338:(b,S,g)=>{function t(n,e,i){const f=e.getSpecialNamePairs(n).slice();for(const[r,o]of Object.entries(i.getRaceFissions(n))){const s=e.getIngredientDemonLvls(r);for(let a=0;a<s.length;a++)for(let l=a+1;l<s.length;l++)f.push({name1:e.reverseLookupDemon(r,s[a]),name2:e.reverseLookupDemon(r,s[l])})}return f}g.d(S,{X:()=>t})},7101:(b,S,g)=>{function t(i,f,r){const o=[];for(const[s,a]of Object.entries(r.getElemFusions(i))){const l=f.getResultDemonLvls(s).filter(d=>d<100),c=a<0?l.slice(-1*a):l.slice(0,-1*a),u=a<0?l.slice(0,a):l.slice(a);for(let d=0;d<c.length;d++)o.push({name1:f.reverseLookupDemon(s,c[d]),name2:f.reverseLookupDemon(s,u[d])})}return o}function n(i,f,r){const o=[],s=r.getElemFusions(i);for(const{race:a,lvl:l,name:c}of f.specialDemons){const u=s[a];if(u){const d=(m,R)=>l>R?m+1:m,_=f.getResultDemonLvls(a).filter(m=>m<100),p=u+_.reduce(d,0);0<p&&p<_.length&&o.push({name1:c,name2:f.reverseLookupDemon(a,_[p])})}}return o}function e(i,f,r){return[]}g.d(S,{Dc:()=>e,Dy:()=>t,sk:()=>n})},7178:(b,S,g)=>{function t(f,r,o){const s=[],a=r.getSpecialNamePairs(f);if(a.length>0)if(a[0].name1===a[0].name2)f=a[0].name1;else if(f!==a[0].name1)return a;const{race:l,lvl:c}=r.getDemon(f),u=r.getResultDemonLvls(l),d=u.indexOf(c);if(-1===d)return[];const _=u[d-1]?2*(u[d-1]-o.lvlModifier):0,p=u[d+1]?2*(c-o.lvlModifier):200;for(const[m,R]of Object.entries(o.getRaceFissions(l)))for(const h of r.getIngredientDemonLvls(m)){const L=_-h,C=p-h;for(const F of R)for(const y of r.getIngredientDemonLvls(F))L<y&&y<=C&&(m!=F||h<y)&&s.push({name1:r.reverseLookupDemon(m,h),name2:r.reverseLookupDemon(F,y)})}return s}function n(f,r,o){const s=[],{race:a,lvl:l}=r.getDemon(f),c=Object.keys(o.getRaceFissions(a)).find(h=>"2"===h.charAt(0));if(!c)return s;const u=c.substring(1),d=r.getResultDemonLvls(u),_=d.indexOf(l);if(-1===_)return s;const p=d[_-2]||0,m=d[_-1]||0,R=d[_+1]?2*l:200;for(const[h,L]of Object.entries(o.getRaceFissions(u)))for(const C of r.getIngredientDemonLvls(h).filter(F=>F!==l))for(const F of L)for(const y of r.getIngredientDemonLvls(F).filter(j=>j!==l)){const $=C+y+o.lvlModifier;2*(C===m||y===m?p:m)<$&&$<=R&&s.push({name1:r.reverseLookupDemon(h,C),name2:r.reverseLookupDemon(F,y)})}return s}function e(f,r,o){const{race:s,lvl:a}=r.getDemon(f),l=[],c=o.getElemModifiers(s),u=Object.keys(c).map(p=>parseInt(p,10));if(r.getSpecialNamePairs(f).length||!u.length)return l;const d=[0,0].concat(r.getResultDemonLvls(s),[100,100]),_=[];for(const p of r.getIngredientDemonLvls(s)){const m=d.slice();m.indexOf(p)<0&&(m.push(p),m.sort((h,L)=>h-L));const R=m.indexOf(p);for(const h of u)m[R+h]===a&&_.push({ingName:r.reverseLookupDemon(s,p),elementOffset:h})}for(const p of _)for(const m of c[p.elementOffset])l.push({name1:p.ingName,name2:m});return l}function i(f,r,o){const s=[],a=r.getSpecialNamePairs(f);if(0===a.length||f!==a[0].name1)return s;const l=r.getDemon(a[0].name2).race;for(const[c,u]of Object.entries(o.getRaceFissions(l)))for(const d of r.getIngredientDemonLvls(c))for(const _ of u)for(const p of r.getIngredientDemonLvls(_))s.push({name1:r.reverseLookupDemon(c,d),name2:r.reverseLookupDemon(_,p)});return s}g.d(S,{Hg:()=>n,Hr:()=>t,Sm:()=>i,rj:()=>e})},7605:(b,S,g)=>{function t(f,r){if(!r.length)return-1;let o=0;for(const s of r)f>s&&o++;return o===r.length?o-1:o}function n(f,r,o){const s=[],{race:a,lvl:l}=r.getDemon(f);for(const[c,u]of Object.entries(o.getRaceFusions(a))){const d=r.getResultDemonLvls(u),_=d.map(p=>2*(p-o.lvlModifier)-l);for(const p of r.getIngredientDemonLvls(c)){const m=t(p,_);if(-1!==m&&100!==d[m]&&(a!=c||l!=p)){const R=r.reverseLookupDemon(u,d[m]);s.push(R===f&&m+1<d.length?{name1:r.reverseLookupDemon(c,p),name2:r.reverseLookupDemon(u,d[m+1])}:{name1:r.reverseLookupDemon(c,p),name2:R})}}}for(const c of r.reverseLookupSpecial(f)){const u=r.getSpecialNameEntries(c);if(2===u.length){const d=u[0]===f?u[1]:u[0];for(const _ of s)_.name1===d&&(_.name2=c)}}return s}function e(f,r,o){const{race:s,lvl:a}=r.getDemon(f),l=o.getRaceFusions(s)[s],c=r.getIngredientDemonLvls(s).filter(d=>d!==a),u=[];if(l&&r.isElementDemon(l))for(const d of c)u.push({name1:r.reverseLookupDemon(s,d),name2:l});return u}function i(f,r,o){const s=[],{race:a,lvl:l}=r.getDemon(f),c=[0,0].concat(r.getResultDemonLvls(a),[100,100]);c.indexOf(l)<0&&(c.push(l),c.sort((p,m)=>p-m));const u=c.indexOf(l),d=o.getElemModifiers(a),_=Object.keys(d).map(p=>parseInt(p,10));for(const p of _){const m=c[u+p];if(0!==m&&100!==m){const R=r.reverseLookupDemon(a,m);for(const h of d[p])s.push({name1:h,name2:R})}}return s}g.d(S,{Cx:()=>n,GW:()=>i,Hy:()=>e})},6208:(b,S,g)=>{function t(e,i,f){const{race:r,lvl:o}=i.getDemon(e),s=[0,0].concat(i.getResultDemonLvls(r),[100,100]),a=s.indexOf(o),l=[];if(f.getLightDark(r)<0||-1===a)return l;const c=s[a-2],u=s[a-1],d=s[a+1],_=0!==c?i.reverseLookupDemon(r,c):"",p=0!==u?i.reverseLookupDemon(r,u):"",m=100!==d?i.reverseLookupDemon(r,d):"";for(const R of f.races)if(f.getLightDark(R)<0)for(const h of i.getIngredientDemonLvls(R)){const L=i.reverseLookupDemon(R,h);c>=h&&(c+h)%7==0&&l.push({name1:_,name2:L}),u>=h&&(u+h)%7!=0&&(u+h)%5==0&&l.push({name1:p,name2:L}),d>=h&&(d+h)%7!=0&&(d+h)%5!=0&&(d+h)%3==0&&l.push({name1:m,name2:L})}return l.filter(R=>""!==R.name1)}function n(e,i,f){const{race:r,lvl:o}=i.getDemon(e),s=[0,0].concat(i.getResultDemonLvls(r),[100,100]),a=s.indexOf(o),l=[];if(f.getLightDark(r)<0||-1===a)return l;const c=s[a+2],u=s[a+1],d=s[a-1],_=100!==c?i.reverseLookupDemon(r,c):"",p=100!==u?i.reverseLookupDemon(r,u):"",m=0!==d?i.reverseLookupDemon(r,d):"";for(const R of f.races)if(f.getLightDark(R)<0){const h=i.getIngredientDemonLvls(R);for(let L=0;L<h.length;L++){const C=h[L],F=i.reverseLookupDemon(R,C);o>=C?(o+C)%7==0?l.push({name1:F,name2:_}):(o+C)%5==0?l.push({name1:F,name2:p}):(o+C)%3==0?l.push({name1:F,name2:m}):(o+C)%2==0&&L>0&&l.push({name1:F,name2:i.reverseLookupDemon(R,h[L-1])}):(o+C)%2==0&&L<h.length-1?l.push({name1:F,name2:i.reverseLookupDemon(R,h[L+1])}):(o+C)%2==1&&l.push({name1:F,name2:"Slime"})}}return l.filter(R=>""!==R.name2)}g.d(S,{i:()=>t,j:()=>n})},4660:(b,S,g)=>{function t(o,s){const a=s.getDemon(o);return{price:a.price,race1:a.race,lvl1:a.currLvl,name1:o}}function n(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2);return{price:a.price+l.price,race1:a.race,lvl1:a.currLvl,name1:o.name1,race2:l.race,lvl2:l.currLvl,name2:o.name2}}function e(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2);return{price:a.price,race1:a.race,lvl1:a.currLvl,name1:o.name1,race2:l.race,lvl2:l.lvl,name2:o.name2}}function i(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2),c=s.getDemon(o.name3);return{price:a.price+l.price+c.price,d1:a,d2:l,d3:c}}function f(o,s){const a=s.getDemon(o.name1),l=s.getDemon(o.name2),c=s.getDemon(o.name3);return{price:a.price+l.price,d1:a,d2:l,d3:c}}function r(o,s){const a={};if(!s)return a;for(let l=0;l<s.length;l++)for(let c=0;c<s[l].length-1;c++){const u=s[l][c];a[u]||(a[u]=[]),a[u].push({name1:o[c],name2:o[l]})}return a}g.d(S,{Jc:()=>r,OY:()=>f,_m:()=>t,f7:()=>i,lA:()=>e,on:()=>n})},7396:(b,S,g)=>{g.d(S,{s:()=>t});class t{constructor(e,i){this.fuseNonelem=e,this.fuseElement=i}getFusions(e,i,f){let r=[];const o=i.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const s of o)r=r.concat(s(e,i,f));return r}}},8063:(b,S,g)=>{g.d(S,{p:()=>t});let t=(()=>{class n{static{this.LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"]}static{this.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"]}static loadFusionTableJson(i,f){const r={},o=1===f[0].length;for(const s of i)r[s]={};for(let s=0;s<f.length;s++){const a=i[s],l=f[s],c=o?0:i.length-l.length;for(let u=0;u<l.length;u++){const d=i[u+c],_=l[u];"-"!==_&&(r[a][d]=_,r[d][a]=_)}}return r}static loadFissionTableJson(i,f,r){const o={},s=1===r[0].length;for(let a=0;a<r.length;a++){const l=i[a],c=r[a],u=s?0:i.length-c.length;for(let d=0;d<c.length;d++){const _=i[d+u],p=c[d];"-"!==p&&(o[p]||(o[p]={}),o[p][l]||(o[p][l]=[]),o[p][l].push(_))}}return o}static loadElementTableJson(i,f,r){const o={};for(const s of f)o[s]={};for(let s=0;s<r.length;s++){const a=i[s],l=r[s];for(let c=0;c<l.length;c++){const d=r[s][c];d&&(o[f[c]][a]=d)}}return o}static mergeFusionTables(i,f){const r={};for(const[o,s]of Object.entries(i))r[o]=Object.assign({},s);for(const[o,s]of Object.entries(f))r[o]=Object.assign(r[o]||{},s);return r}static mergeFissionTables(i,f){const r={};for(const[o,s]of Object.entries(i)){r[o]={};for(const[a,l]of Object.entries(s))r[o][a]=l.slice()}for(const[o,s]of Object.entries(f)){r[o]=r[o]||{};for(const[a,l]of Object.entries(s))r[o][a]=l.concat(r[o][a]||[])}return r}getLightDark(i){return-1!==n.LIGHT_RACES.indexOf(i)?1:-1!==n.DARK_RACES.indexOf(i)?-1:0}getRaceFissions(i){return this.fissionChart[i]||{}}getRaceFusions(i){return this.fusionChart[i]||{}}getRaceFusion(i,f){return this.getRaceFusions(i)[f]||""}getElemModifiers(i){const f={};for(const[r,o]of Object.entries(this.elementChart)){const s=o[i];s&&(f[s]||(f[s]=[]),f[s].push(r))}return f}getElemFusions(i){return this.elementChart[i]||{}}isConvertedRace(i){return!1}}return n})()},8939:(b,S,g)=>{g.d(S,{$:()=>t});class t{constructor(e,i){this.fuseNonelem=e,this.fuseElement=i}getFusions(e,i,f){let r=[];const o=i.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const s of o)r=r.concat(s(e,i,f));return r}}},361:(b,S,g)=>{g.d(S,{N:()=>n});var t=g(2598);let n=(()=>{class e{constructor(f,r){this.elementRef=f,this.renderer=r,this.borderWidth=2}get colWidths(){const f=[],r=this.elementRef.nativeElement.children;if(r.length)for(const o of r[r.length-1].children)f.push(o.getBoundingClientRect().width-2*this.borderWidth);return f}set colWidths(f){const r=this.elementRef.nativeElement.children;if(r.length){const o=r[r.length-1].children;for(let s=0;s<o.length;s++)this.renderer.setStyle(o[s],"width",`${f[s]}px`)}}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:e,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}})}}return e})()},3885:(b,S,g)=>{g.d(S,{P:()=>e});var t=g(4412),n=g(2598);let e=(()=>{class i{constructor(r){this._edges$=new t.t({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=r?r.edges:new t.t({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(r){this._edges$.next(r)}static{this.\u0275fac=function(o){return new(o||i)(n.KVO(i,12))}}static{this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac})}}return i})()},9108:(b,S,g)=>{g.d(S,{a:()=>e});var t=g(2598),n=g(3885);let e=(()=>{class i{constructor(r,o,s){this.elementRef=r,this.renderer=o,this.edgesService=s,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(r=>{this.edges=r}))}ngOnDestroy(){for(const r of this.subscriptions)r.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(r){this._edges=r,this.sZIndex=r.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${r.top}px`),this.nextEdges()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(n.P))}}static{this.\u0275dir=t.FsC({type:i,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(o,s){2&o&&(t.xc7("z-index",s.sZIndex),t.AVh("position-sticky",s.cPositionSticky))},inputs:{edges:"edges"}})}}return i})()},6661:(b,S,g)=>{g.d(S,{O:()=>r,r:()=>o});var t=g(2598),n=g(361),e=g(9108);const i=["stickyHeader"],f=["hiddenHeader"];let r=(()=>{class s{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new t.bkB}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(l){this.sortAsc=l>0,this.sortAscIndex=(this.sortAsc?1:-1)*l}sortDirClass(l){return this.sortAscIndex!==l?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(l){this.sortAsc=this.sortAscIndex!==l||!this.sortAsc,this.sortAscIndex=l,this.sortFunIndexChanged.emit(this.sortFunIndex)}static{this.\u0275fac=function(c){return new(c||s)}}static{this.\u0275dir=t.FsC({type:s,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}})}}return s})(),o=(()=>{class s{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(l){this._rowData=l,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(l){this._sortFunIndex=l,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((l,c)=>this.getSortFun(-1*this.sortFunIndex)(c,l)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}static{this.\u0275fac=function(c){return new(c||s)}}static{this.\u0275dir=t.FsC({type:s,viewQuery:function(c,u){if(1&c&&(t.GBs(e.a,5),t.GBs(i,5,n.N),t.GBs(f,5,n.N)),2&c){let d;t.mGM(d=t.lsd())&&(u.stickyTable=d.first),t.mGM(d=t.lsd())&&(u.stickyHeader=d.first),t.mGM(d=t.lsd())&&(u.hiddenHeader=d.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}})}}return s})()}}]);