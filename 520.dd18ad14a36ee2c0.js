"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[520],{5390:(B,R,h)=>{h.d(R,{e:()=>m});var e=h(3247),O=h(3808),t=h(4769),v=h(6814),c=h(4487);const l=function(){return{exact:!0}};function s(f,p){if(1&f&&(t.TgZ(0,"th",2)(1,"a",3),t._uU(2),t.qZA()()),2&f){const _=p.$implicit,L=t.oxw().$implicit;t.Udp("width",1/L,"%"),t.Q6J("routerLink",_.link)("routerLinkActiveOptions",t.DdM(6,l)),t.xp6(1),t.Q6J("routerLink",_.link),t.xp6(1),t.hij(" ",_.title," ")}}function n(f,p){if(1&f&&(t.TgZ(0,"th",11)(1,"a",12),t._uU(2),t.qZA()()),2&f){const _=t.oxw().$implicit,L=t.oxw();t.Udp("width",1/_,"%"),t.xp6(2),t.hij(" ",L.langEn?"DLC Settings":"DLC"," ")}}const i=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function o(f,p){if(1&f&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"a",3),t._uU(5),t.qZA()(),t.TgZ(6,"th",4)(7,"a",5),t._uU(8),t.qZA()(),t.TgZ(9,"th",6)(10,"a",7),t._uU(11),t.qZA()(),t.YNc(12,s,3,7,"th",8),t.YNc(13,n,3,3,"th",9),t.qZA(),t.TgZ(14,"tr")(15,"th",10),t._uU(16),t.qZA()()()()),2&f){const _=p.$implicit,L=t.oxw();t.Q6J("ngStyle",t.DdM(17,i)),t.xp6(3),t.Udp("width",1/_,"%"),t.Q6J("routerLink",L.mainList+"s")("routerLinkActiveOptions",t.DdM(18,l)),t.xp6(1),t.Q6J("routerLink",L.mainList+"s"),t.xp6(1),t.hij(" ",L.langEn?L.mainList.charAt(0).toUpperCase()+L.mainList.slice(1)+" List":"\u60aa\u9b54\u4e00\u89a7"," "),t.xp6(1),t.Udp("width",1/_,"%"),t.xp6(2),t.hij(" ",L.langEn?"Skill List":"\u30b9\u30ad\u30eb\u4e00\u89a7"," "),t.xp6(1),t.Udp("width",1/_,"%"),t.xp6(2),t.hij(" ",L.langEn?"Fusion Chart":"\u5408\u4f53\u8868"," "),t.xp6(1),t.Q6J("ngForOf",L.otherLinks),t.xp6(1),t.Q6J("ngIf",L.hasSettings),t.xp6(2),t.uIk("colspan",_),t.xp6(1),t.Oqu(L.appName+(L.langEn?" Fusion Calculator":" \u5408\u4f53\u30a2\u30d7\u30ea"))}}function a(f,p){if(1&f&&(t.TgZ(0,"div",3),t._UZ(1,"app-demon-compendium-header",4),t.qZA()),2&f){const _=t.oxw();t.xp6(1),t.Q6J("appName",_.appName)("mainList",_.mainList)("hasSettings",_.hasSettings)("langEn",_.langEn)("otherLinks",_.otherLinks)}}function u(f,p){if(1&f&&(t.TgZ(0,"div"),t._UZ(1,"app-demon-compendium-header",4),t.qZA()),2&f){const _=t.oxw();t.xp6(1),t.Q6J("appName",_.appName)("mainList",_.mainList)("hasSettings",_.hasSettings)("langEn",_.langEn)("otherLinks",_.otherLinks)}}const r=function(f){return{marginLeft:"auto",marginRight:"auto",width:f}};let D=(()=>{var f;class p{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.langEn=!0,this.otherLinks=[]}}return(f=p).\u0275fac=function(L){return new(L||f)},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",langEn:"langEn",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(L,E){1&L&&t.YNc(0,o,17,19,"table",0),2&L&&t.Q6J("ngIf",3+E.otherLinks.length+(E.hasSettings?1:0))},dependencies:[v.sg,v.O5,v.PC,c.rH,c.Od],encapsulation:2,changeDetection:0}),p})(),m=(()=>{var f;class p{constructor(L){this.route=L,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(L=>{this.appName=L.appName||"Shin Megami Tensei",this.isChart="chart"===L.fusionTool,this.langEn="ja"!==L.lang})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const L of this.subscriptions)L.unsubscribe()}}return(f=p).\u0275fac=function(L){return new(L||f)(t.Y36(c.gz))},f.\u0275cmp=t.Xpm({type:f,selectors:[["app-demon-compendium"]],viewQuery:function(L,E){if(1&L&&t.Gf(O.v,5),2&L){let S;t.iGM(S=t.CRH())&&(E.stickyTable=S.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[t._Bn([e.L])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","langEn","otherLinks"]],template:function(L,E){1&L&&(t.TgZ(0,"div",0),t.YNc(1,a,2,5,"div",1),t.YNc(2,u,2,5,"div",2),t._UZ(3,"router-outlet"),t.qZA()),2&L&&(t.Q6J("ngStyle",t.VKq(3,r,E.isChart?"auto":"1080px")),t.xp6(1),t.Q6J("ngIf",!E.isChart),t.xp6(1),t.Q6J("ngIf",E.isChart))},dependencies:[v.O5,v.PC,c.lC,O.v,D],encapsulation:2,changeDetection:0}),p})()},7880:(B,R,h)=>{h.d(R,{t:()=>l});var e=h(4769),O=h(6814),t=h(4487);function v(s,n){if(1&s&&(e.TgZ(0,"td"),e._uU(1),e.TgZ(2,"a",3),e._uU(3),e.qZA()()),2&s){const i=e.oxw();e.xp6(1),e.hij(" Error: Could not find entry in compendium for ",i.name,". Did you mean: "),e.xp6(1),e.MGl("routerLink","../",i.name.split("%20").join(" "),""),e.xp6(1),e.Oqu(i.name.split("%20").join(" "))}}function c(s,n){if(1&s&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&s){const i=e.oxw();e.xp6(1),e.hij("Error: Could not find entry in compendium for ",i.name,"")}}let l=(()=>{var s;class n{}return(s=n).\u0275fac=function(o){return new(o||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(o,a){1&o&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e._uU(4),e.qZA()()(),e.TgZ(5,"tbody")(6,"tr"),e.YNc(7,v,4,3,"td",2),e.YNc(8,c,2,1,"td",2),e.qZA()()()),2&o&&(e.xp6(4),e.hij("Entry for ",a.name,""),e.xp6(3),e.Q6J("ngIf",a.name&&a.name.includes("%20")),e.xp6(1),e.Q6J("ngIf",!a.name||!a.name.includes("%20")))},dependencies:[O.O5,t.rH],encapsulation:2,changeDetection:0}),n})()},1009:(B,R,h)=>{h.d(R,{I:()=>D});var e=h(4769),O=h(6814),t=h(2173);function v(m,f){if(1&m&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&m){const p=e.oxw(2);e.uIk("colSpan",p.ailmentHeaders.length),e.xp6(1),e.Oqu(p.langEn?"Ailment":"\u72b6\u614b\u7570\u5e38")}}function c(m,f){if(1&m&&(e.TgZ(0,"th")(1,"div"),e._uU(2),e.qZA()()),2&m){const p=f.$implicit,_=e.oxw(2);e.Udp("width",(_.ailmentHeaders.length?50:100)/_.resistHeaders.length,"%"),e.xp6(1),e.Gre("element-icon ",p,""),e.xp6(1),e.Oqu(p)}}function l(m,f){if(1&m&&(e.TgZ(0,"th")(1,"div"),e._uU(2),e.qZA()()),2&m){const p=f.$implicit,_=e.oxw(2);e.Udp("width",50/_.ailmentHeaders.length,"%"),e.xp6(2),e.Oqu(p)}}function s(m,f){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToString"),e.qZA()),2&m){const p=f.$implicit;e.Gre("resists ",e.lcZ(1,4,p),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,p)," ")}}function n(m,f){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToString"),e.qZA()),2&m){const p=f.$implicit;e.Gre("resists ",e.lcZ(1,4,p),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,p)," ")}}function i(m,f){if(1&m&&(e.ynx(0),e.YNc(1,s,4,8,"td",5),e.YNc(2,n,4,8,"td",5),e.BQk()),2&m){const p=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",p.resists),e.xp6(1),e.Q6J("ngForOf",p.ailments)}}function o(m,f){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToStringJa"),e.qZA()),2&m){const p=f.$implicit;e.Gre("resists ",e.lcZ(1,4,p),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,p)," ")}}function a(m,f){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToStringJa"),e.qZA()),2&m){const p=f.$implicit;e.Gre("resists ",e.lcZ(1,4,p),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,p)," ")}}function u(m,f){if(1&m&&(e.ynx(0),e.YNc(1,o,4,8,"td",5),e.YNc(2,a,4,8,"td",5),e.BQk()),2&m){const p=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",p.resists),e.xp6(1),e.Q6J("ngForOf",p.ailments)}}function r(m,f){if(1&m&&(e.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"th"),e._uU(7),e.qZA(),e.YNc(8,v,2,2,"th",3),e.qZA(),e.TgZ(9,"tr"),e.YNc(10,c,3,6,"th",4),e.YNc(11,l,3,3,"th",4),e.qZA()(),e.TgZ(12,"tbody")(13,"tr"),e.YNc(14,i,3,2,"ng-container",3),e.YNc(15,u,3,2,"ng-container",3),e.qZA()()()),2&m){const p=e.oxw();e.xp6(3),e.uIk("colspan",p.resistHeaders.length+p.ailmentHeaders.length),e.xp6(1),e.Oqu(p.langEn?p.title:"\u8010\u6027"),e.xp6(2),e.uIk("colSpan",p.resistHeaders.length),e.xp6(1),e.Oqu(p.langEn?"Element":"\u5c5e\u6027"),e.xp6(1),e.Q6J("ngIf",p.ailmentHeaders.length),e.xp6(2),e.Q6J("ngForOf",p.resistHeaders),e.xp6(1),e.Q6J("ngForOf",p.ailmentHeaders),e.xp6(3),e.Q6J("ngIf",p.langEn),e.xp6(1),e.Q6J("ngIf",!p.langEn)}}let D=(()=>{var m;class f{constructor(){this.title="Resistances",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[],this.langEn=!0}}return(m=f).\u0275fac=function(_){return new(_||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments",langEn:"langEn"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(_,L){1&_&&e.YNc(0,r,16,9,"table",0),2&_&&e.Q6J("ngIf",L.resistHeaders.length)},dependencies:[O.sg,O.O5,t.LG,t.Vk],encapsulation:2,changeDetection:0}),f})()},4101:(B,R,h)=>{h.d(R,{Q:()=>X});var e=h(4769),O=h(3247),t=h(9217);let v=(()=>{var d;class A extends t.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((I,g)=>200*(this.raceOrder[I.race]-this.raceOrder[g.race])+g.lvl-I.lvl,(I,g)=>200*(this.raceOrder[I.race]-this.raceOrder[g.race])+g.lvl-I.lvl,(I,g)=>g.lvl-I.lvl,(I,g)=>I.name.localeCompare(g.name)),this.inheritOrder&&this.sortFuns.push((I,g)=>I.inherits-g.inherits),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((I,g)=>(J,j)=>j.stats[g]-J.stats[g]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((I,g)=>(J,j)=>J.resists[g]-j.resists[g]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((I,g)=>(J,j)=>j.affinities[g]-J.affinities[g])))}getSortFun(I){return this.sortFuns[I]}}return(d=A).\u0275fac=function(){let T;return function(g){return(T||(T=e.n5z(d)))(g||d)}}(),d.\u0275dir=e.lG2({type:d,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[e.qOj]}),A})();var c=h(6814),l=h(4487),s=h(95),n=h(2173),i=h(3808),o=h(5068);const a=["class","app-demon-list-header"];function u(d,A){if(1&d&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&d){const T=e.oxw();e.uIk("colSpan",T.statColIndices.length),e.xp6(1),e.Oqu(T.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9")}}function r(d,A){if(1&d&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&d){const T=e.oxw();e.uIk("colSpan",T.resistColIndices.length),e.xp6(1),e.Oqu(T.langEn?"Resistances":"\u8010\u6027")}}function D(d,A){if(1&d&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&d){const T=e.oxw();e.uIk("colSpan",T.affinityColIndices.length),e.xp6(1),e.Oqu(T.langEn?"Affinities":"\u30b9\u30ad\u30eb\u9069\u6b63")}}function m(d,A){1&d&&(e.TgZ(0,"th",5),e._uU(1,"Enemy"),e.qZA())}function f(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"th",2),e.NdJ("click",function(){e.CHM(T);const g=e.oxw();return e.KtG(g.nextSortFunIndex(4))}),e._uU(1,"Inherits"),e.qZA()}if(2&d){const T=e.oxw();e.Q6J("ngClass",T.sortDirClass(4))}}function p(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"th",6),e.NdJ("click",function(){const J=e.CHM(T).$implicit,j=e.oxw();return e.KtG(j.nextSortFunIndex(J.index))}),e._uU(1),e.qZA()}if(2&d){const T=A.$implicit;e.xp6(1),e.hij(" ",T.stat," ")}}function _(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"th",6),e.NdJ("click",function(){const J=e.CHM(T).$implicit,j=e.oxw();return e.KtG(j.nextSortFunIndex(J.index))}),e._UZ(1,"div"),e.qZA()}if(2&d){const T=A.$implicit;e.xp6(1),e.Gre("element-icon ",T.elem,"")}}function L(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"th",6),e.NdJ("click",function(){const J=e.CHM(T).$implicit,j=e.oxw();return e.KtG(j.nextSortFunIndex(J.index))}),e._UZ(1,"div"),e.qZA()}if(2&d){const T=A.$implicit;e.xp6(1),e.Gre("element-icon ",T.elem,"")}}function E(d,A){1&d&&(e.TgZ(0,"th"),e._uU(1,"Drops"),e.qZA())}function S(d,A){1&d&&(e.TgZ(0,"th"),e._uU(1,"Appears"),e.qZA())}let P=(()=>{var d;class A extends t.j{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.langEn=!0,this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[]}ngOnInit(){this.nextColIndices()}nextColIndices(){let I=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((g,J)=>({stat:g,index:J+I})),I+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((g,J)=>({elem:g,index:J+I})),I+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((g,J)=>({elem:g,index:J+I})))}}return(d=A).\u0275fac=function(){let T;return function(g){return(T||(T=e.n5z(d)))(g||d)}}(),d.\u0275cmp=e.Xpm({type:d,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",langEn:"langEn",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[e.qOj],attrs:a,decls:23,vars:17,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(I,g){1&I&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.YNc(3,u,2,2,"th",0),e.YNc(4,r,2,2,"th",0),e.YNc(5,D,2,2,"th",0),e.YNc(6,m,2,0,"th",1),e.qZA(),e.TgZ(7,"tr")(8,"th",2),e.NdJ("click",function(){return g.nextSortFunIndex(1)}),e.TgZ(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"th",2),e.NdJ("click",function(){return g.nextSortFunIndex(2)}),e.TgZ(12,"span"),e._uU(13,"Lvl"),e.qZA()(),e.TgZ(14,"th",2),e.NdJ("click",function(){return g.nextSortFunIndex(3)}),e.TgZ(15,"span"),e._uU(16),e.qZA()(),e.YNc(17,f,2,1,"th",3),e.YNc(18,p,2,1,"th",4),e.YNc(19,_,2,3,"th",4),e.YNc(20,L,2,3,"th",4),e.YNc(21,E,2,0,"th",0),e.YNc(22,S,2,0,"th",0),e.qZA()),2&I&&(e.xp6(1),e.uIk("colSpan",g.hasInherits?4:3),e.xp6(1),e.Oqu(g.langEn?g.isPersona?"Persona":"Demon":"\u60aa\u9b54"),e.xp6(1),e.Q6J("ngIf",g.statColIndices.length),e.xp6(1),e.Q6J("ngIf",g.resistColIndices.length),e.xp6(1),e.Q6J("ngIf",g.affinityColIndices.length),e.xp6(1),e.Q6J("ngIf",g.isEnemy),e.xp6(2),e.Q6J("ngClass",g.sortDirClass(1)),e.xp6(2),e.Oqu(g.langEn?"Race":"\u7a2e\u65cf"),e.xp6(1),e.Q6J("ngClass",g.sortDirClass(2)),e.xp6(3),e.Q6J("ngClass",g.sortDirClass(3)),e.xp6(2),e.Oqu(g.langEn?"Name":"\u60aa\u9b54\u540d"),e.xp6(1),e.Q6J("ngIf",g.hasInherits),e.xp6(1),e.Q6J("ngForOf",g.statColIndices),e.xp6(1),e.Q6J("ngForOf",g.resistColIndices),e.xp6(1),e.Q6J("ngForOf",g.affinityColIndices),e.xp6(1),e.Q6J("ngIf",g.isEnemy),e.xp6(1),e.Q6J("ngIf",g.isEnemy))},dependencies:[c.mk,c.sg,c.O5],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0}),A})();const w=["class","app-smt-demon-list-row"];function F(d,A){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"lvlToNumber"),e.qZA()),2&d){const T=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,T.data.lvl))}}function H(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(T);const g=e.oxw(2);return e.KtG(g.updateCurrRange())}),e._uU(1),e.qZA()}if(2&d){const T=e.oxw(2);e.xp6(1),e.Oqu(T.data.currLvl)}}function N(d,A){if(1&d&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&d){const T=A.index,I=e.oxw(3);e.Q6J("value",T+I.currOffset),e.xp6(1),e.Oqu(T+I.currOffset)}}function M(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"select",9),e.NdJ("change",function(g){e.CHM(T);const J=e.oxw(2);return e.KtG(J.emitValidLvl(g))}),e.TgZ(1,"option",10),e._uU(2),e.qZA(),e.YNc(3,N,2,2,"option",11),e.qZA()}if(2&d){const T=e.oxw(2);e.xp6(1),e.Q6J("value",T.data.currLvl),e.xp6(1),e.Oqu(T.data.currLvl),e.xp6(1),e.Q6J("ngForOf",T.currRange)}}function U(d,A){if(1&d&&(e.TgZ(0,"td",5),e.YNc(1,H,2,1,"button",6),e.YNc(2,M,4,3,"select",7),e.qZA()),2&d){const T=e.oxw();e.xp6(1),e.Q6J("ngIf",!T.currOffset),e.xp6(1),e.Q6J("ngIf",T.currOffset)}}function b(d,A){if(1&d&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()()),2&d){const T=e.oxw();e.xp6(1),e.Gre("element-icon i",T.data.inherits,""),e.xp6(1),e.Oqu(T.data.inherits)}}function Q(d,A){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&d){const T=A.$implicit;e.xp6(1),e.Oqu(T)}}function q(d,A){if(1&d&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToString"),e.qZA()),2&d){const T=A.$implicit;e.Gre("resists ",e.lcZ(1,4,T),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,T)," ")}}function W(d,A){if(1&d&&(e.ynx(0),e.YNc(1,q,4,8,"td",12),e.BQk()),2&d){const T=e.oxw();e.xp6(1),e.Q6J("ngForOf",T.data.resists)}}function C(d,A){if(1&d&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToStringJa"),e.qZA()),2&d){const T=A.$implicit;e.Gre("resists ",e.lcZ(1,4,T),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,T)," ")}}function y(d,A){if(1&d&&(e.ynx(0),e.YNc(1,C,4,8,"td",12),e.BQk()),2&d){const T=e.oxw();e.xp6(1),e.Q6J("ngForOf",T.data.resists)}}function x(d,A){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"affinityToString"),e.qZA()),2&d){const T=A.$implicit;e.Gre("affinity",T,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,T)," ")}}function Z(d,A){if(1&d&&(e.ynx(0),e.YNc(1,x,3,6,"td",12),e.BQk()),2&d){const T=e.oxw();e.xp6(1),e.Q6J("ngForOf",T.data.affinities)}}function k(d,A){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&d){const T=e.oxw();e.xp6(1),e.Oqu(T.data.drop)}}function Y(d,A){if(1&d&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&d){const T=e.oxw();e.xp6(1),e.Oqu(T.data.area)}}const K=function(d){return["align",d]},G=function(d,A){return{special:d,exception:A}};function $(d,A){if(1&d){const T=e.EpF();e.TgZ(0,"tr",7),e.NdJ("currLvl",function(g){const j=e.CHM(T).$implicit,V=e.oxw();return e.KtG(V.lvlChanged.emit({demon:j.name,currLvl:g}))}),e.qZA()}if(2&d){const T=A.$implicit,I=e.oxw();e.Q6J("isEnemy",I.isEnemy)("hasCurrLvl",I.hasCurrLvl)("hasInherits",!!I.inheritOrder)("hasAffinity",!!I.affinityHeaders)("langEn",I.langEn)("ngClass",e.WLB(7,G,"special"===T.fusion,"special"!==T.fusion&&"normal"!==T.fusion))("data",T)}}let z=(()=>{var d;class A{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.langEn=!0,this.currLvl=new e.vpe,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(100-this.currOffset))}emitValidLvl(I){const g=parseInt(I.target.value,10);this.data.currLvl!==g&&0<g&&g<100&&Number.isInteger(g)&&(this.data.currLvl=g,this.currLvl.emit(g))}}return(d=A).\u0275fac=function(I){return new(I||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",langEn:"langEn",data:"data"},outputs:{currLvl:"currLvl"},attrs:w,decls:14,vars:15,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click",4,"ngIf"],[3,"change",4,"ngIf"],[3,"click"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(I,g){1&I&&(e.TgZ(0,"td",0),e._uU(1),e.qZA(),e.YNc(2,F,3,3,"td",1),e.YNc(3,U,3,2,"td",2),e.TgZ(4,"td")(5,"a",3),e._uU(6),e.qZA()(),e.YNc(7,b,3,4,"td",1),e.YNc(8,Q,2,1,"td",4),e.YNc(9,W,2,1,"ng-container",1),e.YNc(10,y,2,1,"ng-container",1),e.YNc(11,Z,2,1,"ng-container",1),e.YNc(12,k,2,1,"td",1),e.YNc(13,Y,2,1,"td",1)),2&I&&(e.Q6J("ngClass",e.VKq(13,K,g.data.align?g.data.align:"none")),e.xp6(1),e.Oqu(g.data.race),e.xp6(1),e.Q6J("ngIf",!g.hasCurrLvl),e.xp6(1),e.Q6J("ngIf",g.hasCurrLvl),e.xp6(2),e.s9C("routerLink",g.data.name),e.xp6(1),e.Oqu(g.data.name),e.xp6(1),e.Q6J("ngIf",g.hasInherits),e.xp6(1),e.Q6J("ngForOf",g.data.stats),e.xp6(1),e.Q6J("ngIf",g.langEn),e.xp6(1),e.Q6J("ngIf",!g.langEn),e.xp6(1),e.Q6J("ngIf",g.hasAffinity),e.xp6(1),e.Q6J("ngIf",g.isEnemy),e.xp6(1),e.Q6J("ngIf",g.isEnemy))},dependencies:[c.mk,c.sg,c.O5,l.rH,s.YN,s.Kr,n.JZ,n.Yk,n.LG,n.Vk],encapsulation:2,changeDetection:0}),A})(),X=(()=>{var d;class A extends v{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.langEn=!0,this.lvlChanged=new e.vpe}}return(d=A).\u0275fac=function(){let T;return function(g){return(T||(T=e.n5z(d)))(g||d)}}(),d.\u0275cmp=e.Xpm({type:d,selectors:[["app-smt-demon-list"]],inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",langEn:"langEn"},outputs:{lvlChanged:"lvlChanged"},features:[e._Bn([O.L]),e.qOj],decls:8,vars:18,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","langEn","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","langEn","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","langEn","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","langEn","ngClass","data","currLvl"]],template:function(I,g){1&I&&(e.TgZ(0,"table",0)(1,"tfoot",1,2),e.NdJ("sortFunIndexChanged",function(j){return g.sortFunIndex=j}),e.qZA()(),e.TgZ(3,"table",3),e._UZ(4,"tfoot",4,5),e.TgZ(6,"tbody"),e.YNc(7,$,1,10,"tr",6),e.qZA()()),2&I&&(e.xp6(1),e.Q6J("isPersona",g.isPersona)("isEnemy",g.isEnemy)("langEn",g.langEn)("hasInherits",!!g.inheritOrder)("statHeaders",g.statHeaders)("resistHeaders",g.resistHeaders)("affinityHeaders",g.affinityHeaders)("sortFunIndex",g.sortFunIndex),e.xp6(3),e.Udp("visibility","collapse"),e.Q6J("isPersona",g.isPersona)("isEnemy",g.isEnemy)("langEn",g.langEn)("hasInherits",!!g.inheritOrder)("statHeaders",g.statHeaders)("resistHeaders",g.resistHeaders)("affinityHeaders",g.affinityHeaders),e.xp6(3),e.Q6J("ngForOf",g.rowData))},dependencies:[c.mk,c.sg,i.v,o.X,P,z],encapsulation:2,changeDetection:0}),A})()},3934:(B,R,h)=>{h.d(R,{J:()=>W,W:()=>q});var e=h(3247),O=h(9217),t=h(4769);let v=(()=>{var C;class y extends O.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(Z,k)=>1e4*(this.elemOrder[Z.element]-this.elemOrder[k.element])+Z.rank-k.rank,(Z,k)=>1e4*(this.elemOrder[Z.element]-this.elemOrder[k.element])+Z.rank-k.rank,(Z,k)=>Z.name.localeCompare(k.name),(Z,k)=>k.cost-Z.cost,(Z,k)=>Z.rank-k.rank],this.inheritOrder&&this.sortFuns.push((Z,k)=>this.inheritOrder[Z.inherit]-this.inheritOrder[k.inherit])}getSortFun(Z){return this.sortFuns[Z]}}return(C=y).\u0275fac=function(){let x;return function(k){return(x||(x=t.n5z(C)))(k||C)}}(),C.\u0275dir=t.lG2({type:C,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[t.qOj]}),y})();var c=h(6814),l=h(4487),s=h(2173),n=h(3808),i=h(5068);const o=["class","app-skill-list-header"];function a(C,y){if(1&C&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&C){const x=t.oxw();t.xp6(1),t.Oqu(x.langEn?"Target":"\u7bc4\u56f2")}}function u(C,y){if(1&C){const x=t.EpF();t.TgZ(0,"th",0),t.NdJ("click",function(){t.CHM(x);const k=t.oxw();return t.KtG(k.nextSortFunIndex(4))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&C){const x=t.oxw();t.Q6J("ngClass",x.sortDirClass(4)),t.xp6(2),t.Oqu(x.langEn?"Rank":"\u30e9\u30f3\u30af")}}function r(C,y){if(1&C){const x=t.EpF();t.TgZ(0,"th",0),t.NdJ("click",function(){t.CHM(x);const k=t.oxw();return t.KtG(k.nextSortFunIndex(5))}),t.TgZ(1,"span"),t._uU(2,"Inherit"),t.qZA()()}if(2&C){const x=t.oxw();t.Q6J("ngClass",x.sortDirClass(5))}}function D(C,y){if(1&C&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&C){const x=t.oxw();t.xp6(1),t.Oqu(x.transferTitle)}}let m=(()=>{var C;class y extends O.j{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.langEn=!0,this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}}return(C=y).\u0275fac=function(){let x;return function(k){return(x||(x=t.n5z(C)))(k||C)}}(),C.\u0275cmp=t.Xpm({type:C,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",langEn:"langEn",transferTitle:"transferTitle"},features:[t.qOj],attrs:o,decls:23,vars:16,consts:[[1,"sortable",3,"ngClass","click"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(Z,k){1&Z&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA()(),t.TgZ(5,"tr")(6,"th",0),t.NdJ("click",function(){return k.nextSortFunIndex(1)}),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"th",0),t.NdJ("click",function(){return k.nextSortFunIndex(2)}),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"th",0),t.NdJ("click",function(){return k.nextSortFunIndex(3)}),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"th"),t._uU(16),t.qZA(),t.YNc(17,a,2,1,"th",1),t.YNc(18,u,3,2,"th",2),t.YNc(19,r,3,1,"th",2),t.TgZ(20,"th"),t._uU(21),t.qZA(),t.YNc(22,D,2,1,"th",1),t.qZA()),2&Z&&(t.xp6(1),t.uIk("colSpan",k.skillHeaderLen),t.xp6(1),t.Oqu(k.langEn?"Skill":"\u30b9\u30ad\u30eb"),t.xp6(1),t.uIk("colSpan",k.acquireHeaderLen),t.xp6(1),t.Oqu(k.langEn?"How To Acquire":"\u60aa\u9b54"),t.xp6(2),t.Q6J("ngClass",k.sortDirClass(1)),t.xp6(2),t.Oqu(k.langEn?"Elem":"\u5c5e\u6027"),t.xp6(1),t.Q6J("ngClass",k.sortDirClass(2)),t.xp6(2),t.Oqu(k.langEn?"Name":"\u30b9\u30ad\u30eb\u540d"),t.xp6(1),t.Q6J("ngClass",k.sortDirClass(3)),t.xp6(2),t.Oqu(k.langEn?"Cost":"\u6d88\u8cbb"),t.xp6(2),t.Oqu(k.langEn?"Effect":"\u8aac\u660e"),t.xp6(1),t.Q6J("ngIf",k.hasTarget),t.xp6(1),t.Q6J("ngIf",k.hasRank),t.xp6(1),t.Q6J("ngIf",k.hasInherit),t.xp6(2),t.Oqu(k.langEn?"Learned By":"\u7fd2\u5f97"),t.xp6(1),t.Q6J("ngIf",k.transferTitle))},dependencies:[c.mk,c.O5],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0}),y})();const f=["class","app-smt-skill-list-row"];function p(C,y){if(1&C&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&C){const x=t.oxw();t.xp6(1),t.HOy(" ",x.data.damage," ",x.data.element," damage",x.data.hits?" x"+x.data.hits:"","",x.data.effect?", "+x.data.effect:""," ")}}function _(C,y){if(1&C&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&C){const x=t.oxw();t.xp6(1),t.Oqu(x.data.effect)}}function L(C,y){if(1&C&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()()),2&C){const x=t.oxw();t.xp6(1),t.Gre("target-icon a",x.data.target||"Self",""),t.xp6(1),t.Oqu(x.data.target||"Self")}}function E(C,y){if(1&C&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&C){const x=t.oxw();t.Udp("color",99!==x.data.rank?null:"transparent"),t.xp6(1),t.Oqu(x.data.rank)}}function S(C,y){if(1&C&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()()),2&C){const x=t.oxw();t.xp6(1),t.Gre("element-icon ",x.data.inherit.toLowerCase(),""),t.xp6(1),t.Oqu(x.data.inherit)}}function P(C,y){if(1&C&&(t.TgZ(0,"td",3),t._uU(1),t.ALo(2,"skillLevelToString"),t.qZA()),2&C){const x=t.oxw();t.Q6J("ngClass","lvl"+x.data.level.toString()),t.xp6(1),t.Oqu(t.lcZ(2,2,x.data.level))}}function w(C,y){if(1&C&&(t.TgZ(0,"li")(1,"a",6),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"skillLevelToShortString"),t.qZA()),2&C){const x=y.$implicit,Z=t.oxw(2);t.xp6(1),t.hYB("routerLink","../",Z.isPersona?"personas":"demons","/",x.demon,""),t.xp6(1),t.Oqu(x.demon),t.xp6(1),t.hij(" ",t.lcZ(4,4,x.level)," ")}}function F(C,y){if(1&C&&(t.TgZ(0,"td")(1,"ul",4),t.YNc(2,w,5,6,"li",5),t.qZA()()),2&C){const x=t.oxw();t.xp6(2),t.Q6J("ngForOf",x.data.learnedBy)}}function H(C,y){if(1&C&&(t.ynx(0),t.TgZ(1,"a",6),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"skillLevelToShortString"),t.BQk()),2&C){const x=t.oxw().$implicit,Z=t.oxw(2);t.xp6(1),t.hYB("routerLink","../",Z.hasSkillCards?"personas":"demons","/",x.demon,""),t.xp6(1),t.Oqu(x.demon),t.xp6(1),t.hij(" ",t.lcZ(4,4,x.level)," ")}}function N(C,y){if(1&C&&(t.ynx(0),t._uU(1),t.BQk()),2&C){const x=t.oxw().$implicit;t.xp6(1),t.hij("",x.demon," ")}}function M(C,y){if(1&C&&(t.TgZ(0,"li"),t.YNc(1,H,5,6,"ng-container",0),t.YNc(2,N,2,1,"ng-container",0),t.qZA()),2&C){const x=y.$implicit;t.xp6(1),t.Q6J("ngIf",x.level>=-99),t.xp6(1),t.Q6J("ngIf",x.level<-99)}}function U(C,y){if(1&C&&(t.TgZ(0,"td")(1,"ul",4),t.YNc(2,M,3,2,"li",5),t.qZA()()),2&C){const x=t.oxw();t.xp6(2),t.Q6J("ngForOf",x.data.transfer)}}const b=function(C,y){return{extra:C,unique:y}};function Q(C,y){if(1&C&&t._UZ(0,"tr",7),2&C){const x=y.$implicit,Z=t.oxw();t.Q6J("hasInherit",!!Z.inheritOrder)("hasTarget",Z.hasTarget)("hasRank",Z.hasRank)("isPersona",Z.isPersona)("hasTransferTitle",!!Z.transferTitle)("hasSkillCards",Z.transferTitle.includes("Card"))("data",x)("ngClass",t.WLB(8,b,x.rank>70&&x.rank<90,x.rank>90))}}let q=(()=>{var C;class y{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1,this.hasSkillCards=!1}}return(C=y).\u0275fac=function(Z){return new(Z||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",hasSkillCards:"hasSkillCards",data:"data"},attrs:f,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(Z,k){1&Z&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"skillCostToString"),t.qZA(),t.YNc(8,p,2,4,"td",0),t.YNc(9,_,2,1,"td",0),t.YNc(10,L,3,4,"td",0),t.YNc(11,E,2,3,"td",1),t.YNc(12,S,3,4,"td",0),t.YNc(13,P,3,4,"td",2),t.YNc(14,F,3,1,"td",0),t.YNc(15,U,3,1,"td",0)),2&Z&&(t.xp6(1),t.Gre("element-icon ",k.data.element,""),t.xp6(1),t.Oqu(k.data.element),t.xp6(2),t.Oqu(k.data.name),t.xp6(1),t.Udp("color",k.data.cost?null:"transparent"),t.xp6(1),t.Oqu(t.lcZ(7,16,k.data.cost)),t.xp6(2),t.Q6J("ngIf",k.data.damage),t.xp6(1),t.Q6J("ngIf",!k.data.damage),t.xp6(1),t.Q6J("ngIf",k.hasTarget),t.xp6(1),t.Q6J("ngIf",k.hasRank),t.xp6(1),t.Q6J("ngIf",k.data.inherit),t.xp6(1),t.Q6J("ngIf",k.hasLvl),t.xp6(1),t.Q6J("ngIf",k.hasLearned),t.xp6(1),t.Q6J("ngIf",k.hasTransferTitle))},dependencies:[c.mk,c.sg,c.O5,l.rH,s.tq,s.Lu,s.b0],encapsulation:2,changeDetection:0}),y})(),W=(()=>{var C;class y extends v{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.langEn=!0,this.transferTitle=""}}return(C=y).\u0275fac=function(){let x;return function(k){return(x||(x=t.n5z(C)))(k||C)}}(),C.\u0275cmp=t.Xpm({type:C,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",langEn:"langEn",transferTitle:"transferTitle"},features:[t._Bn([e.L]),t.qOj],decls:8,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","langEn","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","langEn","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass"]],template:function(Z,k){1&Z&&(t.TgZ(0,"table",0)(1,"tfoot",1,2),t.NdJ("sortFunIndexChanged",function(K){return k.sortFunIndex=K}),t.qZA()(),t.TgZ(3,"table",3),t._UZ(4,"tfoot",4,5),t.TgZ(6,"tbody"),t.YNc(7,Q,1,11,"tr",6),t.qZA()()),2&Z&&(t.xp6(1),t.Q6J("hasInherit",!!k.inheritOrder)("hasTarget",k.hasTarget)("hasRank",k.hasRank)("langEn",k.langEn)("transferTitle",k.transferTitle)("sortFunIndex",k.sortFunIndex),t.xp6(3),t.Udp("visibility","collapse"),t.Q6J("hasInherit",!!k.inheritOrder)("hasTarget",k.hasTarget)("hasRank",k.hasRank)("langEn",k.langEn)("transferTitle",k.transferTitle),t.xp6(3),t.Q6J("ngForOf",k.rowData))},dependencies:[c.mk,c.sg,n.v,i.X,m,q],encapsulation:2,changeDetection:0}),y})()},7548:(B,R,h)=>{h.d(R,{Bz:()=>S,I7:()=>r,Ir:()=>m,Q0:()=>p,RD:()=>P,YP:()=>f,nL:()=>w,oA:()=>L,uC:()=>_,vE:()=>D,wC:()=>E});var e=h(4769),O=h(3837),t=h(1139),v=h(923),c=h(7862),l=h(2416),s=h(9015),n=h(6361),i=h(7293),o=h(6213),a=h(6071),u=h(6748);const r=new e.OlP("compendium.config"),D=new e.OlP("fusion.data.service"),m=new e.OlP("fusion.trio.service"),f=new O.N([t.ne,t.e7,t.Co],[v.Eh,v.s0,v.wy]),p=new O.N([t.ne,t.e7,t.Co,s.c],[v.Eh,v.s0,v.wy]),_=new O.N([c.Mg,c.Ii,c.Aq,c.z1],[l.Q]),L=new O.N([c.Mg,c.Ii,c.Aq,s.f],[l.Q]),E=new O.N([t.ne,n.e],[]),S=new O.N([c.Mg,i.Ln],[]),P=new o.e([a.jm,a.UN,a.e7],[]),w=new o.e([u.Mg,u.Ln,u._K],[]);!function F(M){const U={};for(let b=0;b<M.length;b++)U[M[b]]=b}(["wk","no","rs","st","nu","rp","dr","ab"])},1032:(B,R,h)=>{h.d(R,{l:()=>t});var e=h(5592),O=h(4769);let t=(()=>{var v;class c{constructor(s,n,i){this.title2=s,this.changeDetectorRef=n,this.fusionDataService2=i,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(o,a)=>o.name.localeCompare(a.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}onCompendiumUpdated(s){this.changeDetectorRef.markForCheck(),this.demons=e.y.create(n=>{let i=s.allDemons;this.showAllies||(i=i.filter(o=>o.isEnemy)),this.showEnemies||(i=i.filter(o=>!o.isEnemy)),i.sort(this.defaultSortFun),n.next(i.slice(0,this.initListLen)),setTimeout(()=>n.next(i))})}}return(v=c).\u0275fac=function(s){O.$Z()},v.\u0275dir=O.lG2({type:v}),c})()},4330:(B,R,h)=>{h.d(R,{e:()=>t});var e=h(5592),O=h(4769);let t=(()=>{var v;class c{constructor(s,n,i){this.title2=s,this.changeDetectorRef2=n,this.fusionDataService2=i,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(o,a)=>o.name.localeCompare(a.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}onCompendiumUpdated(s){this.changeDetectorRef2.markForCheck(),this.skills=e.y.create(n=>{const i=s.allSkills;i.sort(this.defaultSortFun),n.next(i.slice(0,this.initListLen)),setTimeout(()=>n.next(i))})}}return(v=c).\u0275fac=function(s){O.$Z()},v.\u0275dir=O.lG2({type:v}),c})()},7293:(B,R,h)=>{function e(v,c,l){const{race:s,lvl:n}=c.getDemon(v),i=[];if(c.getSpecialNameEntries(v).length)return i;const o=c.getResultDemonLvls(s),a=o.indexOf(n),r=2*(n-1),D=o[a+1]?2*(o[a+1]-1):200,m=o[a+2]?2*(o[a+2]-1):200,f=c.getIngredientDemonLvls(s).filter(_=>_!==n),p=D/2+1;for(const _ of f)p<_&&p+_<m&&i.push({name1:c.reverseLookupDemon(s,p),name2:c.reverseLookupDemon(s,_)});for(let _=0;_<f.length;_++){const L=f[_];for(let E=_+1;E<f.length;E++){const S=f[E];r<=L+S&&L+S<D&&i.push({name1:c.reverseLookupDemon(s,L),name2:c.reverseLookupDemon(s,S)})}}return i}function O(v,c,l){const s=[],{race:n,lvl:i}=c.getDemon(v),o=l.getElemModifiers(n),a=c.getResultDemonLvls(n),u=a.indexOf(i),r=Object.keys(o).map(D=>parseInt(D,10));if(r.sort(),-1===u)return s;for(const D of r)if(0<=u+D&&u+D<a.length){const m=a[u+D];s.push({price:m,names1:[c.reverseLookupDemon(n,m)],lvl1:m,names2:o[D],lvl2:m})}return s}function t(v,c,l){const s=[],{race:n,lvl:i}=c.getDemon(v),o=l.getElemModifiers(n),a=c.getResultDemonLvls(n).concat([99]),u=a.indexOf(i),r=[i];if(-1===u)return s;u>1&&o[2]&&s.push({price:0,names1:[],lvl1:a[u-2],names2:o[2],lvl2:a[u-1]-1}),u>0&&o[1]&&s.push({price:0,names1:[],lvl1:a[u-1],names2:o[1],lvl2:i-1}),o[-1]&&s.push({price:0,names1:[],lvl1:i+1,names2:o[-1],lvl2:a[u+1]}),u<a.length-2&&o[-1]&&(r.push(a[u+1]),s.push({price:0,names1:[c.reverseLookupDemon(n,a[u+1])],lvl1:a[u+1],names2:o[-1],lvl2:a[u+2]})),u<a.length-2&&o[-2]&&s.push({price:0,names2:o[-2],lvl1:a[u+1]+1,lvl2:a[u+2],names1:[]}),u<a.length-3&&o[-2]&&(r.push(a[u+2]),s.push({price:0,names1:[c.reverseLookupDemon(n,a[u+2])],lvl1:a[u+2],names2:o[-2],lvl2:a[u+3]}),s.push({price:0,names1:[c.reverseLookupDemon(n,a[u+1])],lvl1:a[u+2]+1,names2:o[-2],lvl2:a[u+3]}));for(const D of s.filter(m=>0===m.names1.length))for(const m of c.getIngredientDemonLvls(n).filter(f=>!r.includes(f)))m<=D.lvl2&&D.names1.push(c.reverseLookupDemon(n,m));for(const D of s)D.price=Math.pow(3*D.lvl1+7,2)+2e3;return s.filter(D=>D.names1.length>0)}h.d(R,{Ln:()=>e,N8:()=>t,k0:()=>O})},6361:(B,R,h)=>{function e(O,t,v){const c=[],{race:l,lvl:s}=t.getDemon(O),i=t.getIngredientDemonLvls(l).filter(a=>a!==s),o=t.getResultDemonLvls(l).filter(a=>a!==s).map(a=>2*a);for(const a of i){let r=o.reduce((m,f)=>s+a+2>=f?m+1:m,-1);o[r]/2===a&&(r-=1);const D=o[r]/2;D&&c.push({name1:t.reverseLookupDemon(l,a),name2:t.reverseLookupDemon(l,D)})}return c}h.d(R,{e:()=>e})},6748:(B,R,h)=>{h.d(R,{D4:()=>s,Ln:()=>c,Mg:()=>v,_K:()=>l});var e=h(6071),O=h(7862);function t(n,i){if(!i.length)return-1;let o=0;for(const a of i)n>a&&o++;return o===i.length?-1:o}function v(n,i,o){const{normalChart:a,tripleChart:u,raceOrder:r}=o,{race:D,lvl:m}=i.getDemon(n),f=3*u.lvlModifier,p=[],_=i.getResultDemonLvls(D),L=_.indexOf(m);if(-1===L)return p;const E={};for(const[F,H]of Object.entries(u.getRaceFissions(D))){E[F]||(E[F]=[]);for(const N of H)E[N]||(E[N]=[]),F!==N&&E[F].push(N),E[N].push(F)}const S={};for(const[F,H]of Object.entries(E)){S[F]={};for(const N of H)for(const[M,U]of Object.entries(a.getRaceFissions(N)))S[F][M]||(S[F][M]=[]),S[F][M]=S[F][M].concat(U);for(const N of H)F!==N&&(S[F][N]||(S[F][N]=[]),S[F][N].push(N))}const P=_[L-1]?3*_[L-1]-f:0,w=3*m-f;for(const[F,H]of Object.entries(S))for(const N of i.getIngredientDemonLvls(F)){const M=i.reverseLookupDemon(F,N),U=i.getDemon(M).currLvl;if(M!==n){const b=P-N,Q=w-N;for(const[q,W]of Object.entries(H))for(const C of i.getIngredientDemonLvls(q)){const y=i.reverseLookupDemon(q,C),x=i.getDemon(y).currLvl;if(y!==M&&y!==n&&(U>x||U===x&&r[F]<r[q])){const Z=b-C,k=Q-C;for(const Y of W)for(const K of i.getIngredientDemonLvls(Y)){const G=i.reverseLookupDemon(Y,K),$=i.getDemon(G).currLvl;G!==y&&G!==M&&G!==n&&(q!==Y||C<K)&&(U>$||U===$&&r[F]<r[Y])&&Z<K&&K<=k&&p.push({name1:M,name2:y,name3:G})}}}}}return p}function c(n,i,o){const{tripleChart:u}=o,{race:r,lvl:D}=i.getDemon(n),m=u.lvlModifier,f=[],p=i.getIngredientDemonLvls(r).filter(L=>L!==D),_=i.getResultDemonLvls(r);for(let L=0;L<p.length;L++){const E=p[L],S=_.filter(w=>w!==E),P=i.reverseLookupDemon(r,E);for(let w=L+1;w<p.length;w++){const F=p[w],H=S.filter(M=>M!==F),N=i.reverseLookupDemon(r,F);for(let M=w+1;M<p.length;M++){const U=p[M],b=H.filter(C=>C!==U),Q=i.reverseLookupDemon(r,U),W=t((E+F+U)/3+m,b);-1!==W&&b[W]===D&&f.push({name1:P,name2:N,name3:Q})}}}return f}function l(n,i,o){const{race:a,lvl:u}=i.getDemon(n),r=i.getResultDemonLvls(a).slice();if(0<r.indexOf(u)){const D=i.reverseLookupDemon(a,r[r.indexOf(u)-1]);return[].concat((0,e.jm)(D,i,o).filter(f=>f.name3===n),(0,e.UN)(D,i,o).filter(f=>f.name3===n)).map(f=>({name1:f.name1,name2:f.name2,name3:D}))}return[]}function s(n,i,o){return(0,O.Aq)(n,i,o.tripleChart).map(a=>{const[u,r]=a.name2.split(" x ");return{name1:a.name1,name2:u,name3:r}})}},6071:(B,R,h)=>{h.d(R,{Hd:()=>l,UN:()=>v,e7:()=>c,jm:()=>t});var e=h(1139);function O(s,n){if(!n.length)return-1;let i=0;for(const o of n)s>o&&i++;return i===n.length?-1:i}function t(s,n,i){const{normalChart:o,tripleChart:a,raceOrder:u}=i,{race:r,lvl:D,currLvl:m}=n.getDemon(s),f=3*a.lvlModifier,p=[],_=a.getRaceFusions(r),L={};for(const[E,S]of Object.entries(_)){L[E]||(L[E]={}),r!==E&&(L[E][E]=S);for(const[P,w]of Object.entries(o.getRaceFissions(E))){L[P]||(L[P]={});for(const F of w)L[P][F]=S}}for(const[E,S]of Object.entries(L))for(const P of n.getIngredientDemonLvls(E)){const w=n.reverseLookupDemon(E,P),F=n.getDemon(w).currLvl;if(w!==s&&(m>F||m===F&&u[r]<u[E]))for(const[H,N]of Object.entries(S)){const M=n.getResultDemonLvls(N),U=M.map(b=>3*b-f-D-P);for(const b of n.getIngredientDemonLvls(H)){const Q=n.reverseLookupDemon(H,b),q=n.getDemon(Q).currLvl;if(Q!==w&&Q!==s&&(E!==H||P<b)&&(m>q||m===q&&u[r]<u[H]))if(n.isElementDemon(N))p.push({name1:w,name2:Q,name3:N});else{const W=O(b,U);if(-1!==W){const C=n.reverseLookupDemon(N,M[W]);C!==Q&&C!==w&&C!==s?p.push({name1:w,name2:Q,name3:C}):W+1<M.length&&p.push({name1:w,name2:Q,name3:n.reverseLookupDemon(N,M[W+1])})}}}}}return p}function v(s,n,i){const{normalChart:o,tripleChart:a,raceOrder:u}=i,{race:r,lvl:D,currLvl:m}=n.getDemon(s),f=3*a.lvlModifier,p=[],_={};_[r]=Object.assign({},a.getRaceFusions(r)),delete _[r][r];for(const[L,E]of Object.entries(o.getRaceFusions(r)))_[L]=a.getRaceFusions(E);for(const[L,E]of Object.entries(_))for(const S of n.getIngredientDemonLvls(L)){const P=n.reverseLookupDemon(L,S),w=n.getDemon(P).currLvl;if(P!==s)for(const[F,H]of Object.entries(E)){const N=n.getResultDemonLvls(H),M=N.map(U=>3*U-f-D-S);for(const U of n.getIngredientDemonLvls(F)){const b=n.reverseLookupDemon(F,U),Q=n.getDemon(b).currLvl;if(b!==P&&b!==s&&(Q>m||Q===m&&u[F]<u[r])&&(Q>w||Q===w&&u[F]<u[L]))if(n.isElementDemon(H))p.push({name1:P,name2:b,name3:H});else{const q=O(U,M);if(-1!==q){const W=n.reverseLookupDemon(H,N[q]);W!==b&&W!==P&&W!==s?p.push({name1:P,name2:b,name3:W}):q+1<N.length&&p.push({name1:P,name2:b,name3:n.reverseLookupDemon(H,N[q+1])})}}}}}return p}function c(s,n,i){const{tripleChart:a}=i,{race:u,lvl:r}=n.getDemon(s),D=a.getRaceFusions(u)[u],m=[];if(!D)return m;const f=n.getIngredientDemonLvls(u).filter(L=>L!==r),p=n.getResultDemonLvls(u).filter(L=>L!==r),_=a.lvlModifier;for(let L=0;L<f.length;L++){const E=f[L],S=p.filter(w=>w!==E),P=n.reverseLookupDemon(u,E);for(let w=L+1;w<f.length;w++){const F=f[w],H=S.filter(M=>M!==F),N=n.reverseLookupDemon(u,F);if(n.isElementDemon(D))m.push({name1:P,name2:N,name3:D});else{const U=O((E+r+F)/3+_,H);-1!==U&&m.push({name1:P,name2:N,name3:n.reverseLookupDemon(u,H[U])})}}}return m}function l(s,n,i){return(0,e.Co)(s,n,i.tripleChart).map(o=>{const[a,u]=o.name1.split(" x ");return{name1:a,name2:u,name3:o.name2}})}},2416:(B,R,h)=>{function e(O,t,v){const c=t.getSpecialNamePairs(O).slice();for(const[l,s]of Object.entries(v.getRaceFissions(O))){const n=t.getIngredientDemonLvls(l);for(let i=0;i<n.length;i++)for(let o=i+1;o<n.length;o++)c.push({name1:t.reverseLookupDemon(l,n[i]),name2:t.reverseLookupDemon(l,n[o])})}return c}h.d(R,{Q:()=>e})},923:(B,R,h)=>{function e(v,c,l){const s=[];for(const[n,i]of Object.entries(l.getElemFusions(v))){const o=c.getResultDemonLvls(n).filter(r=>r<100),a=i<0?o.slice(-1*i):o.slice(0,-1*i),u=i<0?o.slice(0,i):o.slice(i);for(let r=0;r<a.length;r++)s.push({name1:c.reverseLookupDemon(n,a[r]),name2:c.reverseLookupDemon(n,u[r])})}return s}function O(v,c,l){const s=[],n=l.getElemFusions(v);for(const{race:i,lvl:o,name:a}of c.specialDemons){const u=n[i];if(u){const r=(f,p)=>o>p?f+1:f,D=c.getResultDemonLvls(i).filter(f=>f<100),m=u+D.reduce(r,0);0<m&&m<D.length&&s.push({name1:a,name2:c.reverseLookupDemon(i,D[m])})}}return s}function t(v,c,l){return[]}h.d(R,{Eh:()=>e,s0:()=>O,wy:()=>t})},7862:(B,R,h)=>{function e(c,l,s){const n=[],i=l.getSpecialNamePairs(c);if(i.length>0)if(i[0].name1===i[0].name2)c=i[0].name1;else if(c!==i[0].name1)return i;const{race:o,lvl:a}=l.getDemon(c),u=l.getResultDemonLvls(o),r=u.indexOf(a);if(-1===r)return[];const D=u[r-1]?2*(u[r-1]-s.lvlModifier):0,m=u[r+1]?2*(a-s.lvlModifier):200;for(const[f,p]of Object.entries(s.getRaceFissions(o)))for(const _ of l.getIngredientDemonLvls(f)){const L=D-_,E=m-_;for(const S of p)for(const P of l.getIngredientDemonLvls(S))L<P&&P<=E&&(f!=S||_<P)&&n.push({name1:l.reverseLookupDemon(f,_),name2:l.reverseLookupDemon(S,P)})}return n}function O(c,l,s){const n=[],{race:i,lvl:o}=l.getDemon(c),a=Object.keys(s.getRaceFissions(i)).find(_=>"2"===_.charAt(0));if(!a)return n;const u=a.substring(1),r=l.getResultDemonLvls(u),D=r.indexOf(o);if(-1===D)return n;const m=r[D-2]||0,f=r[D-1]||0,p=r[D+1]?2*o:200;for(const[_,L]of Object.entries(s.getRaceFissions(u)))for(const E of l.getIngredientDemonLvls(_).filter(S=>S!==o))for(const S of L)for(const P of l.getIngredientDemonLvls(S).filter(w=>w!==o)){const F=E+P+s.lvlModifier;2*(E===f||P===f?m:f)<F&&F<=p&&n.push({name1:l.reverseLookupDemon(_,E),name2:l.reverseLookupDemon(S,P)})}return n}function t(c,l,s){const{race:n,lvl:i}=l.getDemon(c),o=[],a=s.getElemModifiers(n),u=Object.keys(a).map(m=>parseInt(m,10));if(l.getSpecialNamePairs(c).length||!u.length)return o;const r=[0,0].concat(l.getResultDemonLvls(n),[100,100]),D=[];for(const m of l.getIngredientDemonLvls(n)){const f=r.slice();f.indexOf(m)<0&&(f.push(m),f.sort((_,L)=>_-L));const p=f.indexOf(m);for(const _ of u)f[p+_]===i&&D.push({ingName:l.reverseLookupDemon(n,m),elementOffset:_})}for(const m of D)for(const f of a[m.elementOffset])o.push({name1:m.ingName,name2:f});return o}function v(c,l,s){const n=[],i=l.getSpecialNamePairs(c);if(0===i.length||c!==i[0].name1)return n;const o=l.getDemon(i[0].name2).race;for(const[a,u]of Object.entries(s.getRaceFissions(o)))for(const r of l.getIngredientDemonLvls(a))for(const D of u)for(const m of l.getIngredientDemonLvls(D))n.push({name1:l.reverseLookupDemon(a,r),name2:l.reverseLookupDemon(D,m)});return n}h.d(R,{Aq:()=>t,Ii:()=>O,Mg:()=>e,z1:()=>v})},1139:(B,R,h)=>{function e(c,l){if(!l.length)return-1;let s=0;for(const n of l)c>n&&s++;return s===l.length?s-1:s}function O(c,l,s){const n=[],{race:i,lvl:o}=l.getDemon(c);for(const[a,u]of Object.entries(s.getRaceFusions(i))){const r=l.getResultDemonLvls(u),D=r.map(m=>2*(m-s.lvlModifier)-o);for(const m of l.getIngredientDemonLvls(a)){const f=e(m,D);if(-1!==f&&100!==r[f]&&(i!=a||o!=m)){const p=l.reverseLookupDemon(u,r[f]);n.push(p===c&&f+1<r.length?{name1:l.reverseLookupDemon(a,m),name2:l.reverseLookupDemon(u,r[f+1])}:{name1:l.reverseLookupDemon(a,m),name2:p})}}}for(const a of l.reverseLookupSpecial(c)){const u=l.getSpecialNameEntries(a);if(2===u.length){const r=u[0]===c?u[1]:u[0];for(const D of n)D.name1===r&&(D.name2=a)}}return n}function t(c,l,s){const{race:n,lvl:i}=l.getDemon(c),o=s.getRaceFusions(n)[n],a=l.getIngredientDemonLvls(n).filter(r=>r!==i),u=[];if(o&&l.isElementDemon(o))for(const r of a)u.push({name1:l.reverseLookupDemon(n,r),name2:o});return u}function v(c,l,s){const n=[],{race:i,lvl:o}=l.getDemon(c),a=[0,0].concat(l.getResultDemonLvls(i),[100,100]);a.indexOf(o)<0&&(a.push(o),a.sort((m,f)=>m-f));const u=a.indexOf(o),r=s.getElemModifiers(i),D=Object.keys(r).map(m=>parseInt(m,10));for(const m of D){const f=a[u+m];if(0!==f&&100!==f){const p=l.reverseLookupDemon(i,f);for(const _ of r[m])n.push({name1:_,name2:p})}}return n}h.d(R,{Co:()=>v,e7:()=>t,ne:()=>O})},9015:(B,R,h)=>{function e(t,v,c){const{race:l,lvl:s}=v.getDemon(t),n=[0,0].concat(v.getResultDemonLvls(l),[100,100]),i=n.indexOf(s),o=[];if(c.getLightDark(l)<0||-1===i)return o;const a=n[i-2],u=n[i-1],r=n[i+1],D=0!==a?v.reverseLookupDemon(l,a):"",m=0!==u?v.reverseLookupDemon(l,u):"",f=100!==r?v.reverseLookupDemon(l,r):"";for(const p of c.races)if(c.getLightDark(p)<0)for(const _ of v.getIngredientDemonLvls(p)){const L=v.reverseLookupDemon(p,_);a>=_&&(a+_)%7==0&&o.push({name1:D,name2:L}),u>=_&&(u+_)%7!=0&&(u+_)%5==0&&o.push({name1:m,name2:L}),r>=_&&(r+_)%7!=0&&(r+_)%5!=0&&(r+_)%3==0&&o.push({name1:f,name2:L})}return o.filter(p=>""!==p.name1)}function O(t,v,c){const{race:l,lvl:s}=v.getDemon(t),n=[0,0].concat(v.getResultDemonLvls(l),[100,100]),i=n.indexOf(s),o=[];if(c.getLightDark(l)<0||-1===i)return o;const a=n[i+2],u=n[i+1],r=n[i-1],D=100!==a?v.reverseLookupDemon(l,a):"",m=100!==u?v.reverseLookupDemon(l,u):"",f=0!==r?v.reverseLookupDemon(l,r):"";for(const p of c.races)if(c.getLightDark(p)<0){const _=v.getIngredientDemonLvls(p);for(let L=0;L<_.length;L++){const E=_[L],S=v.reverseLookupDemon(p,E);s>=E?(s+E)%7==0?o.push({name1:S,name2:D}):(s+E)%5==0?o.push({name1:S,name2:m}):(s+E)%3==0?o.push({name1:S,name2:f}):(s+E)%2==0&&L>0&&o.push({name1:S,name2:v.reverseLookupDemon(p,_[L-1])}):(s+E)%2==0&&L<_.length-1?o.push({name1:S,name2:v.reverseLookupDemon(p,_[L+1])}):(s+E)%2==1&&o.push({name1:S,name2:"Slime"})}}return o.filter(p=>""!==p.name2)}h.d(R,{c:()=>O,f:()=>e})},6404:(B,R,h)=>{function e(l,s){const n=s.getDemon(l);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:l}}function O(l,s){const n=s.getDemon(l.name1),i=s.getDemon(l.name2);return{price:n.price+i.price,race1:n.race,lvl1:n.currLvl,name1:l.name1,race2:i.race,lvl2:i.currLvl,name2:l.name2}}function t(l,s){const n=s.getDemon(l.name1),i=s.getDemon(l.name2);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:l.name1,race2:i.race,lvl2:i.lvl,name2:l.name2}}function v(l,s){const n=s.getDemon(l.name1),i=s.getDemon(l.name2),o=s.getDemon(l.name3);return{price:n.price+i.price+o.price,d1:n,d2:i,d3:o}}function c(l,s){const n=s.getDemon(l.name1),i=s.getDemon(l.name2),o=s.getDemon(l.name3);return{price:n.price+i.price,d1:n,d2:i,d3:o}}h.d(R,{Aw:()=>v,D0:()=>t,Fk:()=>e,S6:()=>O,YL:()=>c})},3837:(B,R,h)=>{h.d(R,{N:()=>e});class e{constructor(t,v){this.fuseNonelem=t,this.fuseElement=v}getFusions(t,v,c){let l=[];const s=v.isElementDemon(t)?this.fuseElement:this.fuseNonelem;for(const n of s)l=l.concat(n(t,v,c));return l}}},6262:(B,R,h)=>{h.d(R,{g:()=>e});let e=(()=>{var O;class t{static loadFusionTableJson(c,l){const s={},n=1===l[0].length;for(const i of c)s[i]={};for(let i=0;i<l.length;i++){const o=c[i],a=l[i],u=n?0:c.length-a.length;for(let r=0;r<a.length;r++){const D=c[r+u],m=a[r];"-"!==m&&(s[o][D]=m,s[D][o]=m)}}return s}static loadFissionTableJson(c,l,s){const n={},i=1===s[0].length;for(let o=0;o<s.length;o++){const a=c[o],u=s[o],r=i?0:c.length-u.length;for(let D=0;D<u.length;D++){const m=c[D+r],f=u[D];"-"!==f&&(n[f]||(n[f]={}),n[f][a]||(n[f][a]=[]),n[f][a].push(m))}}return n}static loadElementTableJson(c,l,s){const n={};for(const i of l)n[i]={};for(let i=0;i<s.length;i++){const o=c[i],a=s[i];for(let u=0;u<a.length;u++){const D=s[i][u];D&&(n[l[u]][o]=D)}}return n}static mergeFusionTables(c,l){const s={};for(const[n,i]of Object.entries(c))s[n]=Object.assign({},i);for(const[n,i]of Object.entries(l))s[n]=Object.assign(s[n]||{},i);return s}static mergeFissionTables(c,l){const s={};for(const[n,i]of Object.entries(c)){s[n]={};for(const[o,a]of Object.entries(i))s[n][o]=a.slice()}for(const[n,i]of Object.entries(l)){s[n]=s[n]||{};for(const[o,a]of Object.entries(i))s[n][o]=a.concat(s[n][o]||[])}return s}getLightDark(c){return-1!==t.LIGHT_RACES.indexOf(c)?1:-1!==t.DARK_RACES.indexOf(c)?-1:0}getRaceFissions(c){return this.fissionChart[c]||{}}getRaceFusions(c){return this.fusionChart[c]||{}}getRaceFusion(c,l){return this.getRaceFusions(c)[l]||""}getElemModifiers(c){const l={};for(const[s,n]of Object.entries(this.elementChart)){const i=n[c];i&&(l[i]||(l[i]=[]),l[i].push(s))}return l}getElemFusions(c){return this.elementChart[c]||{}}isConvertedRace(c){return!1}}return(O=t).LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"],O.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"],t})()},6213:(B,R,h)=>{h.d(R,{e:()=>e});class e{constructor(t,v){this.fuseNonelem=t,this.fuseElement=v}getFusions(t,v,c){let l=[];const s=v.isElementDemon(t)?this.fuseElement:this.fuseNonelem;for(const n of s)l=l.concat(n(t,v,c));return l}}},2173:(B,R,h)=>{h.d(R,{DY:()=>i,JZ:()=>c,LG:()=>s,Lu:()=>t,Vk:()=>n,Yk:()=>l,b0:()=>v,tq:()=>O});var e=h(4769);let O=(()=>{var o;class a{transform(r){return 0===r?"Auto":r<=100?`${r}% HP`:r<=200?r-100+"% MP":r<=1e3?r-200+" HP":r<=2e3?r-1e3+" MP":r<=2005?r-2e3+" CC":r-2e3+" MG"}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"skillCostToString",type:o,pure:!0}),a})(),t=(()=>{var o;class a{transform(r){return r<=0?"Innate":r<120?r.toString():String.fromCharCode(Math.floor(r/100)+32)+String.fromCharCode(r%100+32)}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"skillLevelToString",type:o,pure:!0}),a})(),v=(()=>{var o;class a{transform(r){return r<=0?"":r<120?`(${r.toString()})`:"("+String.fromCharCode(Math.floor(r/100)+32)+String.fromCharCode(r%100+32)+")"}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"skillLevelToShortString",type:o,pure:!0}),a})(),c=(()=>{var o;class a{transform(r){return r>0?`+${r}`:r.toString()}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"affinityToString",type:o,pure:!0}),a})(),l=(()=>{var o;class a{transform(r){return Math.floor(r)}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"lvlToNumber",type:o,pure:!0}),a})(),s=(()=>{var o;class a{transform(r){return r<-1e3?"ab":r<0?"rp":0===r?"nu":r<100?"rs":r<1e3?"no":r<2e3?"wk":"fr"}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"reslvlToString",type:o,pure:!0}),a})(),n=(()=>{var o;class a{transform(r){return r<-1e3?"\u5438":r<0?"\u53cd":0===r?"\u7121":r<100?"\u8010":r<1e3?"\u30fc":r<2e3?"\u5f31":"?"}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"reslvlToStringJa",type:o,pure:!0}),a})(),i=(()=>{var o;class a{transform(r){return 0===r?0:r<100?50:100===r?100:r<800?500:1e3}}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"roundInheritPercent",type:o,pure:!0}),a})()},5068:(B,R,h)=>{h.d(R,{X:()=>O});var e=h(4769);let O=(()=>{var t;class v{constructor(l,s){this.elementRef=l,this.renderer=s,this.borderWidth=2}get colWidths(){const l=[],s=this.elementRef.nativeElement.children;if(s.length)for(const n of s[s.length-1].children)l.push(n.getBoundingClientRect().width-2*this.borderWidth);return l}set colWidths(l){const s=this.elementRef.nativeElement.children;if(s.length){const n=s[s.length-1].children;for(let i=0;i<n.length;i++)this.renderer.setStyle(n[i],"width",`${l[i]}px`)}}}return(t=v).\u0275fac=function(l){return new(l||t)(e.Y36(e.SBq),e.Y36(e.Qsj))},t.\u0275dir=e.lG2({type:t,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}}),v})()},3247:(B,R,h)=>{h.d(R,{L:()=>t});var e=h(5619),O=h(4769);let t=(()=>{var v;class c{constructor(s){this._edges$=new e.X({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=s?s.edges:new e.X({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(s){this._edges$.next(s)}}return(v=c).\u0275fac=function(s){return new(s||v)(O.LFG(v,12))},v.\u0275prov=O.Yz7({token:v,factory:v.\u0275fac}),c})()},3808:(B,R,h)=>{h.d(R,{v:()=>t});var e=h(4769),O=h(3247);let t=(()=>{var v;class c{constructor(s,n,i){this.elementRef=s,this.renderer=n,this.edgesService=i,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(s=>{this.edges=s}))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(s){this._edges=s,this.sZIndex=s.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${s.top}px`),this.nextEdges()}}return(v=c).\u0275fac=function(s){return new(s||v)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(O.L))},v.\u0275dir=e.lG2({type:v,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(s,n){2&s&&(e.Udp("z-index",n.sZIndex),e.ekj("position-sticky",n.cPositionSticky))},inputs:{edges:"edges"}}),c})()},9217:(B,R,h)=>{h.d(R,{D:()=>s,j:()=>l});var e=h(4769),O=h(5068),t=h(3808);const v=["stickyHeader"],c=["hiddenHeader"];let l=(()=>{var n;class i{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new e.vpe}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(a){this.sortAsc=a>0,this.sortAscIndex=(this.sortAsc?1:-1)*a}sortDirClass(a){return this.sortAscIndex!==a?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(a){this.sortAsc=this.sortAscIndex!==a||!this.sortAsc,this.sortAscIndex=a,this.sortFunIndexChanged.emit(this.sortFunIndex)}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275dir=e.lG2({type:n,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}}),i})(),s=(()=>{var n;class i{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(a){this._rowData=a,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(a){this._sortFunIndex=a,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((a,u)=>this.getSortFun(-1*this.sortFunIndex)(u,a)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}}return(n=i).\u0275fac=function(a){return new(a||n)},n.\u0275dir=e.lG2({type:n,viewQuery:function(a,u){if(1&a&&(e.Gf(t.v,5),e.Gf(v,5,O.X),e.Gf(c,5,O.X)),2&a){let r;e.iGM(r=e.CRH())&&(u.stickyTable=r.first),e.iGM(r=e.CRH())&&(u.stickyHeader=r.first),e.iGM(r=e.CRH())&&(u.hiddenHeader=r.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}}),i})()}}]);