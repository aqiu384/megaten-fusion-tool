(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[865],{7089:(e,t,n)=>{"use strict";n.d(t,{e:()=>x});var s=n(1501),r=n(649),i=n(5614),o=n(1116),a=n(3522);const c=function(){return{exact:!0}};function l(e,t){if(1&e&&(i.TgZ(0,"th",2),i.TgZ(1,"a",3),i._uU(2),i.qZA(),i.qZA()),2&e){const e=t.$implicit,n=i.oxw().$implicit;i.Udp("width",1/n,"%"),i.Q6J("routerLink",e.link)("routerLinkActiveOptions",i.DdM(6,c)),i.xp6(1),i.Q6J("routerLink",e.link),i.xp6(1),i.hij(" ",e.title," ")}}function u(e,t){if(1&e&&(i.TgZ(0,"th",11),i.TgZ(1,"a",12),i._uU(2," Fusion Settings "),i.qZA(),i.qZA()),2&e){const e=i.oxw().$implicit;i.Udp("width",1/e,"%")}}const h=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function f(e,t){if(1&e&&(i.TgZ(0,"table",1),i.TgZ(1,"thead"),i.TgZ(2,"tr"),i.TgZ(3,"th",2),i.TgZ(4,"a",3),i._uU(5),i.qZA(),i.qZA(),i.TgZ(6,"th",4),i.TgZ(7,"a",5),i._uU(8," Skill List "),i.qZA(),i.qZA(),i.TgZ(9,"th",6),i.TgZ(10,"a",7),i._uU(11," Fusion Chart "),i.qZA(),i.qZA(),i.YNc(12,l,3,7,"th",8),i.YNc(13,u,3,2,"th",9),i.qZA(),i.TgZ(14,"tr"),i.TgZ(15,"th",10),i._uU(16),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const e=t.$implicit,n=i.oxw();i.Q6J("ngStyle",i.DdM(15,h)),i.xp6(3),i.Udp("width",1/e,"%"),i.Q6J("routerLink",n.mainList+"s")("routerLinkActiveOptions",i.DdM(16,c)),i.xp6(1),i.Q6J("routerLink",n.mainList+"s"),i.xp6(1),i.hij(" ",n.mainList.charAt(0).toUpperCase()+n.mainList.slice(1)," List "),i.xp6(1),i.Udp("width",1/e,"%"),i.xp6(3),i.Udp("width",1/e,"%"),i.xp6(3),i.Q6J("ngForOf",n.otherLinks),i.xp6(1),i.Q6J("ngIf",n.hasSettings),i.xp6(2),i.uIk("colspan",e),i.xp6(1),i.hij("",n.appName," Fusion Calculator")}}function d(e,t){if(1&e&&(i.TgZ(0,"div",3),i._UZ(1,"app-demon-compendium-header",4),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("appName",e.appName)("mainList",e.mainList)("hasSettings",e.hasSettings)("otherLinks",e.otherLinks)}}function g(e,t){if(1&e&&(i.TgZ(0,"div"),i._UZ(1,"app-demon-compendium-header",4),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Q6J("appName",e.appName)("mainList",e.mainList)("hasSettings",e.hasSettings)("otherLinks",e.otherLinks)}}const p=function(e){return{marginLeft:"auto",marginRight:"auto",width:e}};let m=(()=>{class e{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(e,t){1&e&&i.YNc(0,f,17,17,"table",0),2&e&&i.Q6J("ngIf",3+t.otherLinks.length+(t.hasSettings?1:0))},directives:[o.O5,o.PC,a.Od,a.rH,a.yS,o.sg],encapsulation:2,changeDetection:0}),e})(),x=(()=>{class e{constructor(e){this.route=e,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(e=>{this.appName=e.appName||"Shin Megami Tensei",this.isChart="chart"===e.fusionTool})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.gz))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-demon-compendium"]],viewQuery:function(e,t){if(1&e&&i.Gf(r.v,5),2&e){let e;i.iGM(e=i.CRH())&&(t.stickyTable=e.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[i._Bn([s.L])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","otherLinks"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,d,2,4,"div",1),i.YNc(2,g,2,4,"div",2),i._UZ(3,"router-outlet"),i.qZA()),2&e&&(i.Q6J("ngStyle",i.VKq(3,p,t.isChart?"auto":"1080px")),i.xp6(1),i.Q6J("ngIf",!t.isChart),i.xp6(1),i.Q6J("ngIf",t.isChart))},directives:[o.PC,o.O5,a.lC,r.v,m],encapsulation:2,changeDetection:0}),e})()},4897:(e,t,n)=>{"use strict";n.d(t,{t:()=>c});var s=n(5614),r=n(1116),i=n(3522);function o(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.TgZ(2,"a",3),s._uU(3),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij(" Error: Could not find entry in compendium for ",e.name,". Did you mean: "),s.xp6(1),s.MGl("routerLink","../",e.name.split("%20").join(" "),""),s.xp6(1),s.Oqu(e.name.split("%20").join(" "))}}function a(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.hij("Error: Could not find entry in compendium for ",e.name,"")}}let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th",1),s._uU(4),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"tbody"),s.TgZ(6,"tr"),s.YNc(7,o,4,3,"td",2),s.YNc(8,a,2,1,"td",2),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.hij("Entry for ",t.name,""),s.xp6(3),s.Q6J("ngIf",t.name&&t.name.includes("%20")),s.xp6(1),s.Q6J("ngIf",!t.name||!t.name.includes("%20")))},directives:[r.O5,i.yS],encapsulation:2,changeDetection:0}),e})()},858:(e,t,n)=>{"use strict";n.d(t,{I:()=>f});var s=n(5614),r=n(1116),i=n(6101);function o(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1,"Ailment"),s.qZA()),2&e){const e=s.oxw(2);s.uIk("colSpan",e.ailmentHeaders.length)}}function a(e,t){if(1&e&&(s.TgZ(0,"th"),s.TgZ(1,"div"),s._uU(2),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.Udp("width",(n.ailmentHeaders.length?50:100)/n.resistHeaders.length,"%"),s.xp6(1),s.Gre("element-icon ",e,""),s.xp6(1),s.Oqu(e)}}function c(e,t){if(1&e&&(s.TgZ(0,"th"),s.TgZ(1,"div"),s._uU(2),s.qZA(),s.qZA()),2&e){const e=t.$implicit,n=s.oxw(2);s.Udp("width",50/n.ailmentHeaders.length,"%"),s.xp6(2),s.Oqu(e)}}function l(e,t){if(1&e&&(s.TgZ(0,"td"),s.ALo(1,"reslvlToString"),s._uU(2),s.ALo(3,"reslvlToString"),s.qZA()),2&e){const e=t.$implicit;s.Gre("resists ",s.lcZ(1,4,e),""),s.xp6(2),s.hij(" ",s.lcZ(3,6,e)," ")}}function u(e,t){if(1&e&&(s.TgZ(0,"td"),s.ALo(1,"reslvlToString"),s._uU(2),s.ALo(3,"reslvlToString"),s.qZA()),2&e){const e=t.$implicit;s.Gre("resists ",s.lcZ(1,4,e),""),s.xp6(2),s.hij(" ",s.lcZ(3,6,e)," ")}}function h(e,t){if(1&e&&(s.TgZ(0,"table",1),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th",2),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"tr"),s.TgZ(6,"th"),s._uU(7,"Element"),s.qZA(),s.YNc(8,o,2,1,"th",3),s.qZA(),s.TgZ(9,"tr"),s.YNc(10,a,3,6,"th",4),s.YNc(11,c,3,3,"th",4),s.qZA(),s.qZA(),s.TgZ(12,"tbody"),s.TgZ(13,"tr"),s.YNc(14,l,4,8,"td",5),s.YNc(15,u,4,8,"td",5),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(3),s.uIk("colspan",e.resistHeaders.length+e.ailmentHeaders.length),s.xp6(1),s.Oqu(e.title),s.xp6(2),s.uIk("colSpan",e.resistHeaders.length),s.xp6(2),s.Q6J("ngIf",e.ailmentHeaders.length),s.xp6(2),s.Q6J("ngForOf",e.resistHeaders),s.xp6(1),s.Q6J("ngForOf",e.ailmentHeaders),s.xp6(3),s.Q6J("ngForOf",e.resists),s.xp6(1),s.Q6J("ngForOf",e.ailments)}}let f=(()=>{class e{constructor(){this.title="Resistances",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&s.YNc(0,h,16,8,"table",0),2&e&&s.Q6J("ngIf",t.resistHeaders.length)},directives:[r.O5,r.sg],pipes:[i.LG],encapsulation:2,changeDetection:0}),e})()},4008:(e,t,n)=>{"use strict";n.d(t,{Q:()=>Q});var s=n(5614),r=n(1501),i=n(4248);let o=(()=>{class e extends i.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((e,t)=>200*(this.raceOrder[e.race]-this.raceOrder[t.race])+t.lvl-e.lvl,(e,t)=>200*(this.raceOrder[e.race]-this.raceOrder[t.race])+t.lvl-e.lvl,(e,t)=>t.lvl-e.lvl,(e,t)=>e.name.localeCompare(t.name)),this.inheritOrder&&this.sortFuns.push((e,t)=>this.inheritOrder[e.inherit]-this.inheritOrder[t.inherit]),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((e,t)=>(e,n)=>n.stats[t]-e.stats[t]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((e,t)=>(e,n)=>e.resists[t]-n.resists[t]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((e,t)=>(e,n)=>n.affinities[t]-e.affinities[t])))}getSortFun(e){return this.sortFuns[e]}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275dir=s.lG2({type:e,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[s.qOj]}),e})();var a=n(1116),c=n(3522),l=n(6101),u=n(649);const h=["class","app-demon-list-header"];function f(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1,"Stats"),s.qZA()),2&e){const e=s.oxw();s.uIk("colSpan",e.statColIndices.length)}}function d(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1,"Resistances"),s.qZA()),2&e){const e=s.oxw();s.uIk("colSpan",e.resistColIndices.length)}}function g(e,t){if(1&e&&(s.TgZ(0,"th"),s._uU(1,"Affinities"),s.qZA()),2&e){const e=s.oxw();s.uIk("colSpan",e.affinityColIndices.length)}}function p(e,t){1&e&&(s.TgZ(0,"th",5),s._uU(1,"Enemy"),s.qZA())}function m(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"th",2),s.NdJ("click",function(){return s.CHM(e),s.oxw().nextSortFunIndex(4)}),s._uU(1,"Inherits"),s.qZA()}if(2&e){const e=s.oxw();s.Q6J("ngClass",e.sortDirClass(4))}}function x(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"th",6),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().nextSortFunIndex(t.index)}),s._uU(1),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.hij(" ",e.stat," ")}}function v(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"th",6),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().nextSortFunIndex(t.index)}),s._UZ(1,"div"),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.Gre("element-icon ",e.elem,"")}}function Z(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"th",6),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().nextSortFunIndex(t.index)}),s._UZ(1,"div"),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.Gre("element-icon ",e.elem,"")}}function L(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Drops"),s.qZA())}function k(e,t){1&e&&(s.TgZ(0,"th"),s._uU(1,"Appears"),s.qZA())}let T=(()=>{class e extends i.j{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[]}ngOnInit(){this.nextColIndices()}nextColIndices(){let e=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((t,n)=>({stat:t,index:n+e})),e+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((t,n)=>({elem:t,index:n+e})),e+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((t,n)=>({elem:t,index:n+e})))}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[s.qOj],attrs:h,decls:22,vars:15,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2),s.qZA(),s.YNc(3,f,2,1,"th",0),s.YNc(4,d,2,1,"th",0),s.YNc(5,g,2,1,"th",0),s.YNc(6,p,2,0,"th",1),s.qZA(),s.TgZ(7,"tr"),s.TgZ(8,"th",2),s.NdJ("click",function(){return t.nextSortFunIndex(1)}),s._uU(9,"Race"),s.qZA(),s.TgZ(10,"th",2),s.NdJ("click",function(){return t.nextSortFunIndex(2)}),s._uU(11,"Lvl"),s.TgZ(12,"span"),s._uU(13,"--"),s.qZA(),s.qZA(),s.TgZ(14,"th",2),s.NdJ("click",function(){return t.nextSortFunIndex(3)}),s._uU(15,"Name"),s.qZA(),s.YNc(16,m,2,1,"th",3),s.YNc(17,x,2,1,"th",4),s.YNc(18,v,2,3,"th",4),s.YNc(19,Z,2,3,"th",4),s.YNc(20,L,2,0,"th",0),s.YNc(21,k,2,0,"th",0),s.qZA()),2&e&&(s.xp6(1),s.uIk("colSpan",t.hasInherits?4:3),s.xp6(1),s.Oqu(t.isPersona?"Persona":"Demon"),s.xp6(1),s.Q6J("ngIf",t.statColIndices.length),s.xp6(1),s.Q6J("ngIf",t.resistColIndices.length),s.xp6(1),s.Q6J("ngIf",t.affinityColIndices.length),s.xp6(1),s.Q6J("ngIf",t.isEnemy),s.xp6(2),s.Q6J("ngClass",t.sortDirClass(1)),s.xp6(2),s.Q6J("ngClass",t.sortDirClass(2)),s.xp6(4),s.Q6J("ngClass",t.sortDirClass(3)),s.xp6(2),s.Q6J("ngIf",t.hasInherits),s.xp6(1),s.Q6J("ngForOf",t.statColIndices),s.xp6(1),s.Q6J("ngForOf",t.resistColIndices),s.xp6(1),s.Q6J("ngForOf",t.affinityColIndices),s.xp6(1),s.Q6J("ngIf",t.isEnemy),s.xp6(1),s.Q6J("ngIf",t.isEnemy))},directives:[a.O5,a.mk,a.sg],styles:["span[_ngcontent-%COMP%]{color:transparent}"],changeDetection:0}),e})();var I=n(2502);const A=["class","app-smt-demon-list-row"];function D(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.ALo(2,"lvlToNumber"),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(s.lcZ(2,1,e.data.lvl))}}function C(e,t){if(1&e&&(s.TgZ(0,"option",8),s._uU(1),s.qZA()),2&e){const e=t.index,n=s.oxw(2);s.Q6J("value",e+n.currOffset),s.xp6(1),s.Oqu(e+n.currOffset)}}function O(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"td",6),s.TgZ(1,"select",7),s.NdJ("change",function(t){return s.CHM(e),s.oxw().emitValidLvl(t)})("focus",function(){return s.CHM(e),s.oxw().updateCurrRange()}),s.TgZ(2,"option",8),s._uU(3),s.qZA(),s.YNc(4,C,2,2,"option",9),s.TgZ(5,"option",10),s._uU(6,"99"),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(2),s.Q6J("value",e.data.currLvl),s.xp6(1),s.Oqu(e.data.currLvl),s.xp6(1),s.Q6J("ngForOf",e.currRange)}}function q(e,t){if(1&e&&(s.TgZ(0,"td"),s.TgZ(1,"div"),s._uU(2),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Gre("element-icon ",e.data.inherit,""),s.xp6(1),s.Oqu(e.data.inherit)}}function y(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function F(e,t){if(1&e&&(s.TgZ(0,"td"),s.ALo(1,"reslvlToString"),s._uU(2),s.ALo(3,"reslvlToString"),s.qZA()),2&e){const e=t.$implicit;s.Gre("resists ",s.lcZ(1,4,e),""),s.xp6(2),s.hij(" ",s.lcZ(3,6,e)," ")}}function w(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.ALo(2,"affinityToString"),s.qZA()),2&e){const e=t.$implicit;s.Gre("affinity",e,""),s.xp6(1),s.hij(" ",s.lcZ(2,4,e)," ")}}function S(e,t){if(1&e&&(s.ynx(0),s.YNc(1,w,3,6,"td",5),s.BQk()),2&e){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",e.data.affinities)}}function b(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.data.drop)}}function H(e,t){if(1&e&&(s.TgZ(0,"td"),s._uU(1),s.qZA()),2&e){const e=s.oxw();s.xp6(1),s.Oqu(e.data.area)}}const N=function(e){return["align",e]},_=function(e,t){return{special:e,exception:t}};function J(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr",7),s.NdJ("currLvl",function(t){const n=s.CHM(e).$implicit;return s.oxw().lvlChanged.emit({demon:n.name,currLvl:t})}),s.qZA()}if(2&e){const e=t.$implicit,n=s.oxw();s.Q6J("isEnemy",n.isEnemy)("hasCurrLvl",n.hasCurrLvl)("hasInherits",!!n.inheritOrder)("hasAffinity",!!n.affinityHeaders)("ngClass",s.WLB(6,_,"special"===e.fusion,"special"!==e.fusion&&"normal"!==e.fusion))("data",e)}}let U=(()=>{class e{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.currLvl=new s.vpe,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(99-this.currOffset))}emitValidLvl(e){const t=parseInt(e.target.value,10);this.data.currLvl!==t&&0<t&&t<100&&Number.isInteger(t)&&(this.data.currLvl=t,this.currLvl.emit(t))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",data:"data"},outputs:{currLvl:"currLvl"},attrs:A,decls:13,vars:14,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"change","focus"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["value","99"]],template:function(e,t){1&e&&(s.TgZ(0,"td",0),s._uU(1),s.qZA(),s.YNc(2,D,3,3,"td",1),s.YNc(3,O,7,3,"td",2),s.TgZ(4,"td"),s.TgZ(5,"a",3),s._uU(6),s.qZA(),s.qZA(),s.YNc(7,q,3,4,"td",1),s.YNc(8,y,2,1,"td",4),s.YNc(9,F,4,8,"td",5),s.YNc(10,S,2,1,"ng-container",1),s.YNc(11,b,2,1,"td",1),s.YNc(12,H,2,1,"td",1)),2&e&&(s.Q6J("ngClass",s.VKq(12,N,t.data.align?t.data.align:"none")),s.xp6(1),s.Oqu(t.data.race),s.xp6(1),s.Q6J("ngIf",!t.hasCurrLvl),s.xp6(1),s.Q6J("ngIf",t.hasCurrLvl),s.xp6(2),s.s9C("routerLink",t.data.name),s.xp6(1),s.Oqu(t.data.name),s.xp6(1),s.Q6J("ngIf",t.hasInherits),s.xp6(1),s.Q6J("ngForOf",t.data.stats),s.xp6(1),s.Q6J("ngForOf",t.data.resists),s.xp6(1),s.Q6J("ngIf",t.hasAffinity),s.xp6(1),s.Q6J("ngIf",t.isEnemy),s.xp6(1),s.Q6J("ngIf",t.isEnemy))},directives:[a.mk,a.O5,c.yS,a.sg],pipes:[l.Yk,l.LG,l.JZ],encapsulation:2,changeDetection:0}),e})(),Q=(()=>{class e extends o{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.lvlChanged=new s.vpe}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=s.n5z(e)))(n||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["app-smt-demon-list"]],inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl"},outputs:{lvlChanged:"lvlChanged"},features:[s._Bn([r.L]),s.qOj],decls:8,vars:16,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","ngClass","data","currLvl"]],template:function(e,t){1&e&&(s.TgZ(0,"table",0),s.TgZ(1,"tfoot",1,2),s.NdJ("sortFunIndexChanged",function(e){return t.sortFunIndex=e}),s.qZA(),s.qZA(),s.TgZ(3,"table",3),s._UZ(4,"tfoot",4,5),s.TgZ(6,"tbody"),s.YNc(7,J,1,9,"tr",6),s.qZA(),s.qZA()),2&e&&(s.xp6(1),s.Q6J("isPersona",t.isPersona)("isEnemy",t.isEnemy)("hasInherits",!!t.inheritOrder)("statHeaders",t.statHeaders)("resistHeaders",t.resistHeaders)("affinityHeaders",t.affinityHeaders)("sortFunIndex",t.sortFunIndex),s.xp6(3),s.Udp("visibility","collapse"),s.Q6J("isPersona",t.isPersona)("isEnemy",t.isEnemy)("hasInherits",!!t.inheritOrder)("statHeaders",t.statHeaders)("resistHeaders",t.resistHeaders)("affinityHeaders",t.affinityHeaders),s.xp6(3),s.Q6J("ngForOf",t.rowData))},directives:[u.v,T,I.X,a.sg,U,a.mk],encapsulation:2,changeDetection:0}),e})()},3787:(e,t,n)=>{"use strict";n.d(t,{J:()=>H,W:()=>b});var s=n(1501),r=n(4248),i=n(5614);let o=(()=>{class e extends r.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(e,t)=>1e4*(this.elemOrder[e.element]-this.elemOrder[t.element])+e.rank-t.rank,(e,t)=>1e4*(this.elemOrder[e.element]-this.elemOrder[t.element])+e.rank-t.rank,(e,t)=>e.name.localeCompare(t.name),(e,t)=>t.cost-e.cost,(e,t)=>e.rank-t.rank],this.inheritOrder&&this.sortFuns.push((e,t)=>this.inheritOrder[e.inherit]-this.inheritOrder[t.inherit])}getSortFun(e){return this.sortFuns[e]}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275dir=i.lG2({type:e,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[i.qOj]}),e})();var a=n(1116),c=n(3522),l=n(6101),u=n(649);const h=["class","app-skill-list-header"];function f(e,t){1&e&&(i.TgZ(0,"th"),i._uU(1,"Target"),i.qZA())}function d(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"th",0),i.NdJ("click",function(){return i.CHM(e),i.oxw().nextSortFunIndex(4)}),i._uU(1,"Rank"),i.TgZ(2,"span"),i._uU(3,"--"),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("ngClass",e.sortDirClass(4))}}function g(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"th",0),i.NdJ("click",function(){return i.CHM(e),i.oxw().nextSortFunIndex(5)}),i._uU(1,"Inherit"),i.TgZ(2,"span"),i._uU(3,"--"),i.qZA(),i.qZA()}if(2&e){const e=i.oxw();i.Q6J("ngClass",e.sortDirClass(5))}}function p(e,t){if(1&e&&(i.TgZ(0,"th"),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Oqu(e.transferTitle)}}let m=(()=>{class e extends r.j{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",transferTitle:"transferTitle"},features:[i.qOj],attrs:h,decls:24,vars:9,consts:[[1,"sortable",3,"ngClass","click"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(e,t){1&e&&(i.TgZ(0,"tr"),i.TgZ(1,"th"),i._uU(2,"Skill"),i.qZA(),i.TgZ(3,"th"),i._uU(4,"How To Acquire"),i.qZA(),i.qZA(),i.TgZ(5,"tr"),i.TgZ(6,"th",0),i.NdJ("click",function(){return t.nextSortFunIndex(1)}),i._uU(7,"Elem"),i.TgZ(8,"span"),i._uU(9,"--"),i.qZA(),i.qZA(),i.TgZ(10,"th",0),i.NdJ("click",function(){return t.nextSortFunIndex(2)}),i._uU(11,"Name"),i.qZA(),i.TgZ(12,"th",0),i.NdJ("click",function(){return t.nextSortFunIndex(3)}),i._uU(13,"Cost"),i.TgZ(14,"span"),i._uU(15,"--"),i.qZA(),i.qZA(),i.TgZ(16,"th"),i._uU(17,"Effect"),i.qZA(),i.YNc(18,f,2,0,"th",1),i.YNc(19,d,4,1,"th",2),i.YNc(20,g,4,1,"th",2),i.TgZ(21,"th"),i._uU(22,"Learned By"),i.qZA(),i.YNc(23,p,2,1,"th",1),i.qZA()),2&e&&(i.xp6(1),i.uIk("colSpan",t.skillHeaderLen),i.xp6(2),i.uIk("colSpan",t.acquireHeaderLen),i.xp6(3),i.Q6J("ngClass",t.sortDirClass(1)),i.xp6(4),i.Q6J("ngClass",t.sortDirClass(2)),i.xp6(2),i.Q6J("ngClass",t.sortDirClass(3)),i.xp6(6),i.Q6J("ngIf",t.hasTarget),i.xp6(1),i.Q6J("ngIf",t.hasRank),i.xp6(1),i.Q6J("ngIf",t.hasInherit),i.xp6(3),i.Q6J("ngIf",t.transferTitle))},directives:[a.mk,a.O5],styles:["span[_ngcontent-%COMP%]{color:transparent}"],changeDetection:0}),e})();var x=n(2502);const v=["class","app-smt-skill-list-row"];function Z(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.HOy(" ",e.data.damage," ",e.data.element," damage",e.data.hits?" x"+e.data.hits:"","",e.data.effect?", "+e.data.effect:""," ")}}function L(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Oqu(e.data.effect)}}function k(e,t){if(1&e&&(i.TgZ(0,"td"),i.TgZ(1,"div"),i._uU(2),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Gre("target-icon a",e.data.target||"Self",""),i.xp6(1),i.Oqu(e.data.target||"Self")}}function T(e,t){if(1&e&&(i.TgZ(0,"td"),i._uU(1),i.qZA()),2&e){const e=i.oxw();i.Udp("color",99!==e.data.rank?null:"transparent"),i.xp6(1),i.Oqu(e.data.rank)}}function I(e,t){if(1&e&&(i.TgZ(0,"td"),i.TgZ(1,"div"),i._uU(2),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(1),i.Gre("element-icon ",e.data.inherit.toLowerCase(),""),i.xp6(1),i.Oqu(e.data.inherit)}}function A(e,t){if(1&e&&(i.TgZ(0,"td",3),i._uU(1),i.ALo(2,"skillLevelToString"),i.qZA()),2&e){const e=i.oxw();i.Q6J("ngClass","lvl"+e.data.level.toString()),i.xp6(1),i.Oqu(i.lcZ(2,2,e.data.level))}}function D(e,t){if(1&e&&(i.TgZ(0,"li"),i.TgZ(1,"a",6),i._uU(2),i.qZA(),i._uU(3),i.ALo(4,"skillLevelToShortString"),i.qZA()),2&e){const e=t.$implicit,n=i.oxw(2);i.xp6(1),i.hYB("routerLink","../",n.isPersona?"personas":"demons","/",e.demon,""),i.xp6(1),i.Oqu(e.demon),i.xp6(1),i.hij(" ",i.lcZ(4,4,e.level)," ")}}function C(e,t){if(1&e&&(i.TgZ(0,"td"),i.TgZ(1,"ul",4),i.YNc(2,D,5,6,"li",5),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.data.learnedBy)}}function O(e,t){if(1&e&&(i.ynx(0),i.TgZ(1,"a",6),i._uU(2),i.qZA(),i._uU(3),i.ALo(4,"skillLevelToShortString"),i.BQk()),2&e){const e=i.oxw().$implicit,t=i.oxw(2);i.xp6(1),i.hYB("routerLink","../",t.isPersona?"personas":"demons","/",e.demon,""),i.xp6(1),i.Oqu(e.demon),i.xp6(1),i.hij(" ",i.lcZ(4,4,e.level)," ")}}function q(e,t){if(1&e&&(i.ynx(0),i._uU(1),i.BQk()),2&e){const e=i.oxw().$implicit;i.xp6(1),i.hij("",e.demon," ")}}function y(e,t){if(1&e&&(i.TgZ(0,"li"),i.YNc(1,O,5,6,"ng-container",0),i.YNc(2,q,2,1,"ng-container",0),i.qZA()),2&e){const e=t.$implicit;i.xp6(1),i.Q6J("ngIf",e.level>=-99),i.xp6(1),i.Q6J("ngIf",e.level<-99)}}function F(e,t){if(1&e&&(i.TgZ(0,"td"),i.TgZ(1,"ul",4),i.YNc(2,y,3,2,"li",5),i.qZA(),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.data.transfer)}}const w=function(e,t){return{extra:e,unique:t}};function S(e,t){if(1&e&&i._UZ(0,"tr",7),2&e){const e=t.$implicit,n=i.oxw();i.Q6J("hasInherit",!!n.inheritOrder)("hasTarget",n.hasTarget)("hasRank",n.hasRank)("isPersona",n.isPersona)("hasTransferTitle",!!n.transferTitle)("data",e)("ngClass",i.WLB(7,w,e.rank>70&&e.rank<90,e.rank>90))}}let b=(()=>{class e{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",data:"data"},attrs:v,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(e,t){1&e&&(i.TgZ(0,"td"),i.TgZ(1,"div"),i._uU(2),i.qZA(),i.qZA(),i.TgZ(3,"td"),i._uU(4),i.qZA(),i.TgZ(5,"td"),i._uU(6),i.ALo(7,"skillCostToString"),i.qZA(),i.YNc(8,Z,2,4,"td",0),i.YNc(9,L,2,1,"td",0),i.YNc(10,k,3,4,"td",0),i.YNc(11,T,2,3,"td",1),i.YNc(12,I,3,4,"td",0),i.YNc(13,A,3,4,"td",2),i.YNc(14,C,3,1,"td",0),i.YNc(15,F,3,1,"td",0)),2&e&&(i.xp6(1),i.Gre("element-icon ",t.data.element,""),i.xp6(1),i.Oqu(t.data.element),i.xp6(2),i.Oqu(t.data.name),i.xp6(1),i.Udp("color",t.data.cost?null:"transparent"),i.xp6(1),i.Oqu(i.lcZ(7,16,t.data.cost)),i.xp6(2),i.Q6J("ngIf",t.data.damage),i.xp6(1),i.Q6J("ngIf",!t.data.damage),i.xp6(1),i.Q6J("ngIf",t.hasTarget),i.xp6(1),i.Q6J("ngIf",t.hasRank),i.xp6(1),i.Q6J("ngIf",t.data.inherit),i.xp6(1),i.Q6J("ngIf",t.hasLvl),i.xp6(1),i.Q6J("ngIf",t.hasLearned),i.xp6(1),i.Q6J("ngIf",t.hasTransferTitle))},directives:[a.O5,a.mk,a.sg,c.yS],pipes:[l.tq,l.Lu,l.b0],encapsulation:2,changeDetection:0}),e})(),H=(()=>{class e extends o{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.transferTitle=""}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=i.n5z(e)))(n||e)}}(),e.\u0275cmp=i.Xpm({type:e,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",transferTitle:"transferTitle"},features:[i._Bn([s.L]),i.qOj],decls:8,vars:12,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","data","ngClass"]],template:function(e,t){1&e&&(i.TgZ(0,"table",0),i.TgZ(1,"tfoot",1,2),i.NdJ("sortFunIndexChanged",function(e){return t.sortFunIndex=e}),i.qZA(),i.qZA(),i.TgZ(3,"table",3),i._UZ(4,"tfoot",4,5),i.TgZ(6,"tbody"),i.YNc(7,S,1,10,"tr",6),i.qZA(),i.qZA()),2&e&&(i.xp6(1),i.Q6J("hasInherit",!!t.inheritOrder)("hasTarget",t.hasTarget)("hasRank",t.hasRank)("transferTitle",t.transferTitle)("sortFunIndex",t.sortFunIndex),i.xp6(3),i.Udp("visibility","collapse"),i.Q6J("hasInherit",!!t.inheritOrder)("hasTarget",t.hasTarget)("hasRank",t.hasRank)("transferTitle",t.transferTitle),i.xp6(3),i.Q6J("ngForOf",t.rowData))},directives:[u.v,m,x.X,a.sg,b,a.mk],encapsulation:2,changeDetection:0}),e})()},115:(e,t,n)=>{"use strict";n.d(t,{I7:()=>g,vE:()=>p,Ir:()=>m,Bz:()=>T,wC:()=>k,nL:()=>A,RD:()=>I,oA:()=>L,Q0:()=>v,uC:()=>Z,YP:()=>x});var s=n(5614),r=n(4693),i=n(9658),o=n(4351),a=n(3613),c=n(4809),l=n(601),u=n(8521),h=n(3152),f=n(8847),d=n(6149);const g=new s.OlP("compendium.config"),p=new s.OlP("fusion.data.service"),m=new s.OlP("fusion.trio.service"),x=new r.N([i.ne,i.e7,i.Co],[o.Eh,o.s0,o.wy]),v=new r.N([i.ne,i.e7,i.Co,function(e,t,n){const{race:s,lvl:r}=t.getDemon(e),i=[0,0].concat(t.getResultDemonLvls(s),[100,100]),o=i.indexOf(r),a=[];if(n.getLightDark(s)<0||-1===o)return a;const c=i[o+2],l=i[o+1],u=i[o-1],h=100!==c?t.reverseLookupDemon(s,c):"",f=100!==l?t.reverseLookupDemon(s,l):"",d=0!==u?t.reverseLookupDemon(s,u):"";for(const g of n.races)if(n.getLightDark(g)<0){const e=t.getIngredientDemonLvls(g);for(let n=0;n<e.length;n++){const s=e[n],i=t.reverseLookupDemon(g,s);r>=s?(r+s)%7==0?a.push({name1:i,name2:h}):(r+s)%5==0?a.push({name1:i,name2:f}):(r+s)%3==0?a.push({name1:i,name2:d}):(r+s)%2==0&&n>0&&a.push({name1:i,name2:t.reverseLookupDemon(g,e[n-1])}):(r+s)%2==0&&n<e.length-1?a.push({name1:i,name2:t.reverseLookupDemon(g,e[n+1])}):(r+s)%2==1&&a.push({name1:i,name2:"Slime"})}}return a.filter(e=>""!==e.name2)}],[o.Eh,o.s0,o.wy]),Z=new r.N([a.M,a.A],[c.Q]),L=new r.N([a.M,a.A,function(e,t,n){const{race:s,lvl:r}=t.getDemon(e),i=[0,0].concat(t.getResultDemonLvls(s),[100,100]),o=i.indexOf(r),a=[];if(n.getLightDark(s)<0||-1===o)return a;const c=i[o-2],l=i[o-1],u=i[o+1],h=0!==c?t.reverseLookupDemon(s,c):"",f=0!==l?t.reverseLookupDemon(s,l):"",d=100!==u?t.reverseLookupDemon(s,u):"";for(const g of n.races)if(n.getLightDark(g)<0)for(const e of t.getIngredientDemonLvls(g)){const n=t.reverseLookupDemon(g,e);c>=e&&(c+e)%7==0&&a.push({name1:h,name2:n}),l>=e&&(l+e)%7!=0&&(l+e)%5==0&&a.push({name1:f,name2:n}),u>=e&&(u+e)%7!=0&&(u+e)%5!=0&&(u+e)%3==0&&a.push({name1:d,name2:n})}return a.filter(e=>""!==e.name1)}],[c.Q]),k=new r.N([i.ne,l.e],[]),T=new r.N([a.M,u.L],[]),I=new h.e([f.jm,f.UN,f.e7],[]),A=new h.e([d.Mg,d.Ln,d._K],[]);!function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=n}(["wk","no","rs","st","nu","rp","dr","ab"])},5438:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var s=n(8318),r=n(5614);let i=(()=>{class e{constructor(e,t,n){this.title2=e,this.changeDetectorRef=t,this.fusionDataService2=n,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(e,t)=>e.name.localeCompare(t.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}onCompendiumUpdated(e){this.changeDetectorRef.markForCheck(),this.demons=s.y.create(t=>{let n=e.allDemons;this.showAllies||(n=n.filter(e=>e.isEnemy)),this.showEnemies||(n=n.filter(e=>!e.isEnemy)),n.sort(this.defaultSortFun),t.next(n.slice(0,this.initListLen)),setTimeout(()=>t.next(n))})}}return e.\u0275fac=function(e){r.$Z()},e.\u0275dir=r.lG2({type:e}),e})()},9261:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var s=n(8318),r=n(5614);let i=(()=>{class e{constructor(e,t,n){this.title2=e,this.changeDetectorRef2=t,this.fusionDataService2=n,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(e,t)=>e.name.localeCompare(t.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}onCompendiumUpdated(e){this.changeDetectorRef2.markForCheck(),this.skills=s.y.create(t=>{const n=e.allSkills;n.sort(this.defaultSortFun),t.next(n.slice(0,this.initListLen)),setTimeout(()=>t.next(n))})}}return e.\u0275fac=function(e){r.$Z()},e.\u0275dir=r.lG2({type:e}),e})()},8521:(e,t,n)=>{"use strict";function s(e,t,n){const{race:s,lvl:r}=t.getDemon(e),i=[];if(t.getSpecialNameEntries(e).length)return i;const o=t.getResultDemonLvls(s),a=o.indexOf(r),c=2*r,l=o[a+1]?2*o[a+1]:200,u=o[a+2]?2*o[a+2]:200,h=t.getIngredientDemonLvls(s).filter(e=>e!==r);for(const f of h)l/2<f&&f+l/2<u&&i.push({name1:t.reverseLookupDemon(s,l/2),name2:t.reverseLookupDemon(s,f)});for(let f=0;f<h.length;f++){const e=h[f];for(let n=f+1;n<h.length;n++){const r=h[n];c<=e+r&&e+r<l&&i.push({name1:t.reverseLookupDemon(s,e),name2:t.reverseLookupDemon(s,r)})}}return i}n.d(t,{L:()=>s})},601:(e,t,n)=>{"use strict";function s(e,t,n){const s=[],{race:r,lvl:i}=t.getDemon(e),o=t.getIngredientDemonLvls(r).filter(e=>e!==i),a=t.getResultDemonLvls(r).filter(e=>e!==i).map(e=>2*e);for(const c of o){let e=a.reduce((e,t)=>i+c>=t?e+1:e,-1);a[e]/2===c&&(e-=1);const n=a[e]/2;n&&s.push({name1:t.reverseLookupDemon(r,c),name2:t.reverseLookupDemon(r,n)})}return s}n.d(t,{e:()=>s})},6149:(e,t,n)=>{"use strict";n.d(t,{Mg:()=>o,Ln:()=>a,_K:()=>c,D4:()=>l});var s=n(8847),r=n(3613);function i(e,t){if(!t.length)return-1;let n=0;for(const s of t)e>s&&n++;return n===t.length?-1:n}function o(e,t,n){const{normalChart:s,tripleChart:r,raceOrder:i}=n,{race:o,lvl:a}=t.getDemon(e),c=3*r.lvlModifier,l=[],u=t.getResultDemonLvls(o),h=u.indexOf(a);if(-1===h)return l;const f={};for(const[m,x]of Object.entries(r.getRaceFissions(o))){f[m]||(f[m]=[]);for(const e of x)f[e]||(f[e]=[]),m!==e&&f[m].push(e),f[e].push(m)}const d={};for(const[m,x]of Object.entries(f)){d[m]={};for(const e of x)for(const[t,n]of Object.entries(s.getRaceFissions(e)))d[m][t]||(d[m][t]=[]),d[m][t]=d[m][t].concat(n);for(const e of x)m!==e&&(d[m][e]||(d[m][e]=[]),d[m][e].push(e))}const g=u[h-1]?3*u[h-1]-c:0,p=3*a-c;for(const[m,x]of Object.entries(d))for(const n of t.getIngredientDemonLvls(m)){const s=t.reverseLookupDemon(m,n),r=t.getDemon(s).currLvl;if(s!==e){const o=g-n,a=p-n;for(const[n,c]of Object.entries(x))for(const u of t.getIngredientDemonLvls(n)){const h=t.reverseLookupDemon(n,u),f=t.getDemon(h).currLvl;if(h!==s&&h!==e&&(r>f||r===f&&i[m]<i[n])){const f=o-u,d=a-u;for(const o of c)for(const a of t.getIngredientDemonLvls(o)){const c=t.reverseLookupDemon(o,a),g=t.getDemon(c).currLvl;c!==h&&c!==s&&c!==e&&(n!==o||u<a)&&(r>g||r===g&&i[m]<i[o])&&f<a&&a<=d&&l.push({name1:s,name2:h,name3:c})}}}}}return l}function a(e,t,n){const{tripleChart:s}=n,{race:r,lvl:o}=t.getDemon(e),a=s.lvlModifier,c=[],l=t.getIngredientDemonLvls(r).filter(e=>e!==o),u=t.getResultDemonLvls(r);for(let h=0;h<l.length;h++){const e=l[h],n=u.filter(t=>t!==e),s=t.reverseLookupDemon(r,e);for(let u=h+1;u<l.length;u++){const h=l[u],f=n.filter(e=>e!==h),d=t.reverseLookupDemon(r,h);for(let n=u+1;n<l.length;n++){const u=l[n],g=f.filter(e=>e!==u),p=t.reverseLookupDemon(r,u),m=i((e+h+u)/3+a,g);-1!==m&&g[m]===o&&c.push({name1:s,name2:d,name3:p})}}}return c}function c(e,t,n){const{race:r,lvl:i}=t.getDemon(e),o=t.getResultDemonLvls(r).slice();if(0<o.indexOf(i)){const a=t.reverseLookupDemon(r,o[o.indexOf(i)-1]);return[].concat((0,s.jm)(a,t,n).filter(t=>t.name3===e),(0,s.UN)(a,t,n).filter(t=>t.name3===e)).map(e=>({name1:e.name1,name2:e.name2,name3:a}))}return[]}function l(e,t,n){return(0,r.A)(e,t,n.tripleChart).map(e=>{const[t,n]=e.name2.split(" x ");return{name1:e.name1,name2:t,name3:n}})}},8847:(e,t,n)=>{"use strict";n.d(t,{jm:()=>i,UN:()=>o,e7:()=>a,Hd:()=>c});var s=n(9658);function r(e,t){if(!t.length)return-1;let n=0;for(const s of t)e>s&&n++;return n===t.length?-1:n}function i(e,t,n){const{normalChart:s,tripleChart:i,raceOrder:o}=n,{race:a,lvl:c,currLvl:l}=t.getDemon(e),u=3*i.lvlModifier,h=[],f=i.getRaceFusions(a),d={};for(const[r,g]of Object.entries(f)){d[r]||(d[r]={}),a!==r&&(d[r][r]=g);for(const[e,t]of Object.entries(s.getRaceFissions(r))){d[e]||(d[e]={});for(const n of t)d[e][n]=g}}for(const[g,p]of Object.entries(d))for(const n of t.getIngredientDemonLvls(g)){const s=t.reverseLookupDemon(g,n),i=t.getDemon(s).currLvl;if(s!==e&&(l>i||l===i&&o[a]<o[g]))for(const[f,d]of Object.entries(p)){const i=t.getResultDemonLvls(d),p=i.map(e=>3*e-u-c-n);for(const c of t.getIngredientDemonLvls(f)){const u=t.reverseLookupDemon(f,c),m=t.getDemon(u).currLvl;if(u!==s&&u!==e&&(g!==f||n<c)&&(l>m||l===m&&o[a]<o[f]))if(t.isElementDemon(d))h.push({name1:s,name2:u,name3:d});else{const n=r(c,p);if(-1!==n){const r=t.reverseLookupDemon(d,i[n]);r!==u&&r!==s&&r!==e?h.push({name1:s,name2:u,name3:r}):n+1<i.length&&h.push({name1:s,name2:u,name3:t.reverseLookupDemon(d,i[n+1])})}}}}}return h}function o(e,t,n){const{normalChart:s,tripleChart:i,raceOrder:o}=n,{race:a,lvl:c,currLvl:l}=t.getDemon(e),u=3*i.lvlModifier,h=[],f={};f[a]=Object.assign({},i.getRaceFusions(a)),delete f[a][a];for(const[r,d]of Object.entries(s.getRaceFusions(a)))f[r]=i.getRaceFusions(d);for(const[d,g]of Object.entries(f))for(const n of t.getIngredientDemonLvls(d)){const s=t.reverseLookupDemon(d,n),i=t.getDemon(s).currLvl;if(s!==e)for(const[f,p]of Object.entries(g)){const g=t.getResultDemonLvls(p),m=g.map(e=>3*e-u-c-n);for(const n of t.getIngredientDemonLvls(f)){const c=t.reverseLookupDemon(f,n),u=t.getDemon(c).currLvl;if(c!==s&&c!==e&&(u>l||u===l&&o[f]<o[a])&&(u>i||u===i&&o[f]<o[d]))if(t.isElementDemon(p))h.push({name1:s,name2:c,name3:p});else{const i=r(n,m);if(-1!==i){const n=t.reverseLookupDemon(p,g[i]);n!==c&&n!==s&&n!==e?h.push({name1:s,name2:c,name3:n}):i+1<g.length&&h.push({name1:s,name2:c,name3:t.reverseLookupDemon(p,g[i+1])})}}}}}return h}function a(e,t,n){const{tripleChart:s}=n,{race:i,lvl:o}=t.getDemon(e),a=s.getRaceFusions(i)[i],c=[];if(!a)return c;const l=t.getIngredientDemonLvls(i).filter(e=>e!==o),u=t.getResultDemonLvls(i).filter(e=>e!==o),h=s.lvlModifier;for(let f=0;f<l.length;f++){const e=l[f],n=u.filter(t=>t!==e),s=t.reverseLookupDemon(i,e);for(let u=f+1;u<l.length;u++){const f=l[u],d=n.filter(e=>e!==f),g=t.reverseLookupDemon(i,f);if(t.isElementDemon(a))c.push({name1:s,name2:g,name3:a});else{const n=r((e+o+f)/3+h,d);-1!==n&&c.push({name1:s,name2:g,name3:t.reverseLookupDemon(i,d[n])})}}}return c}function c(e,t,n){return(0,s.Co)(e,t,n.tripleChart).map(e=>{const[t,n]=e.name1.split(" x ");return{name1:t,name2:n,name3:e.name2}})}},4809:(e,t,n)=>{"use strict";function s(e,t,n){const s=t.getSpecialNamePairs(e).slice();for(const[r,i]of Object.entries(n.getRaceFissions(e))){const e=t.getIngredientDemonLvls(r);for(let n=0;n<e.length;n++)for(let i=n+1;i<e.length;i++)s.push({name1:t.reverseLookupDemon(r,e[n]),name2:t.reverseLookupDemon(r,e[i])})}return s}n.d(t,{Q:()=>s})},4351:(e,t,n)=>{"use strict";function s(e,t,n){const s=[];for(const[r,i]of Object.entries(n.getElemFusions(e))){const e=t.getResultDemonLvls(r).filter(e=>e<100),n=i<0?e.slice(-1*i):e.slice(0,-1*i),o=i<0?e.slice(0,i):e.slice(i);for(let i=0;i<n.length;i++)s.push({name1:t.reverseLookupDemon(r,n[i]),name2:t.reverseLookupDemon(r,o[i])})}return s}function r(e,t,n){const s=[],r=n.getElemFusions(e);for(const{race:i,lvl:o,name:a}of t.specialDemons){const e=r[i];if(e){const n=(e,t)=>o>t?e+1:e,r=t.getResultDemonLvls(i).filter(e=>e<100),c=e+r.reduce(n,0);0<c&&c<r.length&&s.push({name1:a,name2:t.reverseLookupDemon(i,r[c])})}}return s}function i(e,t,n){return[]}n.d(t,{Eh:()=>s,s0:()=>r,wy:()=>i})},3613:(e,t,n)=>{"use strict";function s(e,t,n){const s=[],r=t.getSpecialNamePairs(e);if(1===r.length&&r[0].name1===r[0].name2)e=r[0].name1;else if(r.length)return r;const{race:i,lvl:o}=t.getDemon(e),a=t.getResultDemonLvls(i),c=a.indexOf(o);if(-1===c)return[];const l=a[c-1]?2*(a[c-1]-n.lvlModifier):0,u=a[c+1]?2*(o-n.lvlModifier):200;for(const[h,f]of Object.entries(n.getRaceFissions(i)))for(const e of t.getIngredientDemonLvls(h)){const n=l-e,r=u-e;for(const i of f)for(const o of t.getIngredientDemonLvls(i))n<o&&o<=r&&(h!=i||e<o)&&s.push({name1:t.reverseLookupDemon(h,e),name2:t.reverseLookupDemon(i,o)})}return s}function r(e,t,n){const{race:s,lvl:r}=t.getDemon(e),i=[],o=n.getElemModifiers(s),a=Object.keys(o).map(e=>parseInt(e,10));if(t.getSpecialNamePairs(e).length||!a.length)return i;const c=[0,0].concat(t.getResultDemonLvls(s),[100,100]),l=[];for(const u of t.getIngredientDemonLvls(s)){const e=c.slice();e.indexOf(u)<0&&(e.push(u),e.sort((e,t)=>e-t));const n=e.indexOf(u);for(const i of a)e[n+i]===r&&l.push({ingName:t.reverseLookupDemon(s,u),elementOffset:i})}for(const u of l)for(const e of o[u.elementOffset])i.push({name1:u.ingName,name2:e});return i}n.d(t,{M:()=>s,A:()=>r})},9658:(e,t,n)=>{"use strict";function s(e,t){if(!t.length)return-1;let n=0;for(const s of t)e>s&&n++;return n===t.length?n-1:n}function r(e,t,n){const r=[],{race:i,lvl:o}=t.getDemon(e);for(const[a,c]of Object.entries(n.getRaceFusions(i))){const e=t.getResultDemonLvls(c),l=e.map(e=>2*(e-n.lvlModifier)-o);for(const n of t.getIngredientDemonLvls(a)){const u=s(n,l);-1===u||100===e[u]||i==a&&o==n||r.push({name1:t.reverseLookupDemon(a,n),name2:t.reverseLookupDemon(c,e[u])})}}for(const s of t.reverseLookupSpecial(e)){const n=t.getSpecialNameEntries(s);if(2===n.length){const t=n[0]===e?n[1]:n[0];for(const e of r)e.name1===t&&(e.name2=s)}}return r}function i(e,t,n){const{race:s,lvl:r}=t.getDemon(e),i=n.getRaceFusions(s)[s],o=t.getIngredientDemonLvls(s).filter(e=>e!==r),a=[];if(i&&t.isElementDemon(i))for(const c of o)a.push({name1:t.reverseLookupDemon(s,c),name2:i});return a}function o(e,t,n){const s=[],{race:r,lvl:i}=t.getDemon(e),o=[0,0].concat(t.getResultDemonLvls(r),[100,100]);o.indexOf(i)<0&&(o.push(i),o.sort((e,t)=>e-t));const a=o.indexOf(i),c=n.getElemModifiers(r),l=Object.keys(c).map(e=>parseInt(e,10));for(const u of l){const e=o[a+u];if(0!==e&&100!==e){const n=t.reverseLookupDemon(r,e);for(const e of c[u])s.push({name1:e,name2:n})}}return s}n.d(t,{ne:()=>r,e7:()=>i,Co:()=>o})},9859:(e,t,n)=>{"use strict";function s(e,t){const n=t.getDemon(e);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:e}}function r(e,t){const n=t.getDemon(e.name1),s=t.getDemon(e.name2);return{price:n.price+s.price,race1:n.race,lvl1:n.currLvl,name1:e.name1,race2:s.race,lvl2:s.currLvl,name2:e.name2}}function i(e,t){const n=t.getDemon(e.name1),s=t.getDemon(e.name2);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:e.name1,race2:s.race,lvl2:s.lvl,name2:e.name2}}function o(e,t){const n=t.getDemon(e.name1),s=t.getDemon(e.name2),r=t.getDemon(e.name3);return{price:n.price+s.price+r.price,d1:n,d2:s,d3:r}}function a(e,t){const n=t.getDemon(e.name1),s=t.getDemon(e.name2),r=t.getDemon(e.name3);return{price:n.price+s.price,d1:n,d2:s,d3:r}}n.d(t,{Fk:()=>s,S6:()=>r,D0:()=>i,Aw:()=>o,YL:()=>a})},4693:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});class s{constructor(e,t){this.fuseNonelem=e,this.fuseElement=t}getFusions(e,t,n){let s=[];const r=t.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const i of r)s=s.concat(i(e,t,n));return s}}},6829:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});let s=(()=>{class e{static loadFusionTableJson(e,t){const n={},s=1===t[0].length;for(const r of e)n[r]={};for(let r=0;r<t.length;r++){const i=e[r],o=t[r],a=s?0:e.length-o.length;for(let t=0;t<o.length;t++){const s=e[t+a],r=o[t];"-"!==r&&(n[i][s]=r,n[s][i]=r)}}return n}static loadFissionTableJson(e,t,n){const s={},r=1===n[0].length;for(let i=0;i<n.length;i++){const t=e[i],o=n[i],a=r?0:e.length-o.length;for(let n=0;n<o.length;n++){const r=e[n+a],i=o[n];"-"!==i&&(s[i]||(s[i]={}),s[i][t]||(s[i][t]=[]),s[i][t].push(r))}}return s}static loadElementTableJson(e,t,n){const s={};for(const r of t)s[r]={};for(let r=0;r<n.length;r++){const i=e[r],o=n[r];for(let e=0;e<o.length;e++){const o=t[e],a=n[r][e];a&&(s[o][i]=a)}}return s}static mergeFusionTables(e,t){const n={};for(const[s,r]of Object.entries(e))n[s]=Object.assign({},r);for(const[s,r]of Object.entries(t))n[s]=Object.assign(n[s]||{},r);return n}static mergeFissionTables(e,t){const n={};for(const[s,r]of Object.entries(e)){n[s]={};for(const[e,t]of Object.entries(r))n[s][e]=t.slice()}for(const[s,r]of Object.entries(t)){n[s]=n[s]||{};for(const[e,t]of Object.entries(r))n[s][e]=t.concat(n[s][e]||[])}return n}getLightDark(t){return-1!==e.LIGHT_RACES.indexOf(t)?1:-1!==e.DARK_RACES.indexOf(t)?-1:0}getRaceFissions(e){return this.fissionChart[e]||{}}getRaceFusions(e){return this.fusionChart[e]||{}}getRaceFusion(e,t){return this.getRaceFusions(e)[t]||""}getElemModifiers(e){const t={};for(const[n,s]of Object.entries(this.elementChart)){const r=s[e];r&&(t[r]||(t[r]=[]),t[r].push(n))}return t}getElemFusions(e){return this.elementChart[e]||{}}isConvertedRace(e){return!1}}return e.LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"],e.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"],e})()},3152:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});class s{constructor(e,t){this.fuseNonelem=e,this.fuseElement=t}getFusions(e,t,n){let s=[];const r=t.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const i of r)s=s.concat(i(e,t,n));return s}}},6101:(e,t,n)=>{"use strict";n.d(t,{tq:()=>r,Lu:()=>i,b0:()=>o,JZ:()=>a,Yk:()=>c,LG:()=>l,DY:()=>u});var s=n(5614);let r=(()=>{class e{transform(e){return 0===e?"Auto":e<=100?`${e}% HP`:e<=1e3?e-100+" HP":e<=2e3?e-1e3+" MP":e<=2005?e-2e3+" CC":e-2e3+" MG"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"skillCostToString",type:e,pure:!0}),e})(),i=(()=>{class e{transform(e){return e<=0?"Innate":e<120?e.toString():String.fromCharCode(Math.floor(e/100)+32)+String.fromCharCode(e%100+32)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"skillLevelToString",type:e,pure:!0}),e})(),o=(()=>{class e{transform(e){return e<=0?"":e<120?`(${e.toString()})`:"("+String.fromCharCode(Math.floor(e/100)+32)+String.fromCharCode(e%100+32)+")"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"skillLevelToShortString",type:e,pure:!0}),e})(),a=(()=>{class e{transform(e){return e>0?`+${e}`:e.toString()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"affinityToString",type:e,pure:!0}),e})(),c=(()=>{class e{transform(e){return Math.floor(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"lvlToNumber",type:e,pure:!0}),e})(),l=(()=>{class e{transform(e){return e<-1e3?"ab":e<0?"rp":0===e?"nu":e<100?"rs":e<1e3?"no":e<2e3?"wk":"fr"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"reslvlToString",type:e,pure:!0}),e})(),u=(()=>{class e{transform(e){return 0===e?0:e<100?50:100===e?100:e<800?500:1e3}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"roundInheritPercent",type:e,pure:!0}),e})()},2502:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var s=n(5614);let r=(()=>{class e{constructor(e,t){this.elementRef=e,this.renderer=t,this.borderWidth=2}get colWidths(){const e=[],t=this.elementRef.nativeElement.children;if(t.length)for(const n of t[t.length-1].children)e.push(n.getBoundingClientRect().width-2*this.borderWidth);return e}set colWidths(e){const t=this.elementRef.nativeElement.children;if(t.length){const n=t[t.length-1].children;for(let t=0;t<n.length;t++)this.renderer.setStyle(n[t],"width",`${e[t]}px`)}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj))},e.\u0275dir=s.lG2({type:e,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}}),e})()},1501:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var s=n(8512),r=n(5614);let i=(()=>{class e{constructor(e){this._edges$=new s.X({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=e?e.edges:new s.X({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(e){this._edges$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})()},649:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var s=n(5614),r=n(1501);let i=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.renderer=t,this.edgesService=n,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(e=>{this.edges=e}))}ngOnDestroy(){for(const e of this.subscriptions)e.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(e){this._edges=e,this.sZIndex=e.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${e.top}px`),this.nextEdges()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(r.L))},e.\u0275dir=s.lG2({type:e,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(e,t){2&e&&(s.Udp("z-index",t.sZIndex),s.ekj("position-sticky",t.cPositionSticky))},inputs:{edges:"edges"}}),e})()},4248:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,D:()=>l});var s=n(5614),r=n(2502),i=n(649);const o=["stickyHeader"],a=["hiddenHeader"];let c=(()=>{class e{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new s.vpe}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(e){this.sortAsc=e>0,this.sortAscIndex=(this.sortAsc?1:-1)*e}sortDirClass(e){return this.sortAscIndex!==e?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(e){this.sortAsc=this.sortAscIndex!==e||!this.sortAsc,this.sortAscIndex=e,this.sortFunIndexChanged.emit(this.sortFunIndex)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}}),e})(),l=(()=>{class e{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(e){this._rowData=e,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(e){this._sortFunIndex=e,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((e,t)=>this.getSortFun(-1*this.sortFunIndex)(t,e)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=s.lG2({type:e,viewQuery:function(e,t){if(1&e&&(s.Gf(i.v,5),s.Gf(o,5,r.X),s.Gf(a,5,r.X)),2&e){let e;s.iGM(e=s.CRH())&&(t.stickyTable=e.first),s.iGM(e=s.CRH())&&(t.stickyHeader=e.first),s.iGM(e=s.CRH())&&(t.hiddenHeader=e.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}}),e})()}}]);