"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[520],{5390:(J,A,g)=>{g.d(A,{e:()=>C});var t=g(3247),I=g(3808),e=g(4769),m=g(6814),c=g(4487);const s=function(){return{exact:!0}};function i(v,E){if(1&v&&(e.TgZ(0,"th",2)(1,"a",3),e._uU(2),e.qZA()()),2&v){const a=E.$implicit,u=e.oxw().$implicit;e.Udp("width",1/u,"%"),e.Q6J("routerLink",a.link)("routerLinkActiveOptions",e.DdM(6,s)),e.xp6(1),e.Q6J("routerLink",a.link),e.xp6(1),e.hij(" ",a.title," ")}}function n(v,E){if(1&v&&(e.TgZ(0,"th",11)(1,"a",12),e._uU(2),e.qZA()()),2&v){const a=e.oxw().$implicit,u=e.oxw();e.Udp("width",1/a,"%"),e.xp6(2),e.hij(" ",u.langEn?"Fusion Settings":"DLC"," ")}}const o=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function r(v,E){if(1&v&&(e.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"a",3),e._uU(5),e.qZA()(),e.TgZ(6,"th",4)(7,"a",5),e._uU(8),e.qZA()(),e.TgZ(9,"th",6)(10,"a",7),e._uU(11),e.qZA()(),e.YNc(12,i,3,7,"th",8),e.YNc(13,n,3,3,"th",9),e.qZA(),e.TgZ(14,"tr")(15,"th",10),e._uU(16),e.qZA()()()()),2&v){const a=E.$implicit,u=e.oxw();e.Q6J("ngStyle",e.DdM(17,o)),e.xp6(3),e.Udp("width",1/a,"%"),e.Q6J("routerLink",u.mainList+"s")("routerLinkActiveOptions",e.DdM(18,s)),e.xp6(1),e.Q6J("routerLink",u.mainList+"s"),e.xp6(1),e.hij(" ",u.langEn?u.mainList.charAt(0).toUpperCase()+u.mainList.slice(1)+" List":"\u60aa\u9b54\u4e00\u89a7"," "),e.xp6(1),e.Udp("width",1/a,"%"),e.xp6(2),e.hij(" ",u.langEn?"Skill List":"\u30b9\u30ad\u30eb\u4e00\u89a7"," "),e.xp6(1),e.Udp("width",1/a,"%"),e.xp6(2),e.hij(" ",u.langEn?"Fusion Chart":"\u5408\u4f53\u8868"," "),e.xp6(1),e.Q6J("ngForOf",u.otherLinks),e.xp6(1),e.Q6J("ngIf",u.hasSettings),e.xp6(2),e.uIk("colspan",a),e.xp6(1),e.Oqu(u.appName+(u.langEn?" Fusion Calculator":" \u5408\u4f53\u30a2\u30d7\u30ea"))}}function l(v,E){if(1&v&&(e.TgZ(0,"div",3),e._UZ(1,"app-demon-compendium-header",4),e.qZA()),2&v){const a=e.oxw();e.xp6(1),e.Q6J("appName",a.appName)("mainList",a.mainList)("hasSettings",a.hasSettings)("langEn",a.langEn)("otherLinks",a.otherLinks)}}function f(v,E){if(1&v&&(e.TgZ(0,"div"),e._UZ(1,"app-demon-compendium-header",4),e.qZA()),2&v){const a=e.oxw();e.xp6(1),e.Q6J("appName",a.appName)("mainList",a.mainList)("hasSettings",a.hasSettings)("langEn",a.langEn)("otherLinks",a.otherLinks)}}const _=function(v){return{marginLeft:"auto",marginRight:"auto",width:v}};let D=(()=>{class v{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.langEn=!0,this.otherLinks=[]}static#t=this.\u0275fac=function(u){return new(u||v)};static#e=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",langEn:"langEn",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(u,h){1&u&&e.YNc(0,r,17,19,"table",0),2&u&&e.Q6J("ngIf",3+h.otherLinks.length+(h.hasSettings?1:0))},dependencies:[m.sg,m.O5,m.PC,c.rH,c.Od],encapsulation:2,changeDetection:0})}return v})(),C=(()=>{class v{constructor(a){this.route=a,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(a=>{this.appName=a.appName||"Shin Megami Tensei",this.isChart="chart"===a.fusionTool,this.langEn=!a.lang})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}static#t=this.\u0275fac=function(u){return new(u||v)(e.Y36(c.gz))};static#e=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-demon-compendium"]],viewQuery:function(u,h){if(1&u&&e.Gf(I.v,5),2&u){let p;e.iGM(p=e.CRH())&&(h.stickyTable=p.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[e._Bn([t.L])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","langEn","otherLinks"]],template:function(u,h){1&u&&(e.TgZ(0,"div",0),e.YNc(1,l,2,5,"div",1),e.YNc(2,f,2,5,"div",2),e._UZ(3,"router-outlet"),e.qZA()),2&u&&(e.Q6J("ngStyle",e.VKq(3,_,h.isChart?"auto":"1080px")),e.xp6(1),e.Q6J("ngIf",!h.isChart),e.xp6(1),e.Q6J("ngIf",h.isChart))},dependencies:[m.O5,m.PC,c.lC,I.v,D],encapsulation:2,changeDetection:0})}return v})()},7880:(J,A,g)=>{g.d(A,{t:()=>s});var t=g(4769),I=g(6814),e=g(4487);function m(i,n){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.TgZ(2,"a",3),t._uU(3),t.qZA()()),2&i){const o=t.oxw();t.xp6(1),t.hij(" Error: Could not find entry in compendium for ",o.name,". Did you mean: "),t.xp6(1),t.MGl("routerLink","../",o.name.split("%20").join(" "),""),t.xp6(1),t.Oqu(o.name.split("%20").join(" "))}}function c(i,n){if(1&i&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&i){const o=t.oxw();t.xp6(1),t.hij("Error: Could not find entry in compendium for ",o.name,"")}}let s=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(r,l){1&r&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t._uU(4),t.qZA()()(),t.TgZ(5,"tbody")(6,"tr"),t.YNc(7,m,4,3,"td",2),t.YNc(8,c,2,1,"td",2),t.qZA()()()),2&r&&(t.xp6(4),t.hij("Entry for ",l.name,""),t.xp6(3),t.Q6J("ngIf",l.name&&l.name.includes("%20")),t.xp6(1),t.Q6J("ngIf",!l.name||!l.name.includes("%20")))},dependencies:[I.O5,e.rH],encapsulation:2,changeDetection:0})}return i})()},1009:(J,A,g)=>{g.d(A,{I:()=>a});var t=g(4769),I=g(6814),e=g(2173);function m(u,h){if(1&u&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&u){const p=t.oxw(2);t.uIk("colSpan",p.ailmentHeaders.length),t.xp6(1),t.Oqu(p.langEn?"Ailment":"\u72b6\u614b\u7570\u5e38")}}const c=function(u){return["element-icon",u]};function s(u,h){if(1&u&&(t.TgZ(0,"th")(1,"div",6),t._uU(2),t.qZA()()),2&u){const p=h.$implicit,S=t.oxw(2);t.Udp("width",(S.ailmentHeaders.length?50:100)/S.resistHeaders.length,"%"),t.xp6(1),t.Q6J("ngClass",t.VKq(4,c,p)),t.xp6(1),t.Oqu(p)}}function i(u,h){if(1&u&&(t.TgZ(0,"th")(1,"div"),t._uU(2),t.qZA()()),2&u){const p=h.$implicit,S=t.oxw(2);t.Udp("width",50/S.ailmentHeaders.length,"%"),t.xp6(2),t.Oqu(p)}}const n=function(u){return["resists",u]};function o(u,h){if(1&u&&(t.TgZ(0,"td",6),t.ALo(1,"reslvlToColor"),t._uU(2),t.ALo(3,"reslvlToString"),t.qZA()),2&u){const p=h.$implicit;t.Q6J("ngClass",t.VKq(6,n,t.lcZ(1,2,p))),t.xp6(2),t.hij(" ",t.lcZ(3,4,p)," ")}}function r(u,h){if(1&u&&(t.TgZ(0,"td",6),t.ALo(1,"reslvlToString"),t._uU(2),t.ALo(3,"reslvlToString"),t.qZA()),2&u){const p=h.$implicit;t.Q6J("ngClass",t.VKq(6,n,t.lcZ(1,2,p))),t.xp6(2),t.hij(" ",t.lcZ(3,4,p)," ")}}function l(u,h){if(1&u&&(t.ynx(0),t.YNc(1,o,4,8,"td",5),t.YNc(2,r,4,8,"td",5),t.BQk()),2&u){const p=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",p.resists),t.xp6(1),t.Q6J("ngForOf",p.ailments)}}function f(u,h){if(1&u&&(t.TgZ(0,"td",6),t.ALo(1,"reslvlToColor"),t._uU(2),t.ALo(3,"reslvlToStringJa"),t.qZA()),2&u){const p=h.$implicit;t.Q6J("ngClass",t.VKq(6,n,t.lcZ(1,2,p))),t.xp6(2),t.hij(" ",t.lcZ(3,4,p)," ")}}function _(u,h){if(1&u&&(t.TgZ(0,"td",6),t.ALo(1,"reslvlToString"),t._uU(2),t.ALo(3,"reslvlToStringJa"),t.qZA()),2&u){const p=h.$implicit;t.Q6J("ngClass",t.VKq(6,n,t.lcZ(1,2,p))),t.xp6(2),t.hij(" ",t.lcZ(3,4,p)," ")}}function D(u,h){if(1&u&&(t.ynx(0),t.YNc(1,f,4,8,"td",5),t.YNc(2,_,4,8,"td",5),t.BQk()),2&u){const p=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",p.resists),t.xp6(1),t.Q6J("ngForOf",p.ailments)}}function C(u,h){if(1&u&&(t.TgZ(0,"td",6),t._uU(1),t.ALo(2,"resmodToString"),t.qZA()),2&u){const p=h.$implicit;t.Q6J("ngClass",t.VKq(4,n,p%1024==40?"no":"")),t.xp6(1),t.hij(" ",t.lcZ(2,2,p)," ")}}function v(u,h){if(1&u&&(t.TgZ(0,"td",6),t._uU(1),t.ALo(2,"resmodToString"),t.qZA()),2&u){const p=h.$implicit;t.Q6J("ngClass",t.VKq(4,n,p%1024==40?"no":"")),t.xp6(1),t.hij(" ",t.lcZ(2,2,p)," ")}}function E(u,h){if(1&u&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),t._uU(4),t.qZA()(),t.TgZ(5,"tr")(6,"th"),t._uU(7),t.qZA(),t.YNc(8,m,2,2,"th",3),t.qZA(),t.TgZ(9,"tr"),t.YNc(10,s,3,6,"th",4),t.YNc(11,i,3,3,"th",4),t.qZA()(),t.TgZ(12,"tbody")(13,"tr"),t.YNc(14,l,3,2,"ng-container",3),t.YNc(15,D,3,2,"ng-container",3),t.qZA(),t.TgZ(16,"tr"),t.YNc(17,C,3,6,"td",5),t.YNc(18,v,3,6,"td",5),t.qZA()()()),2&u){const p=t.oxw();t.xp6(3),t.uIk("colspan",p.resistHeaders.length+p.ailmentHeaders.length),t.xp6(1),t.Oqu(p.langEn?p.title:"\u8010\u6027"),t.xp6(2),t.uIk("colSpan",p.resistHeaders.length),t.xp6(1),t.Oqu(p.langEn?"Element":"\u5c5e\u6027"),t.xp6(1),t.Q6J("ngIf",p.ailmentHeaders.length),t.xp6(2),t.Q6J("ngForOf",p.resistHeaders),t.xp6(1),t.Q6J("ngForOf",p.ailmentHeaders),t.xp6(3),t.Q6J("ngIf",p.langEn),t.xp6(1),t.Q6J("ngIf",!p.langEn),t.xp6(2),t.Q6J("ngForOf",p.resists),t.xp6(1),t.Q6J("ngForOf",p.ailments)}}let a=(()=>{class u{constructor(){this.title="Resistances",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[],this.langEn=!0}static#t=this.\u0275fac=function(S){return new(S||u)};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments",langEn:"langEn"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(S,y){1&S&&t.YNc(0,E,19,11,"table",0),2&S&&t.Q6J("ngIf",y.resistHeaders.length)},dependencies:[I.mk,I.sg,I.O5,e.LG,e.Vk,e.Lu,e.IQ],encapsulation:2,changeDetection:0})}return u})()},4101:(J,A,g)=>{g.d(A,{Q:()=>tt});var t=g(4769),I=g(3247),e=g(9217);let m=(()=>{class L extends e.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((d,k)=>200*(this.raceOrder[d.race]-this.raceOrder[k.race])+k.lvl-d.lvl,(d,k)=>200*(this.raceOrder[d.race]-this.raceOrder[k.race])+k.lvl-d.lvl,(d,k)=>k.lvl-d.lvl,(d,k)=>d.name.localeCompare(k.name)),this.inheritOrder&&this.sortFuns.push((d,k)=>d.inherits-k.inherits),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((d,k)=>(O,Y)=>Y.stats[k]-O.stats[k]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((d,k)=>(O,Y)=>O.resists[k]-Y.resists[k]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((d,k)=>(O,Y)=>Y.affinities[k]-O.affinities[k])))}getSortFun(d){return this.sortFuns[d]}static#t=this.\u0275fac=function(){let d;return function(O){return(d||(d=t.n5z(L)))(O||L)}}();static#e=this.\u0275dir=t.lG2({type:L,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.qOj]})}return L})();var c=g(6814),s=g(4487),i=g(95),n=g(2173),o=g(3808),r=g(5068);const l=["class","app-demon-list-header"];function f(L,w){if(1&L&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&L){const d=t.oxw();t.uIk("colSpan",d.statColIndices.length),t.xp6(1),t.Oqu(d.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9")}}function _(L,w){if(1&L&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&L){const d=t.oxw();t.uIk("colSpan",d.resistColIndices.length),t.xp6(1),t.Oqu(d.langEn?"Resistances":"\u8010\u6027")}}function D(L,w){if(1&L&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&L){const d=t.oxw();t.uIk("colSpan",d.affinityColIndices.length),t.xp6(1),t.Oqu(d.langEn?"Affinities":"\u30b9\u30ad\u30eb\u9069\u6b63")}}function C(L,w){1&L&&(t.TgZ(0,"th",5),t._uU(1,"Enemy"),t.qZA())}function v(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"th",2),t.NdJ("click",function(){t.CHM(d);const O=t.oxw();return t.KtG(O.nextSortFunIndex(4))}),t._uU(1,"Inherits"),t.qZA()}if(2&L){const d=t.oxw();t.Q6J("ngClass",d.sortDirClass(4))}}function E(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"th",6),t.NdJ("click",function(){const Y=t.CHM(d).$implicit,W=t.oxw();return t.KtG(W.nextSortFunIndex(Y.index))}),t._uU(1),t.qZA()}if(2&L){const d=w.$implicit;t.xp6(1),t.hij(" ",d.stat," ")}}function a(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"th",6),t.NdJ("click",function(){const Y=t.CHM(d).$implicit,W=t.oxw();return t.KtG(W.nextSortFunIndex(Y.index))}),t._UZ(1,"div"),t.qZA()}if(2&L){const d=w.$implicit;t.xp6(1),t.Gre("element-icon ",d.elem,"")}}function u(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"th",6),t.NdJ("click",function(){const Y=t.CHM(d).$implicit,W=t.oxw();return t.KtG(W.nextSortFunIndex(Y.index))}),t._UZ(1,"div"),t.qZA()}if(2&L){const d=w.$implicit;t.xp6(1),t.Gre("element-icon ",d.elem,"")}}function h(L,w){1&L&&(t.TgZ(0,"th"),t._uU(1,"Drops"),t.qZA())}function p(L,w){1&L&&(t.TgZ(0,"th"),t._uU(1,"Appears"),t.qZA())}let S=(()=>{class L extends e.j{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.langEn=!0,this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[]}ngOnInit(){this.nextColIndices()}nextColIndices(){let d=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((k,O)=>({stat:k,index:O+d})),d+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((k,O)=>({elem:k,index:O+d})),d+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((k,O)=>({elem:k,index:O+d})))}static#t=this.\u0275fac=function(){let d;return function(O){return(d||(d=t.n5z(L)))(O||L)}}();static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",langEn:"langEn",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[t.qOj],attrs:l,decls:23,vars:17,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(k,O){1&k&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.YNc(3,f,2,2,"th",0),t.YNc(4,_,2,2,"th",0),t.YNc(5,D,2,2,"th",0),t.YNc(6,C,2,0,"th",1),t.qZA(),t.TgZ(7,"tr")(8,"th",2),t.NdJ("click",function(){return O.nextSortFunIndex(1)}),t.TgZ(9,"span"),t._uU(10),t.qZA()(),t.TgZ(11,"th",2),t.NdJ("click",function(){return O.nextSortFunIndex(2)}),t.TgZ(12,"span"),t._uU(13,"Lvl"),t.qZA()(),t.TgZ(14,"th",2),t.NdJ("click",function(){return O.nextSortFunIndex(3)}),t.TgZ(15,"span"),t._uU(16),t.qZA()(),t.YNc(17,v,2,1,"th",3),t.YNc(18,E,2,1,"th",4),t.YNc(19,a,2,3,"th",4),t.YNc(20,u,2,3,"th",4),t.YNc(21,h,2,0,"th",0),t.YNc(22,p,2,0,"th",0),t.qZA()),2&k&&(t.xp6(1),t.uIk("colSpan",O.hasInherits?4:3),t.xp6(1),t.Oqu(O.langEn?O.isPersona?"Persona":"Demon":"\u60aa\u9b54"),t.xp6(1),t.Q6J("ngIf",O.statColIndices.length),t.xp6(1),t.Q6J("ngIf",O.resistColIndices.length),t.xp6(1),t.Q6J("ngIf",O.affinityColIndices.length),t.xp6(1),t.Q6J("ngIf",O.isEnemy),t.xp6(2),t.Q6J("ngClass",O.sortDirClass(1)),t.xp6(2),t.Oqu(O.langEn?"Race":"\u7a2e\u65cf"),t.xp6(1),t.Q6J("ngClass",O.sortDirClass(2)),t.xp6(3),t.Q6J("ngClass",O.sortDirClass(3)),t.xp6(2),t.Oqu(O.langEn?"Name":"\u60aa\u9b54\u540d"),t.xp6(1),t.Q6J("ngIf",O.hasInherits),t.xp6(1),t.Q6J("ngForOf",O.statColIndices),t.xp6(1),t.Q6J("ngForOf",O.resistColIndices),t.xp6(1),t.Q6J("ngForOf",O.affinityColIndices),t.xp6(1),t.Q6J("ngIf",O.isEnemy),t.xp6(1),t.Q6J("ngIf",O.isEnemy))},dependencies:[c.mk,c.sg,c.O5],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0})}return L})();const y=["class","app-smt-demon-list-row"];function F(L,w){if(1&L&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"lvlToNumber"),t.qZA()),2&L){const d=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,d.data.lvl))}}function U(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(d);const O=t.oxw(2);return t.KtG(O.updateCurrRange())}),t._uU(1),t.qZA()}if(2&L){const d=t.oxw(2);t.xp6(1),t.hij("",d.data.currLvl," \u270e")}}function N(L,w){if(1&L&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&L){const d=w.index,k=t.oxw(3);t.Q6J("value",d+k.currOffset),t.xp6(1),t.Oqu(d+k.currOffset)}}function M(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"select",9),t.NdJ("change",function(O){t.CHM(d);const Y=t.oxw(2);return t.KtG(Y.emitValidLvl(O))}),t.TgZ(1,"option",10),t._uU(2),t.qZA(),t.YNc(3,N,2,2,"option",11),t.qZA()}if(2&L){const d=t.oxw(2);t.xp6(1),t.Q6J("value",d.data.currLvl),t.xp6(1),t.Oqu(d.data.currLvl),t.xp6(1),t.Q6J("ngForOf",d.currRange)}}function H(L,w){if(1&L&&(t.TgZ(0,"td",5),t.YNc(1,U,2,1,"button",6),t.YNc(2,M,4,3,"select",7),t.qZA()),2&L){const d=t.oxw();t.xp6(1),t.Q6J("ngIf",!d.currOffset),t.xp6(1),t.Q6J("ngIf",d.currOffset)}}const b=function(L){return["element-icon",L]};function B(L,w){if(1&L&&(t.TgZ(0,"td")(1,"div",0),t._uU(2),t.qZA()()),2&L){const d=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(2,b,"i"+d.data.inherits)),t.xp6(1),t.Oqu(d.data.inherits)}}function Q(L,w){if(1&L&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&L){const d=w.$implicit;t.xp6(1),t.Oqu(d)}}const q=function(L){return["resists",L]};function T(L,w){if(1&L&&(t.TgZ(0,"td",0),t.ALo(1,"reslvlToColor"),t._uU(2),t.ALo(3,"reslvlToString"),t.qZA()),2&L){const d=w.$implicit;t.Q6J("ngClass",t.VKq(6,q,t.lcZ(1,2,d))),t.xp6(2),t.hij(" ",t.lcZ(3,4,d)," ")}}function P(L,w){if(1&L&&(t.ynx(0),t.YNc(1,T,4,8,"td",12),t.BQk()),2&L){const d=t.oxw();t.xp6(1),t.Q6J("ngForOf",d.data.resists)}}function x(L,w){if(1&L&&(t.TgZ(0,"td",0),t.ALo(1,"reslvlToColor"),t._uU(2),t.ALo(3,"reslvlToStringJa"),t.qZA()),2&L){const d=w.$implicit;t.Q6J("ngClass",t.VKq(6,q,t.lcZ(1,2,d))),t.xp6(2),t.hij(" ",t.lcZ(3,4,d)," ")}}function Z(L,w){if(1&L&&(t.ynx(0),t.YNc(1,x,4,8,"td",12),t.BQk()),2&L){const d=t.oxw();t.xp6(1),t.Q6J("ngForOf",d.data.resists)}}function R(L,w){if(1&L&&(t.TgZ(0,"td",0),t._uU(1),t.ALo(2,"affinityToString"),t.qZA()),2&L){const d=w.$implicit;t.Q6J("ngClass","affinity"+d),t.xp6(1),t.hij(" ",t.lcZ(2,2,d)," ")}}function j(L,w){if(1&L&&(t.ynx(0),t.YNc(1,R,3,4,"td",12),t.BQk()),2&L){const d=t.oxw();t.xp6(1),t.Q6J("ngForOf",d.data.affinities)}}function K(L,w){if(1&L&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&L){const d=t.oxw();t.xp6(1),t.Oqu(d.data.drop)}}function G(L,w){if(1&L&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&L){const d=t.oxw();t.xp6(1),t.Oqu(d.data.area)}}const $=function(L){return["align",L]},V=function(L,w){return{special:L,exception:w}};function z(L,w){if(1&L){const d=t.EpF();t.TgZ(0,"tr",7),t.NdJ("currLvl",function(O){const W=t.CHM(d).$implicit,et=t.oxw();return t.KtG(et.lvlChanged.emit({demon:W.name,currLvl:O}))}),t.qZA()}if(2&L){const d=w.$implicit,k=t.oxw();t.Q6J("isEnemy",k.isEnemy)("hasCurrLvl",k.hasCurrLvl)("hasInherits",!!k.inheritOrder)("hasAffinity",!!k.affinityHeaders)("langEn",k.langEn)("ngClass",t.WLB(7,V,"special"===d.fusion,"special"!==d.fusion&&"normal"!==d.fusion))("data",d)}}let X=(()=>{class L{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.langEn=!0,this.currLvl=new t.vpe,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(100-this.currOffset))}emitValidLvl(d){const k=parseInt(d.target.value,10);this.data.currLvl!==k&&0<k&&k<100&&Number.isInteger(k)&&(this.data.currLvl=k,this.currLvl.emit(k))}static#t=this.\u0275fac=function(k){return new(k||L)};static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",langEn:"langEn",data:"data"},outputs:{currLvl:"currLvl"},attrs:y,decls:14,vars:15,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click",4,"ngIf"],[3,"change",4,"ngIf"],[3,"click"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"]],template:function(k,O){1&k&&(t.TgZ(0,"td",0),t._uU(1),t.qZA(),t.YNc(2,F,3,3,"td",1),t.YNc(3,H,3,2,"td",2),t.TgZ(4,"td")(5,"a",3),t._uU(6),t.qZA()(),t.YNc(7,B,3,4,"td",1),t.YNc(8,Q,2,1,"td",4),t.YNc(9,P,2,1,"ng-container",1),t.YNc(10,Z,2,1,"ng-container",1),t.YNc(11,j,2,1,"ng-container",1),t.YNc(12,K,2,1,"td",1),t.YNc(13,G,2,1,"td",1)),2&k&&(t.Q6J("ngClass",t.VKq(13,$,O.data.align?O.data.align:"none")),t.xp6(1),t.Oqu(O.data.race),t.xp6(1),t.Q6J("ngIf",!O.hasCurrLvl),t.xp6(1),t.Q6J("ngIf",O.hasCurrLvl),t.xp6(2),t.Q6J("routerLink",O.data.name),t.xp6(1),t.Oqu(O.data.name),t.xp6(1),t.Q6J("ngIf",O.hasInherits),t.xp6(1),t.Q6J("ngForOf",O.data.stats),t.xp6(1),t.Q6J("ngIf",O.langEn),t.xp6(1),t.Q6J("ngIf",!O.langEn),t.xp6(1),t.Q6J("ngIf",O.hasAffinity),t.xp6(1),t.Q6J("ngIf",O.isEnemy),t.xp6(1),t.Q6J("ngIf",O.isEnemy))},dependencies:[c.mk,c.sg,c.O5,s.rH,i.YN,i.Kr,n.JZ,n.Yk,n.LG,n.Vk,n.Lu],encapsulation:2,changeDetection:0})}return L})(),tt=(()=>{class L extends m{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.langEn=!0,this.lvlChanged=new t.vpe}static#t=this.\u0275fac=function(){let d;return function(O){return(d||(d=t.n5z(L)))(O||L)}}();static#e=this.\u0275cmp=t.Xpm({type:L,selectors:[["app-smt-demon-list"]],inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",langEn:"langEn"},outputs:{lvlChanged:"lvlChanged"},features:[t._Bn([I.L]),t.qOj],decls:8,vars:18,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","langEn","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","langEn","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","langEn","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","langEn","ngClass","data","currLvl"]],template:function(k,O){1&k&&(t.TgZ(0,"table",0)(1,"tfoot",1,2),t.NdJ("sortFunIndexChanged",function(W){return O.sortFunIndex=W}),t.qZA()(),t.TgZ(3,"table",3),t._UZ(4,"tfoot",4,5),t.TgZ(6,"tbody"),t.YNc(7,z,1,10,"tr",6),t.qZA()()),2&k&&(t.xp6(1),t.Q6J("isPersona",O.isPersona)("isEnemy",O.isEnemy)("langEn",O.langEn)("hasInherits",!!O.inheritOrder)("statHeaders",O.statHeaders)("resistHeaders",O.resistHeaders)("affinityHeaders",O.affinityHeaders)("sortFunIndex",O.sortFunIndex),t.xp6(3),t.Udp("visibility","collapse"),t.Q6J("isPersona",O.isPersona)("isEnemy",O.isEnemy)("langEn",O.langEn)("hasInherits",!!O.inheritOrder)("statHeaders",O.statHeaders)("resistHeaders",O.resistHeaders)("affinityHeaders",O.affinityHeaders),t.xp6(3),t.Q6J("ngForOf",O.rowData))},dependencies:[c.mk,c.sg,o.v,r.X,S,X],encapsulation:2,changeDetection:0})}return L})()},3934:(J,A,g)=>{g.d(A,{J:()=>q,W:()=>Q});var t=g(3247),I=g(9217),e=g(4769);let m=(()=>{class T extends I.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(x,Z)=>1e4*(this.elemOrder[x.element]-this.elemOrder[Z.element])+x.rank-Z.rank,(x,Z)=>1e4*(this.elemOrder[x.element]-this.elemOrder[Z.element])+x.rank-Z.rank,(x,Z)=>x.name.localeCompare(Z.name),(x,Z)=>Z.cost-x.cost,(x,Z)=>x.rank-Z.rank],this.inheritOrder&&this.sortFuns.push((x,Z)=>this.inheritOrder[x.inherit]-this.inheritOrder[Z.inherit])}getSortFun(x){return this.sortFuns[x]}static#t=this.\u0275fac=function(){let x;return function(R){return(x||(x=e.n5z(T)))(R||T)}}();static#e=this.\u0275dir=e.lG2({type:T,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[e.qOj]})}return T})();var c=g(6814),s=g(4487),i=g(2173),n=g(3808),o=g(5068);const r=["class","app-skill-list-header"];function l(T,P){if(1&T&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&T){const x=e.oxw();e.xp6(1),e.Oqu(x.langEn?"Target":"\u7bc4\u56f2")}}function f(T,P){if(1&T){const x=e.EpF();e.TgZ(0,"th",0),e.NdJ("click",function(){e.CHM(x);const R=e.oxw();return e.KtG(R.nextSortFunIndex(4))}),e.TgZ(1,"span"),e._uU(2),e.qZA()()}if(2&T){const x=e.oxw();e.Q6J("ngClass",x.sortDirClass(4)),e.xp6(2),e.Oqu(x.langEn?"Rank":"\u30e9\u30f3\u30af")}}function _(T,P){if(1&T){const x=e.EpF();e.TgZ(0,"th",0),e.NdJ("click",function(){e.CHM(x);const R=e.oxw();return e.KtG(R.nextSortFunIndex(5))}),e.TgZ(1,"span"),e._uU(2,"Inherit"),e.qZA()()}if(2&T){const x=e.oxw();e.Q6J("ngClass",x.sortDirClass(5))}}function D(T,P){if(1&T&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&T){const x=e.oxw();e.xp6(1),e.Oqu(x.transferTitle)}}let C=(()=>{class T extends I.j{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.langEn=!0,this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}static#t=this.\u0275fac=function(){let x;return function(R){return(x||(x=e.n5z(T)))(R||T)}}();static#e=this.\u0275cmp=e.Xpm({type:T,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",langEn:"langEn",transferTitle:"transferTitle"},features:[e.qOj],attrs:r,decls:23,vars:16,consts:[[1,"sortable",3,"ngClass","click"],[1,"cost"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(Z,R){1&Z&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"th",0),e.NdJ("click",function(){return R.nextSortFunIndex(1)}),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"th",0),e.NdJ("click",function(){return R.nextSortFunIndex(2)}),e.TgZ(10,"span"),e._uU(11),e.qZA()(),e.TgZ(12,"th",0),e.NdJ("click",function(){return R.nextSortFunIndex(3)}),e.TgZ(13,"span",1),e._uU(14),e.qZA()(),e.TgZ(15,"th"),e._uU(16),e.qZA(),e.YNc(17,l,2,1,"th",2),e.YNc(18,f,3,2,"th",3),e.YNc(19,_,3,1,"th",3),e.TgZ(20,"th"),e._uU(21),e.qZA(),e.YNc(22,D,2,1,"th",2),e.qZA()),2&Z&&(e.xp6(1),e.uIk("colSpan",R.skillHeaderLen),e.xp6(1),e.Oqu(R.langEn?"Skill":"\u30b9\u30ad\u30eb"),e.xp6(1),e.uIk("colSpan",R.acquireHeaderLen),e.xp6(1),e.Oqu(R.langEn?"How To Acquire":"\u60aa\u9b54"),e.xp6(2),e.Q6J("ngClass",R.sortDirClass(1)),e.xp6(2),e.Oqu(R.langEn?"Elem":"\u5c5e\u6027"),e.xp6(1),e.Q6J("ngClass",R.sortDirClass(2)),e.xp6(2),e.Oqu(R.langEn?"Name":"\u30b9\u30ad\u30eb\u540d"),e.xp6(1),e.Q6J("ngClass",R.sortDirClass(3)),e.xp6(2),e.Oqu(R.langEn?"Cost":"\u6d88\u8cbb"),e.xp6(2),e.Oqu(R.langEn?"Effect":"\u8aac\u660e"),e.xp6(1),e.Q6J("ngIf",R.hasTarget),e.xp6(1),e.Q6J("ngIf",R.hasRank),e.xp6(1),e.Q6J("ngIf",R.hasInherit),e.xp6(2),e.Oqu(R.langEn?"Learned By":"\u7fd2\u5f97"),e.xp6(1),e.Q6J("ngIf",R.transferTitle))},dependencies:[c.mk,c.O5],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding:.6em}span.cost[_ngcontent-%COMP%]{padding:1.2em}"],changeDetection:0})}return T})();const v=["class","app-smt-skill-list-row"];function E(T,P){if(1&T&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&T){const x=e.oxw();e.xp6(1),e.HOy(" ",x.data.damage," ",x.data.element," damage",x.data.hits?" x"+x.data.hits:"","",x.data.effect?", "+x.data.effect:""," ")}}function a(T,P){if(1&T&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&T){const x=e.oxw();e.xp6(1),e.Oqu(x.data.effect)}}function u(T,P){if(1&T&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()()),2&T){const x=e.oxw();e.xp6(1),e.Gre("target-icon a",x.data.target||"Self",""),e.xp6(1),e.Oqu(x.data.target||"Self")}}function h(T,P){if(1&T&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&T){const x=e.oxw();e.Udp("color",99!==x.data.rank?null:"transparent"),e.xp6(1),e.Oqu(x.data.rank)}}function p(T,P){if(1&T&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()()),2&T){const x=e.oxw();e.xp6(1),e.Gre("element-icon ",x.data.inherit.toLowerCase(),""),e.xp6(1),e.Oqu(x.data.inherit)}}function S(T,P){if(1&T&&(e.TgZ(0,"td",3),e._uU(1),e.ALo(2,"skillLevelToString"),e.qZA()),2&T){const x=e.oxw();e.Q6J("ngClass","lvl"+x.data.level.toString()),e.xp6(1),e.Oqu(e.lcZ(2,2,x.data.level))}}function y(T,P){if(1&T&&(e.TgZ(0,"li")(1,"a",6),e._uU(2),e.qZA(),e._uU(3),e.ALo(4,"skillLevelToShortString"),e.qZA()),2&T){const x=P.$implicit,Z=e.oxw(2);e.xp6(1),e.hYB("routerLink","../",Z.isPersona?"personas":"demons","/",x.demon,""),e.xp6(1),e.Oqu(x.demon),e.xp6(1),e.hij(" ",e.lcZ(4,4,x.level)," ")}}function F(T,P){if(1&T&&(e.TgZ(0,"td")(1,"ul",4),e.YNc(2,y,5,6,"li",5),e.qZA()()),2&T){const x=e.oxw();e.xp6(2),e.Q6J("ngForOf",x.data.learnedBy)}}function U(T,P){if(1&T&&(e.ynx(0),e.TgZ(1,"a",6),e._uU(2),e.qZA(),e._uU(3),e.ALo(4,"skillLevelToShortString"),e.BQk()),2&T){const x=e.oxw().$implicit,Z=e.oxw(2);e.xp6(1),e.hYB("routerLink","../",Z.hasSkillCards?"personas":"demons","/",x.demon,""),e.xp6(1),e.Oqu(x.demon),e.xp6(1),e.hij(" ",e.lcZ(4,4,x.level)," ")}}function N(T,P){if(1&T&&(e.ynx(0),e._uU(1),e.BQk()),2&T){const x=e.oxw().$implicit;e.xp6(1),e.hij("",x.demon," ")}}function M(T,P){if(1&T&&(e.TgZ(0,"li"),e.YNc(1,U,5,6,"ng-container",0),e.YNc(2,N,2,1,"ng-container",0),e.qZA()),2&T){const x=P.$implicit;e.xp6(1),e.Q6J("ngIf",x.level>=-99),e.xp6(1),e.Q6J("ngIf",x.level<-99)}}function H(T,P){if(1&T&&(e.TgZ(0,"td")(1,"ul",4),e.YNc(2,M,3,2,"li",5),e.qZA()()),2&T){const x=e.oxw();e.xp6(2),e.Q6J("ngForOf",x.data.transfer)}}const b=function(T,P){return{extra:T,unique:P}};function B(T,P){if(1&T&&e._UZ(0,"tr",7),2&T){const x=P.$implicit,Z=e.oxw();e.Q6J("hasInherit",!!Z.inheritOrder)("hasTarget",Z.hasTarget)("hasRank",Z.hasRank)("isPersona",Z.isPersona)("hasTransferTitle",!!Z.transferTitle)("hasSkillCards",Z.transferTitle.includes("Card"))("data",x)("ngClass",e.WLB(8,b,x.rank>70&&x.rank<90,x.rank>90))}}let Q=(()=>{class T{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1,this.hasSkillCards=!1,this.skillLvl=-1}static#t=this.\u0275fac=function(Z){return new(Z||T)};static#e=this.\u0275cmp=e.Xpm({type:T,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",hasSkillCards:"hasSkillCards",skillLvl:"skillLvl",data:"data"},attrs:v,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(Z,R){1&Z&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"skillCostToString"),e.qZA(),e.YNc(8,E,2,4,"td",0),e.YNc(9,a,2,1,"td",0),e.YNc(10,u,3,4,"td",0),e.YNc(11,h,2,3,"td",1),e.YNc(12,p,3,4,"td",0),e.YNc(13,S,3,4,"td",2),e.YNc(14,F,3,1,"td",0),e.YNc(15,H,3,1,"td",0)),2&Z&&(e.xp6(1),e.Gre("element-icon ",R.data.element,""),e.xp6(1),e.Oqu(R.data.element),e.xp6(2),e.Oqu(R.data.name),e.xp6(1),e.Udp("color",R.data.cost?null:"transparent"),e.xp6(1),e.Oqu(e.lcZ(7,16,R.data.cost)),e.xp6(2),e.Q6J("ngIf",R.data.damage),e.xp6(1),e.Q6J("ngIf",!R.data.damage),e.xp6(1),e.Q6J("ngIf",R.hasTarget),e.xp6(1),e.Q6J("ngIf",R.hasRank),e.xp6(1),e.Q6J("ngIf",R.data.inherit),e.xp6(1),e.Q6J("ngIf",R.hasLvl),e.xp6(1),e.Q6J("ngIf",R.hasLearned),e.xp6(1),e.Q6J("ngIf",R.hasTransferTitle))},dependencies:[c.mk,c.sg,c.O5,s.rH,i.tq,i.NL,i.b0],encapsulation:2,changeDetection:0})}return T})(),q=(()=>{class T extends m{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.langEn=!0,this.transferTitle=""}static#t=this.\u0275fac=function(){let x;return function(R){return(x||(x=e.n5z(T)))(R||T)}}();static#e=this.\u0275cmp=e.Xpm({type:T,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",langEn:"langEn",transferTitle:"transferTitle"},features:[e._Bn([t.L]),e.qOj],decls:8,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","langEn","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","langEn","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass"]],template:function(Z,R){1&Z&&(e.TgZ(0,"table",0)(1,"tfoot",1,2),e.NdJ("sortFunIndexChanged",function(K){return R.sortFunIndex=K}),e.qZA()(),e.TgZ(3,"table",3),e._UZ(4,"tfoot",4,5),e.TgZ(6,"tbody"),e.YNc(7,B,1,11,"tr",6),e.qZA()()),2&Z&&(e.xp6(1),e.Q6J("hasInherit",!!R.inheritOrder)("hasTarget",R.hasTarget)("hasRank",R.hasRank)("langEn",R.langEn)("transferTitle",R.transferTitle)("sortFunIndex",R.sortFunIndex),e.xp6(3),e.Udp("visibility","collapse"),e.Q6J("hasInherit",!!R.inheritOrder)("hasTarget",R.hasTarget)("hasRank",R.hasRank)("langEn",R.langEn)("transferTitle",R.transferTitle),e.xp6(3),e.Q6J("ngForOf",R.rowData))},dependencies:[c.mk,c.sg,n.v,o.X,C,Q],encapsulation:2,changeDetection:0})}return T})()},7548:(J,A,g)=>{g.d(A,{Bz:()=>p,I7:()=>_,Ir:()=>C,Q0:()=>E,RD:()=>S,YP:()=>v,nL:()=>y,oA:()=>u,uC:()=>a,vE:()=>D,wC:()=>h});var t=g(4769),I=g(3837),e=g(1139),m=g(923),c=g(7862),s=g(2416),i=g(9015),n=g(6361),o=g(7293),r=g(6213),l=g(6071),f=g(6748);const _=new t.OlP("compendium.config"),D=new t.OlP("fusion.data.service"),C=new t.OlP("fusion.trio.service"),v=new I.N([e.ne,e.e7,e.Co],[m.Eh,m.s0,m.wy]),E=new I.N([e.ne,e.e7,e.Co,i.c],[m.Eh,m.s0,m.wy]),a=new I.N([c.Mg,c.Ii,c.Aq,c.z1],[s.Q]),u=new I.N([c.Mg,c.Ii,c.Aq,i.f],[s.Q]),h=new I.N([e.ne,n.e],[]),p=new I.N([c.Mg,o.Ln],[]),S=new r.e([l.jm,l.UN,l.e7],[]),y=new r.e([f.Mg,f.Ln,f._K],[]);!function F(M){const H={};for(let b=0;b<M.length;b++)H[M[b]]=b}(["wk","no","rs","st","nu","rp","dr","ab"])},1032:(J,A,g)=>{g.d(A,{l:()=>e});var t=g(5592),I=g(4769);let e=(()=>{class m{constructor(s,i,n){this.title2=s,this.changeDetectorRef=i,this.fusionDataService2=n,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(o,r)=>o.name.localeCompare(r.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}onCompendiumUpdated(s){this.changeDetectorRef.markForCheck(),this.demons=t.y.create(i=>{let n=s.allDemons;this.showAllies||(n=n.filter(o=>o.isEnemy)),this.showEnemies||(n=n.filter(o=>!o.isEnemy)),n.sort(this.defaultSortFun),i.next(n.slice(0,this.initListLen)),setTimeout(()=>i.next(n))})}static#t=this.\u0275fac=function(i){I.$Z()};static#e=this.\u0275dir=I.lG2({type:m})}return m})()},4330:(J,A,g)=>{g.d(A,{e:()=>e});var t=g(5592),I=g(4769);let e=(()=>{class m{constructor(s,i,n){this.title2=s,this.changeDetectorRef2=i,this.fusionDataService2=n,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(o,r)=>o.name.localeCompare(r.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}onCompendiumUpdated(s){this.changeDetectorRef2.markForCheck(),this.skills=t.y.create(i=>{const n=s.allSkills;n.sort(this.defaultSortFun),i.next(n.slice(0,this.initListLen)),setTimeout(()=>i.next(n))})}static#t=this.\u0275fac=function(i){I.$Z()};static#e=this.\u0275dir=I.lG2({type:m})}return m})()},7293:(J,A,g)=>{function t(m,c,s){const{race:i,lvl:n}=c.getDemon(m),o=[];if(c.getSpecialNameEntries(m).length)return o;const r=c.getResultDemonLvls(i),l=r.indexOf(n);if(l<0)return o;const _=2*(n-1),D=r[l+1]?2*(r[l+1]-1):200,C=r[l+2]?2*(r[l+2]-1):200,v=c.getIngredientDemonLvls(i).filter(a=>a!==n),E=D/2+1;for(const a of v)E<a&&E+a<C&&o.push({name1:c.reverseLookupDemon(i,E),name2:c.reverseLookupDemon(i,a)});for(let a=0;a<v.length;a++){const u=v[a];for(let h=a+1;h<v.length;h++){const p=v[h];_<=u+p&&u+p<D&&o.push({name1:c.reverseLookupDemon(i,u),name2:c.reverseLookupDemon(i,p)})}}return o}function I(m,c,s){const i=[],{race:n,lvl:o}=c.getDemon(m),r=s.getElemModifiers(n),l=c.getResultDemonLvls(n),f=l.indexOf(o),_=Object.keys(r).map(D=>parseInt(D,10));if(_.sort(),-1===f)return i;for(const D of _)if(0<=f+D&&f+D<l.length){const C=l[f+D];i.push({price:C,names1:[c.reverseLookupDemon(n,C)],lvl1:C,names2:r[D],lvl2:C})}return i}function e(m,c,s){const i=[],{race:n,lvl:o}=c.getDemon(m),r=s.getElemModifiers(n),l=c.getResultDemonLvls(n).concat([99]),f=l.indexOf(o),_=[o];if(-1===f)return i;f>1&&r[2]&&i.push({price:0,names1:[],lvl1:l[f-2],names2:r[2],lvl2:l[f-1]-1}),f>0&&r[1]&&i.push({price:0,names1:[],lvl1:l[f-1],names2:r[1],lvl2:o-1}),r[-1]&&i.push({price:0,names1:[],lvl1:o+1,names2:r[-1],lvl2:l[f+1]}),f<l.length-2&&r[-1]&&(_.push(l[f+1]),i.push({price:0,names1:[c.reverseLookupDemon(n,l[f+1])],lvl1:l[f+1],names2:r[-1],lvl2:l[f+2]})),f<l.length-2&&r[-2]&&i.push({price:0,names2:r[-2],lvl1:l[f+1]+1,lvl2:l[f+2],names1:[]}),f<l.length-3&&r[-2]&&(_.push(l[f+2]),i.push({price:0,names1:[c.reverseLookupDemon(n,l[f+2])],lvl1:l[f+2],names2:r[-2],lvl2:l[f+3]}),i.push({price:0,names1:[c.reverseLookupDemon(n,l[f+1])],lvl1:l[f+2]+1,names2:r[-2],lvl2:l[f+3]}));for(const D of i.filter(C=>0===C.names1.length))for(const C of c.getIngredientDemonLvls(n).filter(v=>!_.includes(v)))C<=D.lvl2&&D.names1.push(c.reverseLookupDemon(n,C));for(const D of i)D.price=Math.pow(3*D.lvl1+7,2)+2e3;return i.filter(D=>D.names1.length>0)}g.d(A,{Ln:()=>t,N8:()=>e,k0:()=>I})},6361:(J,A,g)=>{function t(I,e,m){const c=[],{race:s,lvl:i}=e.getDemon(I),o=e.getIngredientDemonLvls(s).filter(l=>l!==i),r=e.getResultDemonLvls(s).filter(l=>l!==i).map(l=>2*l);for(const l of o){let _=r.reduce((C,v)=>i+l+2>=v?C+1:C,-1);r[_]/2===l&&(_-=1);const D=r[_]/2;D&&c.push({name1:e.reverseLookupDemon(s,l),name2:e.reverseLookupDemon(s,D)})}return c}g.d(A,{e:()=>t})},6748:(J,A,g)=>{g.d(A,{D4:()=>i,Ln:()=>c,Mg:()=>m,_K:()=>s});var t=g(6071),I=g(7862);function e(n,o){if(!o.length)return-1;let r=0;for(const l of o)n>l&&r++;return r===o.length?-1:r}function m(n,o,r){const{normalChart:l,tripleChart:f,raceOrder:_}=r,{race:D,lvl:C}=o.getDemon(n),v=3*f.lvlModifier,E=[],a=o.getResultDemonLvls(D),u=a.indexOf(C);if(-1===u)return E;const h={};for(const[F,U]of Object.entries(f.getRaceFissions(D))){h[F]||(h[F]=[]);for(const N of U)h[N]||(h[N]=[]),F!==N&&h[F].push(N),h[N].push(F)}const p={};for(const[F,U]of Object.entries(h)){p[F]={};for(const N of U)for(const[M,H]of Object.entries(l.getRaceFissions(N)))p[F][M]||(p[F][M]=[]),p[F][M]=p[F][M].concat(H);for(const N of U)F!==N&&(p[F][N]||(p[F][N]=[]),p[F][N].push(N))}const S=a[u-1]?3*a[u-1]-v:0,y=3*C-v;for(const[F,U]of Object.entries(p))for(const N of o.getIngredientDemonLvls(F)){const M=o.reverseLookupDemon(F,N),H=o.getDemon(M).currLvl;if(M!==n){const b=S-N,B=y-N;for(const[Q,q]of Object.entries(U))for(const T of o.getIngredientDemonLvls(Q)){const P=o.reverseLookupDemon(Q,T),x=o.getDemon(P).currLvl;if(P!==M&&P!==n&&(H>x||H===x&&_[F]<_[Q])){const Z=b-T,R=B-T;for(const j of q)for(const K of o.getIngredientDemonLvls(j)){const G=o.reverseLookupDemon(j,K),$=o.getDemon(G).currLvl;G!==P&&G!==M&&G!==n&&(Q!==j||T<K)&&(H>$||H===$&&_[F]<_[j])&&Z<K&&K<=R&&E.push({name1:M,name2:P,name3:G})}}}}}return E}function c(n,o,r){const{tripleChart:f}=r,{race:_,lvl:D}=o.getDemon(n),C=f.lvlModifier,v=[],E=o.getIngredientDemonLvls(_).filter(u=>u!==D),a=o.getResultDemonLvls(_);for(let u=0;u<E.length;u++){const h=E[u],p=a.filter(y=>y!==h),S=o.reverseLookupDemon(_,h);for(let y=u+1;y<E.length;y++){const F=E[y],U=p.filter(M=>M!==F),N=o.reverseLookupDemon(_,F);for(let M=y+1;M<E.length;M++){const H=E[M],b=U.filter(T=>T!==H),B=o.reverseLookupDemon(_,H),q=e((h+F+H)/3+C,b);-1!==q&&b[q]===D&&v.push({name1:S,name2:N,name3:B})}}}return v}function s(n,o,r){const{race:l,lvl:f}=o.getDemon(n),_=o.getResultDemonLvls(l).slice();if(0<_.indexOf(f)){const D=o.reverseLookupDemon(l,_[_.indexOf(f)-1]);return[].concat((0,t.jm)(D,o,r).filter(v=>v.name3===n),(0,t.UN)(D,o,r).filter(v=>v.name3===n)).map(v=>({name1:v.name1,name2:v.name2,name3:D}))}return[]}function i(n,o,r){return(0,I.Aq)(n,o,r.tripleChart).map(l=>{const[f,_]=l.name2.split(" x ");return{name1:l.name1,name2:f,name3:_}})}},6071:(J,A,g)=>{g.d(A,{Hd:()=>s,UN:()=>m,e7:()=>c,jm:()=>e});var t=g(1139);function I(i,n){if(!n.length)return-1;let o=0;for(const r of n)i>r&&o++;return o===n.length?-1:o}function e(i,n,o){const{normalChart:r,tripleChart:l,raceOrder:f}=o,{race:_,lvl:D,currLvl:C}=n.getDemon(i),v=3*l.lvlModifier,E=[],a=l.getRaceFusions(_),u={};for(const[h,p]of Object.entries(a)){u[h]||(u[h]={}),_!==h&&(u[h][h]=p);for(const[S,y]of Object.entries(r.getRaceFissions(h))){u[S]||(u[S]={});for(const F of y)u[S][F]=p}}for(const[h,p]of Object.entries(u))for(const S of n.getIngredientDemonLvls(h)){const y=n.reverseLookupDemon(h,S),F=n.getDemon(y).currLvl;if(y!==i&&(C>F||C===F&&f[_]<f[h]))for(const[U,N]of Object.entries(p)){const M=n.getResultDemonLvls(N),H=M.map(b=>3*b-v-D-S);for(const b of n.getIngredientDemonLvls(U)){const B=n.reverseLookupDemon(U,b),Q=n.getDemon(B).currLvl;if(B!==y&&B!==i&&(h!==U||S<b)&&(C>Q||C===Q&&f[_]<f[U]))if(n.isElementDemon(N))E.push({name1:y,name2:B,name3:N});else{const q=I(b,H);if(-1!==q){const T=n.reverseLookupDemon(N,M[q]);T!==B&&T!==y&&T!==i?E.push({name1:y,name2:B,name3:T}):q+1<M.length&&E.push({name1:y,name2:B,name3:n.reverseLookupDemon(N,M[q+1])})}}}}}return E}function m(i,n,o){const{normalChart:r,tripleChart:l,raceOrder:f}=o,{race:_,lvl:D,currLvl:C}=n.getDemon(i),v=3*l.lvlModifier,E=[],a={};a[_]=Object.assign({},l.getRaceFusions(_)),delete a[_][_];for(const[u,h]of Object.entries(r.getRaceFusions(_)))a[u]=l.getRaceFusions(h);for(const[u,h]of Object.entries(a))for(const p of n.getIngredientDemonLvls(u)){const S=n.reverseLookupDemon(u,p),y=n.getDemon(S).currLvl;if(S!==i)for(const[F,U]of Object.entries(h)){const N=n.getResultDemonLvls(U),M=N.map(H=>3*H-v-D-p);for(const H of n.getIngredientDemonLvls(F)){const b=n.reverseLookupDemon(F,H),B=n.getDemon(b).currLvl;if(b!==S&&b!==i&&(B>C||B===C&&f[F]<f[_])&&(B>y||B===y&&f[F]<f[u]))if(n.isElementDemon(U))E.push({name1:S,name2:b,name3:U});else{const Q=I(H,M);if(-1!==Q){const q=n.reverseLookupDemon(U,N[Q]);q!==b&&q!==S&&q!==i?E.push({name1:S,name2:b,name3:q}):Q+1<N.length&&E.push({name1:S,name2:b,name3:n.reverseLookupDemon(U,N[Q+1])})}}}}}return E}function c(i,n,o){const{tripleChart:l}=o,{race:f,lvl:_}=n.getDemon(i),D=l.getRaceFusions(f)[f],C=[];if(!D)return C;const v=n.getIngredientDemonLvls(f).filter(u=>u!==_),E=n.getResultDemonLvls(f).filter(u=>u!==_),a=l.lvlModifier;for(let u=0;u<v.length;u++){const h=v[u],p=E.filter(y=>y!==h),S=n.reverseLookupDemon(f,h);for(let y=u+1;y<v.length;y++){const F=v[y],U=p.filter(M=>M!==F),N=n.reverseLookupDemon(f,F);if(n.isElementDemon(D))C.push({name1:S,name2:N,name3:D});else{const H=I((h+_+F)/3+a,U);-1!==H&&C.push({name1:S,name2:N,name3:n.reverseLookupDemon(f,U[H])})}}}return C}function s(i,n,o){return(0,t.Co)(i,n,o.tripleChart).map(r=>{const[l,f]=r.name1.split(" x ");return{name1:l,name2:f,name3:r.name2}})}},2416:(J,A,g)=>{function t(I,e,m){const c=e.getSpecialNamePairs(I).slice();for(const[s,i]of Object.entries(m.getRaceFissions(I))){const n=e.getIngredientDemonLvls(s);for(let o=0;o<n.length;o++)for(let r=o+1;r<n.length;r++)c.push({name1:e.reverseLookupDemon(s,n[o]),name2:e.reverseLookupDemon(s,n[r])})}return c}g.d(A,{Q:()=>t})},923:(J,A,g)=>{function t(m,c,s){const i=[];for(const[n,o]of Object.entries(s.getElemFusions(m))){const r=c.getResultDemonLvls(n).filter(_=>_<100),l=o<0?r.slice(-1*o):r.slice(0,-1*o),f=o<0?r.slice(0,o):r.slice(o);for(let _=0;_<l.length;_++)i.push({name1:c.reverseLookupDemon(n,l[_]),name2:c.reverseLookupDemon(n,f[_])})}return i}function I(m,c,s){const i=[],n=s.getElemFusions(m);for(const{race:o,lvl:r,name:l}of c.specialDemons){const f=n[o];if(f){const _=(v,E)=>r>E?v+1:v,D=c.getResultDemonLvls(o).filter(v=>v<100),C=f+D.reduce(_,0);0<C&&C<D.length&&i.push({name1:l,name2:c.reverseLookupDemon(o,D[C])})}}return i}function e(m,c,s){return[]}g.d(A,{Eh:()=>t,s0:()=>I,wy:()=>e})},7862:(J,A,g)=>{function t(c,s,i){const n=[],o=s.getSpecialNamePairs(c);if(o.length>0)if(o[0].name1===o[0].name2)c=o[0].name1;else if(c!==o[0].name1)return o;const{race:r,lvl:l}=s.getDemon(c),f=s.getResultDemonLvls(r),_=f.indexOf(l);if(-1===_)return[];const D=f[_-1]?2*(f[_-1]-i.lvlModifier):0,C=f[_+1]?2*(l-i.lvlModifier):200;for(const[v,E]of Object.entries(i.getRaceFissions(r)))for(const a of s.getIngredientDemonLvls(v)){const u=D-a,h=C-a;for(const p of E)for(const S of s.getIngredientDemonLvls(p))u<S&&S<=h&&(v!=p||a<S)&&n.push({name1:s.reverseLookupDemon(v,a),name2:s.reverseLookupDemon(p,S)})}return n}function I(c,s,i){const n=[],{race:o,lvl:r}=s.getDemon(c),l=Object.keys(i.getRaceFissions(o)).find(a=>"2"===a.charAt(0));if(!l)return n;const f=l.substring(1),_=s.getResultDemonLvls(f),D=_.indexOf(r);if(-1===D)return n;const C=_[D-2]||0,v=_[D-1]||0,E=_[D+1]?2*r:200;for(const[a,u]of Object.entries(i.getRaceFissions(f)))for(const h of s.getIngredientDemonLvls(a).filter(p=>p!==r))for(const p of u)for(const S of s.getIngredientDemonLvls(p).filter(y=>y!==r)){const F=h+S+i.lvlModifier;2*(h===v||S===v?C:v)<F&&F<=E&&n.push({name1:s.reverseLookupDemon(a,h),name2:s.reverseLookupDemon(p,S)})}return n}function e(c,s,i){const{race:n,lvl:o}=s.getDemon(c),r=[],l=i.getElemModifiers(n),f=Object.keys(l).map(C=>parseInt(C,10));if(s.getSpecialNamePairs(c).length||!f.length)return r;const _=[0,0].concat(s.getResultDemonLvls(n),[100,100]),D=[];for(const C of s.getIngredientDemonLvls(n)){const v=_.slice();v.indexOf(C)<0&&(v.push(C),v.sort((a,u)=>a-u));const E=v.indexOf(C);for(const a of f)v[E+a]===o&&D.push({ingName:s.reverseLookupDemon(n,C),elementOffset:a})}for(const C of D)for(const v of l[C.elementOffset])r.push({name1:C.ingName,name2:v});return r}function m(c,s,i){const n=[],o=s.getSpecialNamePairs(c);if(0===o.length||c!==o[0].name1)return n;const r=s.getDemon(o[0].name2).race;for(const[l,f]of Object.entries(i.getRaceFissions(r)))for(const _ of s.getIngredientDemonLvls(l))for(const D of f)for(const C of s.getIngredientDemonLvls(D))n.push({name1:s.reverseLookupDemon(l,_),name2:s.reverseLookupDemon(D,C)});return n}g.d(A,{Aq:()=>e,Ii:()=>I,Mg:()=>t,z1:()=>m})},1139:(J,A,g)=>{function t(c,s){if(!s.length)return-1;let i=0;for(const n of s)c>n&&i++;return i===s.length?i-1:i}function I(c,s,i){const n=[],{race:o,lvl:r}=s.getDemon(c);for(const[l,f]of Object.entries(i.getRaceFusions(o))){const _=s.getResultDemonLvls(f),D=_.map(C=>2*(C-i.lvlModifier)-r);for(const C of s.getIngredientDemonLvls(l)){const v=t(C,D);if(-1!==v&&100!==_[v]&&(o!=l||r!=C)){const E=s.reverseLookupDemon(f,_[v]);n.push(E===c&&v+1<_.length?{name1:s.reverseLookupDemon(l,C),name2:s.reverseLookupDemon(f,_[v+1])}:{name1:s.reverseLookupDemon(l,C),name2:E})}}}for(const l of s.reverseLookupSpecial(c)){const f=s.getSpecialNameEntries(l);if(2===f.length){const _=f[0]===c?f[1]:f[0];for(const D of n)D.name1===_&&(D.name2=l)}}return n}function e(c,s,i){const{race:n,lvl:o}=s.getDemon(c),r=i.getRaceFusions(n)[n],l=s.getIngredientDemonLvls(n).filter(_=>_!==o),f=[];if(r&&s.isElementDemon(r))for(const _ of l)f.push({name1:s.reverseLookupDemon(n,_),name2:r});return f}function m(c,s,i){const n=[],{race:o,lvl:r}=s.getDemon(c),l=[0,0].concat(s.getResultDemonLvls(o),[100,100]);l.indexOf(r)<0&&(l.push(r),l.sort((C,v)=>C-v));const f=l.indexOf(r),_=i.getElemModifiers(o),D=Object.keys(_).map(C=>parseInt(C,10));for(const C of D){const v=l[f+C];if(0!==v&&100!==v){const E=s.reverseLookupDemon(o,v);for(const a of _[C])n.push({name1:a,name2:E})}}return n}g.d(A,{Co:()=>m,e7:()=>e,ne:()=>I})},9015:(J,A,g)=>{function t(e,m,c){const{race:s,lvl:i}=m.getDemon(e),n=[0,0].concat(m.getResultDemonLvls(s),[100,100]),o=n.indexOf(i),r=[];if(c.getLightDark(s)<0||-1===o)return r;const l=n[o-2],f=n[o-1],_=n[o+1],D=0!==l?m.reverseLookupDemon(s,l):"",C=0!==f?m.reverseLookupDemon(s,f):"",v=100!==_?m.reverseLookupDemon(s,_):"";for(const E of c.races)if(c.getLightDark(E)<0)for(const a of m.getIngredientDemonLvls(E)){const u=m.reverseLookupDemon(E,a);l>=a&&(l+a)%7==0&&r.push({name1:D,name2:u}),f>=a&&(f+a)%7!=0&&(f+a)%5==0&&r.push({name1:C,name2:u}),_>=a&&(_+a)%7!=0&&(_+a)%5!=0&&(_+a)%3==0&&r.push({name1:v,name2:u})}return r.filter(E=>""!==E.name1)}function I(e,m,c){const{race:s,lvl:i}=m.getDemon(e),n=[0,0].concat(m.getResultDemonLvls(s),[100,100]),o=n.indexOf(i),r=[];if(c.getLightDark(s)<0||-1===o)return r;const l=n[o+2],f=n[o+1],_=n[o-1],D=100!==l?m.reverseLookupDemon(s,l):"",C=100!==f?m.reverseLookupDemon(s,f):"",v=0!==_?m.reverseLookupDemon(s,_):"";for(const E of c.races)if(c.getLightDark(E)<0){const a=m.getIngredientDemonLvls(E);for(let u=0;u<a.length;u++){const h=a[u],p=m.reverseLookupDemon(E,h);i>=h?(i+h)%7==0?r.push({name1:p,name2:D}):(i+h)%5==0?r.push({name1:p,name2:C}):(i+h)%3==0?r.push({name1:p,name2:v}):(i+h)%2==0&&u>0&&r.push({name1:p,name2:m.reverseLookupDemon(E,a[u-1])}):(i+h)%2==0&&u<a.length-1?r.push({name1:p,name2:m.reverseLookupDemon(E,a[u+1])}):(i+h)%2==1&&r.push({name1:p,name2:"Slime"})}}return r.filter(E=>""!==E.name2)}g.d(A,{c:()=>I,f:()=>t})},6404:(J,A,g)=>{function t(s,i){const n=i.getDemon(s);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:s}}function I(s,i){const n=i.getDemon(s.name1),o=i.getDemon(s.name2);return{price:n.price+o.price,race1:n.race,lvl1:n.currLvl,name1:s.name1,race2:o.race,lvl2:o.currLvl,name2:s.name2}}function e(s,i){const n=i.getDemon(s.name1),o=i.getDemon(s.name2);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:s.name1,race2:o.race,lvl2:o.lvl,name2:s.name2}}function m(s,i){const n=i.getDemon(s.name1),o=i.getDemon(s.name2),r=i.getDemon(s.name3);return{price:n.price+o.price+r.price,d1:n,d2:o,d3:r}}function c(s,i){const n=i.getDemon(s.name1),o=i.getDemon(s.name2),r=i.getDemon(s.name3);return{price:n.price+o.price,d1:n,d2:o,d3:r}}g.d(A,{Aw:()=>m,D0:()=>e,Fk:()=>t,S6:()=>I,YL:()=>c})},3837:(J,A,g)=>{g.d(A,{N:()=>t});class t{constructor(e,m){this.fuseNonelem=e,this.fuseElement=m}getFusions(e,m,c){let s=[];const i=m.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const n of i)s=s.concat(n(e,m,c));return s}}},6262:(J,A,g)=>{g.d(A,{g:()=>t});let t=(()=>{class I{static#t=this.LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"];static#e=this.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"];static loadFusionTableJson(m,c){const s={},i=1===c[0].length;for(const n of m)s[n]={};for(let n=0;n<c.length;n++){const o=m[n],r=c[n],l=i?0:m.length-r.length;for(let f=0;f<r.length;f++){const _=m[f+l],D=r[f];"-"!==D&&(s[o][_]=D,s[_][o]=D)}}return s}static loadFissionTableJson(m,c,s){const i={},n=1===s[0].length;for(let o=0;o<s.length;o++){const r=m[o],l=s[o],f=n?0:m.length-l.length;for(let _=0;_<l.length;_++){const D=m[_+f],C=l[_];"-"!==C&&(i[C]||(i[C]={}),i[C][r]||(i[C][r]=[]),i[C][r].push(D))}}return i}static loadElementTableJson(m,c,s){const i={};for(const n of c)i[n]={};for(let n=0;n<s.length;n++){const o=m[n],r=s[n];for(let l=0;l<r.length;l++){const _=s[n][l];_&&(i[c[l]][o]=_)}}return i}static mergeFusionTables(m,c){const s={};for(const[i,n]of Object.entries(m))s[i]=Object.assign({},n);for(const[i,n]of Object.entries(c))s[i]=Object.assign(s[i]||{},n);return s}static mergeFissionTables(m,c){const s={};for(const[i,n]of Object.entries(m)){s[i]={};for(const[o,r]of Object.entries(n))s[i][o]=r.slice()}for(const[i,n]of Object.entries(c)){s[i]=s[i]||{};for(const[o,r]of Object.entries(n))s[i][o]=r.concat(s[i][o]||[])}return s}getLightDark(m){return-1!==I.LIGHT_RACES.indexOf(m)?1:-1!==I.DARK_RACES.indexOf(m)?-1:0}getRaceFissions(m){return this.fissionChart[m]||{}}getRaceFusions(m){return this.fusionChart[m]||{}}getRaceFusion(m,c){return this.getRaceFusions(m)[c]||""}getElemModifiers(m){const c={};for(const[s,i]of Object.entries(this.elementChart)){const n=i[m];n&&(c[n]||(c[n]=[]),c[n].push(s))}return c}getElemFusions(m){return this.elementChart[m]||{}}isConvertedRace(m){return!1}}return I})()},6213:(J,A,g)=>{g.d(A,{e:()=>t});class t{constructor(e,m){this.fuseNonelem=e,this.fuseElement=m}getFusions(e,m,c){let s=[];const i=m.isElementDemon(e)?this.fuseElement:this.fuseNonelem;for(const n of i)s=s.concat(n(e,m,c));return s}}},2173:(J,A,g)=>{g.d(A,{DY:()=>E,IQ:()=>v,JZ:()=>i,LG:()=>l,Lu:()=>C,NL:()=>m,Vk:()=>_,Yk:()=>n,b0:()=>c,tq:()=>e});var t=g(4769);const I=["Auto"," HP","% HP"," MP","% MP"," SP","% SP"," Ex","% Ex"," MG","% MG","0x0B","0x0C","0x0D","0x0E"," CC","Extra","Varies","Fusion","Gauge","Sabbath"];let e=(()=>{class a{transform(h){const p=I[h>>10],S=1023&h;return 0===S?p:S.toString()+p}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"skillCostToString",type:a,pure:!0})}return a})(),m=(()=>{class a{transform(h){return h<2?"Innate":h<120?h.toString():String.fromCharCode(Math.floor(h/100)+32)+String.fromCharCode(h%100+32)}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"skillLevelToString",type:a,pure:!0})}return a})(),c=(()=>{class a{transform(h){return h<2?"":h<120?`(${h.toString()})`:"("+String.fromCharCode(Math.floor(h/100)+32)+String.fromCharCode(h%100+32)+")"}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"skillLevelToShortString",type:a,pure:!0})}return a})();const s=["-","-9","-8","-7","-6","-5","-4","-3","-2","-1","0","+1","+2","+3","+4","+5","+6","+7","+8","+9","O"];let i=(()=>{class a{transform(h){return s[h+10]}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"affinityToString",type:a,pure:!0})}return a})(),n=(()=>{class a{transform(h){return Math.floor(h)}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"lvlToNumber",type:a,pure:!0})}return a})();const o=["??","ab","rp","nu","rs","no","wk","fr","??","ab","rp","nu"],r=[{4:"0.1",5:"\u215b",8:"0.2",10:"\xbc",15:"\u215c",20:"\xbd",25:"\u215d",28:"0.7",30:"\xbe",32:"0.8",35:"\u215e"},{40:"no"},{50:"1.2",60:"1.5",70:"1.7",80:"2.0",100:"2.5",120:"3.0"}];let l=(()=>{class a{transform(h){const p=h>>10;return p<12?o[p]:r[p-12][1023&h]}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"reslvlToString",type:a,pure:!0})}return a})();const f=["??","\u5438","\u53cd","\u7121","\u8010","\u30fc","\u5f31","??","??","\u5438","\u53cd","\u7121","\u8010","\u30fc","\u5f31"];let _=(()=>{class a{transform(h){return f[h>>10]}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"reslvlToStringJa",type:a,pure:!0})}return a})();const D=["??","ab","rp","nu","rs","no","wk","fr","??","ab","rp","nu","rs","no","wk","fr"];let C=(()=>{class a{transform(h){return D[h>>10]}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"reslvlToColor",type:a,pure:!0})}return a})(),v=(()=>{class a{transform(h){return 2.5*(1023&h)+"%"}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"resmodToString",type:a,pure:!0})}return a})(),E=(()=>{class a{transform(h){return 0===h?0:h<100?50:100===h?100:h<800?500:1e3}static#t=this.\u0275fac=function(p){return new(p||a)};static#e=this.\u0275pipe=t.Yjl({name:"roundInheritPercent",type:a,pure:!0})}return a})()},5068:(J,A,g)=>{g.d(A,{X:()=>I});var t=g(4769);let I=(()=>{class e{constructor(c,s){this.elementRef=c,this.renderer=s,this.borderWidth=2}get colWidths(){const c=[],s=this.elementRef.nativeElement.children;if(s.length)for(const i of s[s.length-1].children)c.push(i.getBoundingClientRect().width-2*this.borderWidth);return c}set colWidths(c){const s=this.elementRef.nativeElement.children;if(s.length){const i=s[s.length-1].children;for(let n=0;n<i.length;n++)this.renderer.setStyle(i[n],"width",`${c[n]}px`)}}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(t.SBq),t.Y36(t.Qsj))};static#e=this.\u0275dir=t.lG2({type:e,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}})}return e})()},3247:(J,A,g)=>{g.d(A,{L:()=>e});var t=g(5619),I=g(4769);let e=(()=>{class m{constructor(s){this._edges$=new t.X({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=s?s.edges:new t.X({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(s){this._edges$.next(s)}static#t=this.\u0275fac=function(i){return new(i||m)(I.LFG(m,12))};static#e=this.\u0275prov=I.Yz7({token:m,factory:m.\u0275fac})}return m})()},3808:(J,A,g)=>{g.d(A,{v:()=>e});var t=g(4769),I=g(3247);let e=(()=>{class m{constructor(s,i,n){this.elementRef=s,this.renderer=i,this.edgesService=n,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(s=>{this.edges=s}))}ngOnDestroy(){for(const s of this.subscriptions)s.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(s){this._edges=s,this.sZIndex=s.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${s.top}px`),this.nextEdges()}static#t=this.\u0275fac=function(i){return new(i||m)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(I.L))};static#e=this.\u0275dir=t.lG2({type:m,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(i,n){2&i&&(t.Udp("z-index",n.sZIndex),t.ekj("position-sticky",n.cPositionSticky))},inputs:{edges:"edges"}})}return m})()},9217:(J,A,g)=>{g.d(A,{D:()=>i,j:()=>s});var t=g(4769),I=g(5068),e=g(3808);const m=["stickyHeader"],c=["hiddenHeader"];let s=(()=>{class n{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new t.vpe}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(r){this.sortAsc=r>0,this.sortAscIndex=(this.sortAsc?1:-1)*r}sortDirClass(r){return this.sortAscIndex!==r?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(r){this.sortAsc=this.sortAscIndex!==r||!this.sortAsc,this.sortAscIndex=r,this.sortFunIndexChanged.emit(this.sortFunIndex)}static#t=this.\u0275fac=function(l){return new(l||n)};static#e=this.\u0275dir=t.lG2({type:n,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}})}return n})(),i=(()=>{class n{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(r){this._rowData=r,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(r){this._sortFunIndex=r,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((r,l)=>this.getSortFun(-1*this.sortFunIndex)(l,r)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}static#t=this.\u0275fac=function(l){return new(l||n)};static#e=this.\u0275dir=t.lG2({type:n,viewQuery:function(l,f){if(1&l&&(t.Gf(e.v,5),t.Gf(m,5,I.X),t.Gf(c,5,I.X)),2&l){let _;t.iGM(_=t.CRH())&&(f.stickyTable=_.first),t.iGM(_=t.CRH())&&(f.stickyHeader=_.first),t.iGM(_=t.CRH())&&(f.hiddenHeader=_.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}})}return n})()}}]);