"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[913],{4537:(P,C,a)=>{a.d(C,{P:()=>F});var n=a(4769),T=a(6814),s=a(4487),t=a(2173);function b(h,o){1&h&&(n.TgZ(0,"tr")(1,"th"),n._uU(2,"Price"),n.qZA(),n.TgZ(3,"th"),n._uU(4,"Race"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Lvl"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"Name"),n.qZA()())}function A(h,o){1&h&&(n.TgZ(0,"tr")(1,"th"),n._uU(2,"\u4fa1\u683c"),n.qZA(),n.TgZ(3,"th"),n._uU(4,"\u7a2e\u65cf"),n.qZA(),n.TgZ(5,"th"),n._uU(6,"Lvl"),n.qZA(),n.TgZ(7,"th"),n._uU(8,"\u60aa\u9b54\u540d"),n.qZA()())}function m(h,o){if(1&h&&(n.TgZ(0,"tr")(1,"td"),n._uU(2),n.qZA(),n.TgZ(3,"td"),n._uU(4),n.qZA(),n.TgZ(5,"td"),n._uU(6),n.ALo(7,"lvlToNumber"),n.qZA(),n.TgZ(8,"td")(9,"a",4),n._uU(10),n.qZA()()()),2&h){const c=o.$implicit,r=n.oxw();n.xp6(2),n.Oqu(c.price),n.xp6(2),n.Oqu(c.race1),n.xp6(2),n.Oqu(n.lcZ(7,6,c.lvl1)),n.xp6(3),n.hYB("routerLink","",r.baseUrl,"/",c.name1,""),n.xp6(1),n.Oqu(c.name1)}}let F=(()=>{var h;class o{constructor(){this.title="Special Fusion Ingredients",this.baseUrl="../..",this.isFusion=!1,this.langEn=!0}}return(h=o).\u0275fac=function(r){return new(r||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-fusion-entry-table"]],inputs:{title:"title",baseUrl:"baseUrl",rowData:"rowData",isFusion:"isFusion",langEn:"langEn"},decls:9,vars:5,consts:[[3,"ngClass"],["colspan","4",1,"title"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(r,f){1&r&&(n.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),n._uU(4),n.qZA()(),n.YNc(5,b,9,0,"tr",2),n.YNc(6,A,9,0,"tr",2),n.qZA(),n.TgZ(7,"tbody"),n.YNc(8,m,11,8,"tr",3),n.qZA()()),2&r&&(n.Q6J("ngClass",f.isFusion?"list-table":"entry-table"),n.xp6(4),n.Oqu(f.title),n.xp6(1),n.Q6J("ngIf",f.langEn),n.xp6(1),n.Q6J("ngIf",!f.langEn),n.xp6(2),n.Q6J("ngForOf",f.rowData))},dependencies:[T.mk,T.sg,T.O5,s.rH,t.Yk],encapsulation:2,changeDetection:0}),o})()},5057:(P,C,a)=>{a.d(C,{tV:()=>O});var n=a(3247),T=a(9217),s=a(7548),t=a(4769),b=a(4487),A=a(2173),m=a(6814),F=a(3808),h=a(5068);const o=["class","app-fusion-pair-table-row"],c=["class","app-fusion-pair-table-header"],r=function(i){return["sortable",i]};function f(i,E){if(1&i&&(t.TgZ(0,"tr")(1,"td",8),t._uU(2),t.qZA()()),2&i){const p=t.oxw();t.xp6(2),t.Oqu(p.langEn?"No fusions found!":"\u5408\u4f53\u306a\u3057")}}function _(i,E){if(1&i&&t._UZ(0,"tr",9),2&i){const p=E.$implicit,u=t.oxw();t.Q6J("ngClass",p.notes)("data",p)("leftBaseUrl",u.leftBaseUrl)("rightBaseUrl",u.rightBaseUrl)}}function g(i,E){if(1&i){const p=t.EpF();t.TgZ(0,"tr")(1,"th",10),t.NdJ("click",function(){t.CHM(p);const e=t.oxw();return t.KtG(e.currRow=e.currRow+e.incrRow)}),t._uU(2),t.qZA()()}if(2&i){const p=t.oxw();t.xp6(1),t.Udp("height",2,"em"),t.xp6(1),t.AsE(" Show next ",p.incrRow," out of ",p.rowData.length-p.currRow," ")}}let D=(()=>{var i;class E{}return(i=E).\u0275fac=function(u){return new(u||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["tr",8,"app-fusion-pair-table-row"]],inputs:{data:"data",leftBaseUrl:"leftBaseUrl",rightBaseUrl:"rightBaseUrl"},attrs:o,decls:18,vars:15,consts:[[1,"price"],[3,"routerLink"]],template:function(u,e){1&u&&(t.TgZ(0,"td",0),t._uU(1),t.qZA(),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"lvlToNumber"),t.qZA(),t.TgZ(7,"td")(8,"a",1),t._uU(9),t.qZA()(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"lvlToNumber"),t.qZA(),t.TgZ(15,"td")(16,"a",1),t._uU(17),t.qZA()()),2&u&&(t.xp6(1),t.Oqu(e.data.price),t.xp6(2),t.Oqu(e.data.race1),t.xp6(2),t.Oqu(t.lcZ(6,11,e.data.lvl1)),t.xp6(3),t.hYB("routerLink","",e.leftBaseUrl,"/",e.data.name1,""),t.xp6(1),t.Oqu(e.data.name1),t.xp6(2),t.Oqu(e.data.race2),t.xp6(2),t.Oqu(t.lcZ(14,13,e.data.lvl2)),t.xp6(3),t.hYB("routerLink","",e.rightBaseUrl,"/",e.data.name2,""),t.xp6(1),t.Oqu(e.data.name2))},dependencies:[b.rH,A.Yk],encapsulation:2,changeDetection:0}),E})(),U=(()=>{var i;class E extends T.j{constructor(){super(...arguments),this.langEn=!0}}return(i=E).\u0275fac=function(){let p;return function(e){return(p||(p=t.n5z(i)))(e||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["tfoot",8,"app-fusion-pair-table-header"]],inputs:{title:"title",leftHeader:"leftHeader",rightHeader:"rightHeader",langEn:"langEn"},features:[t.qOj],attrs:c,decls:23,vars:35,consts:[["colspan","7",1,"title"],["rowSpan","2",3,"ngClass","click"],["colspan","3"],[3,"ngClass","click"]],template:function(u,e){1&u&&(t.TgZ(0,"tr")(1,"th",0),t._uU(2),t.qZA()(),t.TgZ(3,"tr")(4,"th",1),t.NdJ("click",function(){return e.nextSortFunIndex(1)}),t._uU(5),t.qZA(),t.TgZ(6,"th",2),t._uU(7),t.qZA(),t.TgZ(8,"th",2),t._uU(9),t.qZA()(),t.TgZ(10,"tr")(11,"th",3),t.NdJ("click",function(){return e.nextSortFunIndex(2)}),t._uU(12),t.qZA(),t.TgZ(13,"th",3),t.NdJ("click",function(){return e.nextSortFunIndex(3)}),t._uU(14,"Lvl"),t.qZA(),t.TgZ(15,"th",3),t.NdJ("click",function(){return e.nextSortFunIndex(4)}),t._uU(16),t.qZA(),t.TgZ(17,"th",3),t.NdJ("click",function(){return e.nextSortFunIndex(5)}),t._uU(18),t.qZA(),t.TgZ(19,"th",3),t.NdJ("click",function(){return e.nextSortFunIndex(6)}),t._uU(20,"Lvl"),t.qZA(),t.TgZ(21,"th",3),t.NdJ("click",function(){return e.nextSortFunIndex(7)}),t._uU(22),t.qZA()()),2&u&&(t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Udp("width",10,"%"),t.Q6J("ngClass",t.VKq(21,r,e.sortDirClass(1))),t.xp6(1),t.Oqu(e.langEn?"Price":"\u4fa1\u683c"),t.xp6(1),t.Udp("width",45,"%"),t.xp6(1),t.Oqu(e.leftHeader),t.xp6(1),t.Udp("width",45,"%"),t.xp6(1),t.Oqu(e.rightHeader),t.xp6(2),t.Q6J("ngClass",t.VKq(23,r,e.sortDirClass(2))),t.xp6(1),t.Oqu(e.langEn?"Race":"\u7a2e\u65cf"),t.xp6(1),t.Q6J("ngClass",t.VKq(25,r,e.sortDirClass(3))),t.xp6(2),t.Q6J("ngClass",t.VKq(27,r,e.sortDirClass(4))),t.xp6(1),t.Oqu(e.langEn?"Name":"\u60aa\u9b54\u540d"),t.xp6(1),t.Q6J("ngClass",t.VKq(29,r,e.sortDirClass(5))),t.xp6(1),t.Oqu(e.langEn?"Race":"\u7a2e\u65cf"),t.xp6(1),t.Q6J("ngClass",t.VKq(31,r,e.sortDirClass(6))),t.xp6(2),t.Q6J("ngClass",t.VKq(33,r,e.sortDirClass(7))),t.xp6(1),t.Oqu(e.langEn?"Name":"\u60aa\u9b54\u540d"))},dependencies:[m.mk],encapsulation:2,changeDetection:0}),E})(),O=(()=>{var i;class E extends T.D{constructor(u){super(),this.config=u,this._title="Ingredient 1 x Ingredient 2 = Result",this.leftHeader="Ingredient 1",this.rightHeader="Ingredient 2",this.leftBaseUrl="../..",this.rightBaseUrl="../..",this.initRow=500,this.incrRow=500,this.langEn=!0,this.sortFuns=[],this.currRow=this.initRow;const{raceOrder:e}=u;this.sortFuns=[(l,d)=>l.price-d.price,(l,d)=>l.price-d.price,(l,d)=>100*(e[l.race1]-e[d.race1])+d.lvl1-l.lvl1,(l,d)=>l.lvl1-d.lvl1,(l,d)=>l.name1.localeCompare(d.name1),(l,d)=>100*(e[l.race2]-e[d.race2])+d.lvl2-l.lvl2,(l,d)=>l.lvl2-d.lvl2,(l,d)=>l.name2.localeCompare(d.name2)]}set title(u){this._title=u,this.currRow=this.initRow}get title(){return this._title}getSortFun(u){return this.sortFuns[u]}}return(i=E).\u0275fac=function(u){return new(u||i)(t.Y36(s.I7))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fusion-pair-table"]],inputs:{leftHeader:"leftHeader",rightHeader:"rightHeader",leftBaseUrl:"leftBaseUrl",rightBaseUrl:"rightBaseUrl",initRow:"initRow",incrRow:"incrRow",langEn:"langEn",title:"title"},features:[t._Bn([n.L]),t.qOj],decls:11,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-fusion-pair-table-header",3,"langEn","title","leftHeader","rightHeader","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-fusion-pair-table-header",3,"langEn","title","leftHeader","rightHeader"],["hiddenHeader",""],[4,"ngIf"],["class","app-fusion-pair-table-row",3,"ngClass","data","leftBaseUrl","rightBaseUrl",4,"ngFor","ngForOf"],["colspan","7"],[1,"app-fusion-pair-table-row",3,"ngClass","data","leftBaseUrl","rightBaseUrl"],["colspan","7",1,"nav",3,"click"]],template:function(u,e){1&u&&(t.TgZ(0,"div")(1,"table",0)(2,"tfoot",1,2),t.NdJ("sortFunIndexChanged",function(d){return e.sortFunIndex=d}),t.qZA()(),t.TgZ(4,"table",3),t._UZ(5,"tfoot",4,5),t.TgZ(7,"tbody"),t.YNc(8,f,3,1,"tr",6),t.YNc(9,_,1,4,"tr",7),t.YNc(10,g,3,4,"tr",6),t.qZA()()()),2&u&&(t.xp6(2),t.Q6J("langEn",e.langEn)("title",e.title)("leftHeader",e.leftHeader)("rightHeader",e.rightHeader)("sortFunIndex",e.sortFunIndex),t.xp6(3),t.Udp("visibility","collapse"),t.Q6J("langEn",e.langEn)("title",e.title)("leftHeader",e.leftHeader)("rightHeader",e.rightHeader),t.xp6(3),t.Q6J("ngIf",!e.rowData.length),t.xp6(1),t.Q6J("ngForOf",e.rowData.slice(0,e.currRow)),t.xp6(1),t.Q6J("ngIf",e.currRow<e.rowData.length))},dependencies:[m.mk,m.sg,m.O5,F.v,h.X,U,D],encapsulation:2,changeDetection:0}),E})()},5657:(P,C,a)=>{a.d(C,{t:()=>c});var n=a(7548),T=a(6404),s=a(4769),t=a(8711),b=a(6814),A=a(4537),m=a(5057);function F(r,f){if(1&r&&(s.TgZ(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),s._uU(4),s.qZA()()(),s.TgZ(5,"tbody")(6,"tr")(7,"td"),s._uU(8),s.qZA()()()()),2&r){const _=s.oxw();s.xp6(4),s.Oqu(_.langEn?"Special Fusion Condition":"\u5408\u4f53\u6761\u4ef6"),s.xp6(4),s.Oqu(_.fusionPrereq)}}function h(r,f){if(1&r&&s._UZ(0,"app-fusion-entry-table",5),2&r){const _=s.oxw();s.Q6J("langEn",_.langEn)("title",(_.langEn?"Special Fusion Ingredients for ":"\u7279\u6b8a\u5408\u4f53 ")+_.currentDemon)("rowData",_.fusionEntries)("isFusion",!0)}}function o(r,f){if(1&r&&s._UZ(0,"app-fusion-pair-table",6),2&r){const _=s.oxw();s.Q6J("langEn",_.langEn)("title",(_.langEn?"Ingredient 1 x Ingredient 2 = ":"\u60aa\u9b541 x \u60aa\u9b542 = ")+_.currentDemon)("leftHeader",_.langEn?"Ingredient 1":"\u60aa\u9b541")("rightHeader",_.langEn?"Ingredient 2":"\u60aa\u9b542")("rowData",_.fusionPairs)}}let c=(()=>{var r;class f{constructor(g,D,U){this.currentDemonService=g,this.changeDetectorRef=D,this.fusionDataService=U,this.fusionPrereq="",this.langEn=!0,this.fusionEntries=[],this.fusionPairs=[],this.subscriptions=[],this.toFusionEntry=O=>i=>(0,T.Fk)(i,this.compendium),this.toFusionPair=O=>i=>(0,T.S6)(i,this.compendium)}ngOnInit(){this.calculator=this.fusionDataService.fissionCalculator,this.subscriptions.push(this.fusionDataService.compendium.subscribe(g=>{this.compendium=g,this.getForwardFusions()})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(g=>{this.fusionChart=g,this.getForwardFusions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(g=>{this.currentDemon=g,this.getForwardFusions()}))}ngOnDestroy(){for(const g of this.subscriptions)g.unsubscribe()}getForwardFusions(){this.compendium&&this.fusionChart&&this.currentDemon&&(this.changeDetectorRef.markForCheck(),this.langEn=this.currentDemon.charCodeAt(0)<256,this.fusionPrereq=this.compendium.getDemon(this.currentDemon).prereq,this.fusionEntries=this.compendium.getSpecialNameEntries(this.currentDemon).map(this.toFusionEntry(this.currentDemon)),this.fusionPairs=this.calculator.getFusions(this.currentDemon,this.compendium,this.fusionChart).map(this.toFusionPair(this.currentDemon)))}}return(r=f).\u0275fac=function(g){return new(g||r)(s.Y36(t.s),s.Y36(s.sBO),s.Y36(n.vE))},r.\u0275cmp=s.Xpm({type:r,selectors:[["app-smt-fission-table"]],decls:3,vars:3,consts:[["class","list-table",4,"ngIf"],[3,"langEn","title","rowData","isFusion",4,"ngIf"],[3,"langEn","title","leftHeader","rightHeader","rowData",4,"ngIf"],[1,"list-table"],[1,"title"],[3,"langEn","title","rowData","isFusion"],[3,"langEn","title","leftHeader","rightHeader","rowData"]],template:function(g,D){1&g&&(s.YNc(0,F,9,2,"table",0),s.YNc(1,h,1,4,"app-fusion-entry-table",1),s.YNc(2,o,1,5,"app-fusion-pair-table",2)),2&g&&(s.Q6J("ngIf",D.fusionPrereq),s.xp6(1),s.Q6J("ngIf",D.fusionEntries.length),s.xp6(1),s.Q6J("ngIf",D.fusionPairs.length||!D.fusionPrereq&&!D.fusionEntries.length))},dependencies:[b.O5,A.P,m.tV],encapsulation:2,changeDetection:0}),f})()},4689:(P,C,a)=>{a.d(C,{$:()=>A});var n=a(7548),T=a(6404),s=a(4769),t=a(8711),b=a(5057);let A=(()=>{var m;class F{constructor(o,c,r){this.currentDemonService=o,this.changeDetectorRef=c,this.fusionDataService=r,this.langEn=!0,this.fusionPairs=[],this.subscriptions=[],this.toFusionPair=f=>_=>(0,T.D0)(_,this.compendium)}ngOnInit(){this.calculator=this.fusionDataService.fusionCalculator,this.subscriptions.push(this.fusionDataService.compendium.subscribe(o=>{this.compendium=o,this.getForwardFusions()})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(o=>{this.fusionChart=o,this.getForwardFusions()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(o=>{this.currentDemon=o,this.getForwardFusions()}))}ngOnDestroy(){for(const o of this.subscriptions)o.unsubscribe()}getForwardFusions(){this.compendium&&this.fusionChart&&this.currentDemon&&(this.changeDetectorRef.markForCheck(),this.langEn=this.currentDemon.charCodeAt(0)<256,this.fusionPairs=this.calculator.getFusions(this.currentDemon,this.compendium,this.fusionChart).map(this.toFusionPair(this.currentDemon)))}}return(m=F).\u0275fac=function(o){return new(o||m)(s.Y36(t.s),s.Y36(s.sBO),s.Y36(n.vE))},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-smt-fusion-table"]],decls:1,vars:5,consts:[[3,"langEn","title","leftHeader","rightHeader","rowData"]],template:function(o,c){1&o&&s._UZ(0,"app-fusion-pair-table",0),2&o&&s.Q6J("langEn",c.langEn)("title",c.currentDemon+(c.langEn?" x Ingredient 2 = Result":" x \u60aa\u9b542 = \u60aa\u9b54R"))("leftHeader",c.langEn?"Ingredient 2":"\u60aa\u9b542")("rightHeader",c.langEn?"Result":"\u60aa\u9b54R")("rowData",c.fusionPairs)},dependencies:[b.tV],encapsulation:2,changeDetection:0}),F})()}}]);