"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[3261],{9436:(G,D,c)=>{c.d(D,{d:()=>h});var s=c(1090),e=c(2598),C=c(177),_=c(4207);function k(a,l){if(1&a&&(e.j41(0,"th",4),e.EFF(1,"Inheritable Skills"),e.k0s()),2&a){const m=e.XpG();e.BMQ("colspan",m.inheritHeaders.length)}}function T(a,l){if(1&a&&(e.j41(0,"th",4),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&a){const m=e.XpG();e.BMQ("colspan",m.inheritHeaders.length),e.R7$(1),e.SpI(" ",e.i5U(2,2,m.msgs.SkillAffinities,m.lang)," ")}}function F(a,l){if(1&a&&(e.qex(0),e.EFF(1),e.bVm()),2&a){const m=e.XpG().$implicit;e.R7$(1),e.JRh(m)}}function $(a,l){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.k0s()),2&a){const m=e.XpG().$implicit;e.ZvI("element-icon ",m,""),e.R7$(1),e.JRh(m)}}function y(a,l){if(1&a&&(e.j41(0,"th"),e.DNE(1,F,2,1,"ng-container",3),e.DNE(2,$,2,4,"div",5),e.k0s()),2&a){const m=e.XpG();e.xc7("width",100/m.inheritHeaders.length,"%"),e.R7$(1),e.Y8G("ngIf",!m.hasIcons),e.R7$(1),e.Y8G("ngIf",m.hasIcons)}}function E(a,l){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&a){const m=l.$implicit;e.xc7("color",m?null:"transparent"),e.R7$(1),e.SpI(" ",m?"yes":"no"," ")}}function r(a,l){if(1&a&&(e.j41(0,"tr"),e.DNE(1,E,2,3,"td",6),e.k0s()),2&a){const m=e.XpG();e.R7$(1),e.Y8G("ngForOf",m.inherits)}}function g(a,l){if(1&a&&(e.j41(0,"td"),e.nI1(1,"roundInheritPercent"),e.EFF(2),e.k0s()),2&a){const m=l.$implicit;e.ZvI("affinity",e.bMT(1,4,m),""),e.R7$(2),e.SpI(" ",m,"% ")}}function f(a,l){if(1&a&&(e.j41(0,"tr"),e.DNE(1,g,3,6,"td",7),e.k0s()),2&a){const m=e.XpG();e.R7$(1),e.Y8G("ngForOf",m.inherits)}}function d(a,l){if(1&a&&(e.j41(0,"td"),e.EFF(1),e.nI1(2,"affinityToString"),e.k0s()),2&a){const m=l.$implicit;e.ZvI("affinity",m,""),e.R7$(1),e.SpI(" ",e.bMT(2,4,m)," ")}}function p(a,l){if(1&a&&(e.j41(0,"tr"),e.DNE(1,d,3,6,"td",7),e.k0s()),2&a){const m=e.XpG();e.R7$(1),e.Y8G("ngForOf",m.inherits)}}let h=(()=>{class a{constructor(){this.inheritHeaders=[],this.inherits=[],this.hasChance=!1,this.hasIcons=!0,this.hasLvls=!1,this.lang="en",this.msgs=s.dx}static{this.\u0275fac=function(b){return new(b||a)}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-demon-inherits"]],inputs:{inheritHeaders:"inheritHeaders",inherits:"inherits",hasChance:"hasChance",hasIcons:"hasIcons",hasLvls:"hasLvls",lang:"lang"},decls:11,vars:6,consts:[[1,"entry-table"],["class","title",4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"title"],[3,"class",4,"ngIf"],[3,"color",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(b,O){1&b&&(e.j41(0,"table",0)(1,"thead")(2,"tr"),e.DNE(3,k,2,1,"th",1),e.DNE(4,T,3,5,"th",1),e.k0s(),e.j41(5,"tr"),e.DNE(6,y,3,4,"th",2),e.k0s()(),e.j41(7,"tbody"),e.DNE(8,r,2,1,"tr",3),e.DNE(9,f,2,1,"tr",3),e.DNE(10,p,2,1,"tr",3),e.k0s()()),2&b&&(e.R7$(3),e.Y8G("ngIf",!O.hasLvls),e.R7$(1),e.Y8G("ngIf",O.hasLvls&&O.inheritHeaders.length),e.R7$(2),e.Y8G("ngForOf",O.inheritHeaders),e.R7$(2),e.Y8G("ngIf",!O.hasLvls&&!O.hasChance),e.R7$(1),e.Y8G("ngIf",O.hasChance),e.R7$(1),e.Y8G("ngIf",O.hasLvls))},dependencies:[C.Sq,C.bT,_.uz,_.XM,_.D8],encapsulation:2,changeDetection:0})}}return a})()},302:(G,D,c)=>{c.d(D,{F:()=>f});var s=c(1090),e=c(2598),C=c(177),_=c(2940),k=c(4207);function T(d,p){if(1&d&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&d){const h=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,h.msgs.Target,h.lang))}}function F(d,p){if(1&d&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&d){const h=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,h.msgs.Rank,h.lang))}}function $(d,p){1&d&&(e.j41(0,"th"),e.EFF(1,"Inherit"),e.k0s())}function y(d,p){1&d&&(e.j41(0,"th"),e.EFF(1,"Lvl"),e.k0s())}const E=function(d,p){return{extra:d,unique:p}};function r(d,p){if(1&d&&e.nrm(0,"tr",4),2&d){const h=p.$implicit,a=e.XpG();e.Y8G("hasTarget",a.hasTarget)("hasRank",a.hasRank)("hasInherit",a.hasInherit)("hasLearned",!1)("hasLvl",a.hasLvl)("skillLvl",h.level)("data",h)("ngClass",e.l_i(8,E,h.rank>70&&h.rank<90,h.rank>90))}}function g(d,p){if(1&d&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s()()),2&d){const h=e.XpG();e.R7$(1),e.BMQ("colspan",h.skillHeaderLen),e.R7$(1),e.SpI("No ",h.title," Found")}}let f=(()=>{class d{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.lang="en",this.skillHeaderLen=5,this.msgs=s.vf}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(h=>this.compendium.getSkill(h));for(const h of this.skills)h.level=this.skillLevels[h.name];this.elemOrder&&this.skills.sort((h,a)=>200*(h.level-a.level)+this.elemOrder[h.element]-this.elemOrder[a.element])}static{this.\u0275fac=function(a){return new(a||d)}}static{this.\u0275cmp=e.VBU({type:d,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels",lang:"lang"},features:[e.OA$],decls:26,vars:24,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(a,l){1&a&&(e.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr")(6,"th"),e.EFF(7),e.nI1(8,"translateComp"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.nI1(11,"translateComp"),e.k0s(),e.j41(12,"th"),e.EFF(13),e.nI1(14,"translateComp"),e.k0s(),e.j41(15,"th"),e.EFF(16),e.nI1(17,"translateComp"),e.k0s(),e.DNE(18,T,3,4,"th",2),e.DNE(19,F,3,4,"th",2),e.DNE(20,$,2,0,"th",2),e.DNE(21,y,2,0,"th",2),e.k0s()(),e.j41(22,"tbody"),e.DNE(23,r,1,11,"tr",3),e.DNE(24,g,3,2,"tr",2),e.nrm(25,"tr"),e.k0s()()),2&a&&(e.R7$(3),e.BMQ("colSpan",l.skillHeaderLen),e.R7$(1),e.JRh(l.title),e.R7$(3),e.JRh(e.i5U(8,12,l.msgs.Elem,l.lang)),e.R7$(3),e.JRh(e.i5U(11,15,l.msgs.Name,l.lang)),e.R7$(3),e.JRh(e.i5U(14,18,l.msgs.Cost,l.lang)),e.R7$(3),e.JRh(e.i5U(17,21,l.msgs.Effect,l.lang)),e.R7$(2),e.Y8G("ngIf",l.hasTarget),e.R7$(1),e.Y8G("ngIf",l.hasRank),e.R7$(1),e.Y8G("ngIf",l.hasInherit),e.R7$(1),e.Y8G("ngIf",l.hasLvl),e.R7$(2),e.Y8G("ngForOf",l.skills),e.R7$(1),e.Y8G("ngIf",!l.skills.length))},dependencies:[C.YU,C.Sq,C.bT,_.t,k.uz],encapsulation:2,changeDetection:0})}}return d})()},3679:(G,D,c)=>{c.d(D,{C:()=>d});var s=c(1090),e=c(2598),C=c(177),_=c(4207);function k(p,h){if(1&p&&(e.j41(0,"h2"),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(1),e.JRh(a.title)}}function T(p,h){if(1&p&&(e.j41(0,"th"),e.EFF(1),e.nI1(2,"translateComp"),e.k0s()),2&p){const a=e.XpG();e.R7$(1),e.JRh(e.i5U(2,1,a.msgs.Price,a.lang))}}function F(p,h){if(1&p&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&p){const a=h.$implicit;e.R7$(1),e.JRh(a)}}function $(p,h){1&p&&(e.j41(0,"th"),e.EFF(1,"Inherits"),e.k0s())}function y(p,h){if(1&p&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&p){const a=h.$implicit;e.R7$(1),e.JRh(a)}}function E(p,h){if(1&p&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&p){const a=e.XpG();e.R7$(1),e.JRh(a.price)}}function r(p,h){if(1&p&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&p){const a=h.$implicit;e.R7$(1),e.JRh(a)}}function g(p,h){if(1&p&&(e.j41(0,"td")(1,"div"),e.EFF(2),e.k0s()()),2&p){const a=e.XpG();e.R7$(1),e.ZvI("element-icon i",a.inherits,""),e.R7$(1),e.JRh(a.inherits)}}const f=["*"];let d=(()=>{class p{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.lang="en",this.msgs=s.Cj}static{this.\u0275fac=function(l){return new(l||p)}}static{this.\u0275cmp=e.VBU({type:p,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",lang:"lang"},ngContentSelectors:f,decls:20,vars:13,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(l,m){1&l&&(e.NAR(),e.qex(0),e.DNE(1,k,2,1,"h2",0),e.j41(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),e.EFF(6),e.nI1(7,"translateComp"),e.k0s()(),e.j41(8,"tr"),e.DNE(9,T,3,4,"th",0),e.DNE(10,F,2,1,"th",3),e.DNE(11,$,2,0,"th",0),e.DNE(12,y,2,1,"th",3),e.k0s()(),e.j41(13,"tbody")(14,"tr"),e.DNE(15,E,2,1,"td",0),e.DNE(16,r,2,1,"td",3),e.DNE(17,g,3,4,"td",0),e.SdG(18),e.k0s()()(),e.eu8(19),e.bVm()),2&l&&(e.R7$(1),e.Y8G("ngIf",m.title.includes("Lvl")),e.R7$(4),e.BMQ("colSpan",m.stats.length+m.fusionHeaders.length+(m.inherits?1:0)+(m.price?1:0)),e.R7$(1),e.SpI(" ",m.title.includes("Lvl")?e.i5U(7,10,m.msgs.Stats,m.lang):m.title," "),e.R7$(3),e.Y8G("ngIf",m.price),e.R7$(1),e.Y8G("ngForOf",m.statHeaders),e.R7$(1),e.Y8G("ngIf",m.inherits),e.R7$(1),e.Y8G("ngForOf",m.fusionHeaders),e.R7$(3),e.Y8G("ngIf",m.price),e.R7$(1),e.Y8G("ngForOf",m.stats),e.R7$(1),e.Y8G("ngIf",m.inherits))},dependencies:[C.Sq,C.bT,_.uz],encapsulation:2,changeDetection:0})}}return p})()},7924:(G,D,c)=>{c.d(D,{L:()=>E});var s=c(2598),e=c(177),C=c(8935);function _(r,g){if(1&r&&(s.j41(0,"li")(1,"a",7),s.EFF(2),s.k0s()()),2&r){const f=g.$implicit;s.R7$(1),s.Mz_("routerLink","../",f,""),s.R7$(1),s.SpI("",f," ")}}function k(r,g){if(1&r&&(s.j41(0,"li")(1,"a",7),s.EFF(2),s.k0s()()),2&r){const f=g.$implicit;s.R7$(1),s.Mz_("routerLink","../",f,""),s.R7$(1),s.SpI("",f," ")}}function T(r,g){if(1&r&&(s.j41(0,"ul",5),s.DNE(1,k,3,2,"li",4),s.k0s()),2&r){const f=s.XpG().$implicit;s.R7$(1),s.Y8G("ngForOf",f.names2)}}function F(r,g){if(1&r&&(s.j41(0,"li"),s.EFF(1),s.k0s()),2&r){const f=g.$implicit;s.R7$(1),s.SpI("",f," ")}}function $(r,g){if(1&r&&(s.j41(0,"ul",5),s.DNE(1,F,2,1,"li",4),s.k0s()),2&r){const f=s.XpG().$implicit;s.R7$(1),s.Y8G("ngForOf",f.names2)}}function y(r,g){if(1&r&&(s.j41(0,"tr")(1,"td"),s.EFF(2),s.k0s(),s.j41(3,"td")(4,"ul",5),s.DNE(5,_,3,2,"li",4),s.k0s()(),s.j41(6,"td"),s.EFF(7),s.k0s(),s.j41(8,"td"),s.EFF(9),s.k0s(),s.j41(10,"td"),s.DNE(11,T,2,1,"ul",6),s.DNE(12,$,2,1,"ul",6),s.k0s()()),2&r){const f=g.$implicit,d=s.XpG();s.R7$(2),s.JRh(f.price),s.R7$(3),s.Y8G("ngForOf",f.names1),s.R7$(2),s.JRh(f.lvl1),s.R7$(2),s.JRh(f.lvl2),s.R7$(2),s.Y8G("ngIf",d.leftHeader===d.rightHeader),s.R7$(1),s.Y8G("ngIf",d.leftHeader!==d.rightHeader)}}let E=(()=>{class r{constructor(){this.leftHeader="Ingredient",this.rightHeader="Ingredient",this.resultName="Result"}static{this.\u0275fac=function(d){return new(d||r)}}static{this.\u0275cmp=s.VBU({type:r,selectors:[["app-fusion-multi-pair-table"]],inputs:{leftHeader:"leftHeader",rightHeader:"rightHeader",resultName:"resultName",rowData:"rowData"},decls:23,vars:6,consts:[[1,"entry-table"],["colspan","5",1,"title"],["rowspan","2"],["colspan","3"],[4,"ngFor","ngForOf"],[1,"comma-list"],["class","comma-list",4,"ngIf"],[3,"routerLink"]],template:function(d,p){1&d&&(s.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),s.EFF(4),s.k0s()(),s.j41(5,"tr")(6,"th",2),s.EFF(7,"Price"),s.k0s(),s.j41(8,"th",3),s.EFF(9),s.k0s(),s.j41(10,"th"),s.EFF(11),s.k0s()(),s.j41(12,"tr")(13,"th"),s.EFF(14,"Names"),s.k0s(),s.j41(15,"th"),s.EFF(16,"MinLvl"),s.k0s(),s.j41(17,"th"),s.EFF(18,"MaxLvl"),s.k0s(),s.j41(19,"th"),s.EFF(20,"Names"),s.k0s()()(),s.j41(21,"tbody"),s.DNE(22,y,13,6,"tr",4),s.k0s()()),2&d&&(s.R7$(4),s.E5c("",p.leftHeader," 1 x ",p.rightHeader," 2 = ",p.resultName,""),s.R7$(5),s.SpI("",p.leftHeader," 1"),s.R7$(2),s.SpI("",p.rightHeader," 2"),s.R7$(11),s.Y8G("ngForOf",p.rowData))},dependencies:[e.Sq,e.bT,C.Wk],encapsulation:2,changeDetection:0})}}return r})()},1778:(G,D,c)=>{c.d(D,{S:()=>Ue});var s=c(8935),e=c(2598),C=c(6446),_=c(177),k=c(5583);const T=function(){return{title:"Demon List",link:"demons"}},F=function(n){return[n]};let $=(()=>{class n{constructor(t){this.appCssClasses=t.compConfig.appCssClasses}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(C.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p4-compendium"]],decls:1,vars:7,consts:[[3,"ngClass","mainList","hasSettings","otherLinks"]],template:function(o,i){1&o&&e.nrm(0,"app-demon-compendium",0),2&o&&e.Y8G("ngClass",i.appCssClasses)("mainList","persona")("hasSettings",!1)("otherLinks",e.eq3(5,F,e.lJ4(4,T)))},dependencies:[_.YU,k.f],styles:['.mib div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.mib div.element-icon.s1h{background-image:url(/assets/images/p1/sword1h.png)}.mib div.element-icon.sla,.mib div.element-icon.s2h{background-image:url(/assets/images/p1/sword2h.png)}.mib div.element-icon.spr{background-image:url(/assets/images/p1/spear.png)}.mib div.element-icon.axe{background-image:url(/assets/images/p1/axe.png)}.mib div.element-icon.whi{background-image:url(/assets/images/p1/whip.png)}.mib div.element-icon.thr{background-image:url(/assets/images/p1/thrown.png)}.mib div.element-icon.arr{background-image:url(/assets/images/p1/arrow.png)}.mib div.element-icon.str,.mib div.element-icon.fis{background-image:url(/assets/images/p1/strike.png)}.mib div.element-icon.hgn{background-image:url(/assets/images/p1/handgun.png)}.mib div.element-icon.agn{background-image:url(/assets/images/p1/autogun.png)}.mib div.element-icon.sgn{background-image:url(/assets/images/p1/shotgun.png)}.mib div.element-icon.gun,.mib div.element-icon.rif{background-image:url(/assets/images/p1/rifle.png)}.mib div.element-icon.hav,.mib div.element-icon.tec{background-image:url(/assets/images/p1/havoc.png)}.mib div.element-icon.rus{background-image:url(/assets/images/p1/rush.png)}.p1 div.element-icon.i14,.p2 div.element-icon.i5,.mib div.element-icon.fir{background-image:url(/assets/images/p1/fire.png)}.p1 div.element-icon.i15,.mib div.element-icon.ice{background-image:url(/assets/images/p1/ice.png)}.p2 div.element-icon.i6,.mib div.element-icon.wat{background-image:url(/assets/images/p1/water.png)}.p1 div.element-icon.i16,.p2 div.element-icon.i7,.mib div.element-icon.win{background-image:url(/assets/images/p1/wind.png)}.p1 div.element-icon.i17,.p2 div.element-icon.i8,.mib div.element-icon.ear{background-image:url(/assets/images/p1/earth.png)}.p1 div.element-icon.i18,.mib div.element-icon.ele{background-image:url(/assets/images/p1/elec.png)}.p1 div.element-icon.i19,.mib div.element-icon.nuk{background-image:url(/assets/images/p1/nuke.png)}.p1 div.element-icon.i20,.mib div.element-icon.bla{background-image:url(/assets/images/p1/blast.png)}.p1 div.element-icon.i21,.mib div.element-icon.gra{background-image:url(/assets/images/p1/gravity.png)}.p1 div.element-icon.i22,.mib div.element-icon.lig,.mib div.element-icon.exp{background-image:url(/assets/images/p1/expel.png)}.p1 div.element-icon.i23,.mib div.element-icon.mir{background-image:url(/assets/images/p1/miracle.png)}.p1 div.element-icon.i24,.mib div.element-icon.dar,.mib div.element-icon.dea{background-image:url(/assets/images/p1/death.png)}.p1 div.element-icon.i25,.mib div.element-icon.min,.mib div.element-icon.cur{background-image:url(/assets/images/p1/curse.png)}.p1 div.element-icon.i26,.mib div.element-icon.ner{background-image:url(/assets/images/p1/nerve.png)}.p1 div.element-icon.i28,.mib div.element-icon.ail,.mib div.element-icon.occ{background-image:url(/assets/images/p1/occult.png)}.p1 div.element-icon.i29,.mib div.element-icon.rec,.mib div.element-icon.ble{background-image:url(/assets/images/p1/bless.png)}.p1 div.element-icon.i30,.mib div.element-icon.sup,.mib div.element-icon.pra{background-image:url(/assets/images/p1/prayer.png)}.p1 div.element-icon.i32,.p2 div.element-icon.i17,.mib div.element-icon.spe,.mib div.element-icon.alm{background-image:url(/assets/images/p1/almighty.png)}.p1 div.target-icon{height:52px;background-size:52px;background-repeat:no-repeat;background-position:center;color:transparent}.p1 div.target-icon.a101000{background-image:url(/assets/images/p1/101000.png)}.p1 div.target-icon.a101010{background-image:url(/assets/images/p1/101010.png)}.p1 div.target-icon.a201020{background-image:url(/assets/images/p1/201020.png)}.p1 div.target-icon.a202010{background-image:url(/assets/images/p1/202010.png)}.p1 div.target-icon.a202020{background-image:url(/assets/images/p1/202020.png)}.p1 div.target-icon.a303030{background-image:url(/assets/images/p1/303030.png)}.p1 div.target-icon.a303132{background-image:url(/assets/images/p1/303132.png)}.p1 div.target-icon.a505050{background-image:url(/assets/images/p1/505050.png)}.p1 div.target-icon.a540000{background-image:url(/assets/images/p1/540000.png)}.p1 div.target-icon.a606060{background-image:url(/assets/images/p1/606060.png)}.p1 div.target-icon.a636363{background-image:url(/assets/images/p1/636363.png)}.p1 div.target-icon.a727272{background-image:url(/assets/images/p1/727272.png)}.p1 div.target-icon.a904010{background-image:url(/assets/images/p1/904010.png)}.p1 div.target-icon.a909000{background-image:url(/assets/images/p1/909000.png)}.p1 div.target-icon.a909090{background-image:url(/assets/images/p1/909090.png)}.p1 div.target-icon.a949494{background-image:url(/assets/images/p1/949494.png)}.p1-fusion-table td.sec:after,.p1 tr.fusion-color.second td.price:after{content:"\\2191"}.p1-fusion-table td.fir:after,.p1 tr.fusion-color.first td.price:after{content:"\\2192"}.p1-fusion-table td.non:after,.p1 tr.fusion-color.none td.price:after{content:"\\25cb"}.p1-fusion-table td.unf:after,.p1 tr.fusion-color.unfav td.price:after{content:"\\2193"}.p1-fusion-table td.blu,.p1 tr.fusion-color.blue td.price{color:#0ff}.p1-fusion-table td.red,.p1 tr.fusion-color.red td.price{color:tomato}.p1 td.lvl111,.p1 td.lvl115{color:red}.p1 td.lvl112,.p1 td.lvl116{color:orange}.p1 td.lvl113,.p1 td.lvl117{color:#f0f}.p1 td.lvl114,.p1 td.lvl118{color:#0ff}.p1 th.title,.p1 th.nav.active,.p1 th.nav.active a{color:#000;background-color:#a9a9a9}.p2t th.title,.p2t th.nav.active,.p2t th.nav.active a{color:#fff;background-color:#8b668b}.p2b th.title,.p2b th.nav.active,.p2b th.nav.active a{color:#fff;background-color:#b3668b}\n'],encapsulation:2,changeDetection:0})}}return n})();var y=c(9404),E=c(345),r=c(9629);let g=(()=>{class n extends y.M{constructor(t,o,i,R){super(t,i,R),this.showAllies=!o.snapshot.data.showEnemies,this.showEnemies=!this.showAllies,this.compConfig=R.compConfig,this.defaultSortFun=(v,H)=>200*(this.compConfig.raceOrder[v.race]-this.compConfig.raceOrder[H.race])+H.lvl-v.lvl,this.appName=`List of Personas - ${R.appName}`,this.statHeaders=this.compConfig.baseStats,this.resistHeaders=this.compConfig.resistElems,this.inheritOrder=this.compConfig.elemOrder,this.showEnemies&&(this.appName=`List of Demons - ${R.appName}`,this.statHeaders=this.compConfig.enemyStats)}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E.hE),e.rXU(s.nX),e.rXU(e.gRc),e.rXU(C.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"isEnemy","raceOrder","statHeaders","resistHeaders","inheritOrder","rowData"]],template:function(o,i){1&o&&(e.nrm(0,"app-smt-demon-list",0),e.nI1(1,"async")),2&o&&e.Y8G("isEnemy",i.showEnemies)("raceOrder",i.compConfig.raceOrder)("statHeaders",i.statHeaders)("resistHeaders",i.resistHeaders)("inheritOrder",i.inheritOrder)("rowData",e.bMT(1,6,i.demons))},dependencies:[r.F,_.Jj],encapsulation:2,changeDetection:0})}}return n})();var f=c(3515),d=c(5692),p=c(3679),h=c(2223),a=c(302),l=c(9436),m=c(1538),b=c(7924),O=c(2649);function Y(n){const u={};for(let t=0;t<n.length;t++)u[n[t]]=t;return u}const M=["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Strength","Hermit","Fortune","Justice","Hanged","Death","Temperance","Devil","Tower","Star","Moon","Sun","Judgement","World","Fool"],U=M.concat(["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul","Karma","Fiend","Meta"]).concat(["Gem"]),Q=["sword1h","sword2h","spear","axe","whip","thrown","arrow","fist","handgun","autogun","shotgun","rifle","tech","rush"].concat("fire","ice","wind","earth","elec","nuke","blast","gravity","expel","miracle","bless","prayer","death","curse","nerve","occult","almighty","spec");Y(U),Y(Q);var L=c(8689);const z={B:0,W:1e5,R:2e5},Z={2:2e4,1:4e4,0:6e4,T:8e4},J={0:null,2e4:"fusion-color blue second",4e4:"fusion-color blue first",6e4:"fusion-color blue none",8e4:"fusion-color blue unfav",12e4:"fusion-color white second",14e4:"fusion-color white first",16e4:"fusion-color white none",18e4:"fusion-color white unfav",22e4:"fusion-color red second",24e4:"fusion-color red first",26e4:"fusion-color red none",28e4:"fusion-color red unfav"},N=L.d4,B=U.reduce((n,u)=>(n[u]={},n),{});for(let n=0;n<N.length;n++){const u=N[n],t=Array.from(L.Tj[n]),o=Array.from(L.B[n]);for(let i=n+1;i<N.length;i++){const R=N[i],v=z[t[i]]+Z[o[i]];B[u][R]=v,B[R][u]=v}}var w=c(1540);function te(n,u){if(1&n&&(e.j41(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),e.EFF(4,"Special Fusion Condition"),e.k0s()()(),e.j41(5,"tbody")(6,"tr")(7,"td"),e.EFF(8),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(8),e.JRh(t.fusionPrereq)}}function ne(n,u){if(1&n&&(e.j41(0,"app-fusion-entry-table",5),e.EFF(1,'" '),e.k0s()),2&n){const t=e.XpG();e.Y8G("title","Special Fusion Ingredients for "+t.currentDemon)("baseUrl","../../demons")("rowData",t.fusionEntries)("isFusion",!0)}}function se(n,u){if(1&n&&e.nrm(0,"app-fusion-pair-table",6),2&n){const t=e.XpG();e.Y8G("title","Ingredient 1 x Ingredient 2 = "+t.currentDemon)("leftBaseUrl","../../demons")("rightBaseUrl","../../demons")("rowData",t.fusionPairs)}}let ie=(()=>{class n extends O.J{constructor(){super(...arguments),this.toFusionPair=t=>o=>function q(n,u){const t=u.getDemon(n.name1),o=u.getDemon(n.name2),i=B[t.race][o.race]||0;return{price:i+t.price+o.price,race1:t.race,lvl1:t.lvl,name1:n.name1,race2:o.race,lvl2:o.lvl,name2:n.name2,notes:J[i]}}(o,this.compendium)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fission-table"]],features:[e.Vt3],decls:3,vars:3,consts:[["class","list-table",4,"ngIf"],[3,"title","baseUrl","rowData","isFusion",4,"ngIf"],[3,"title","leftBaseUrl","rightBaseUrl","rowData",4,"ngIf"],[1,"list-table"],[1,"title"],[3,"title","baseUrl","rowData","isFusion"],[3,"title","leftBaseUrl","rightBaseUrl","rowData"]],template:function(o,i){1&o&&(e.DNE(0,te,9,1,"table",0),e.DNE(1,ne,2,4,"app-fusion-entry-table",1),e.DNE(2,se,1,4,"app-fusion-pair-table",2)),2&o&&(e.Y8G("ngIf",i.fusionPrereq),e.R7$(1),e.Y8G("ngIf",i.fusionEntries.length),e.R7$(1),e.Y8G("ngIf",i.fusionPairs.length||!i.fusionPrereq&&!i.fusionEntries.length))},dependencies:[_.bT,m.a,w.cK],encapsulation:2,changeDetection:0})}}return n})();var oe=c(8696),ae=c(3452);let re=(()=>{class n extends ae.y{constructor(){super(...arguments),this.toFusionPair=t=>o=>function ee(n,u,t){const o=t.getDemon(n),i=t.getDemon(u.name1),R=t.getDemon(u.name2),v=B[o.race][i.race]||0;return{price:v+o.price+i.price,race1:i.race,lvl1:i.lvl,name1:u.name1,race2:R.race,lvl2:R.lvl,name2:u.name2,notes:J[v]}}(t,o,this.compendium)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=e.xGo(n)))(i||n)}}()}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fusion-table"]],features:[e.Vt3],decls:1,vars:6,consts:[[3,"title","leftHeader","rightHeader","rowData","leftBaseUrl","rightBaseUrl"]],template:function(o,i){1&o&&e.nrm(0,"app-fusion-pair-table",0),2&o&&e.Y8G("title",i.currentDemon+" x Ingredient 2 = Result")("leftHeader","Ingredient 2")("rightHeader","Result")("rowData",i.fusionPairs)("leftBaseUrl","..")("rightBaseUrl","../../personas")},dependencies:[w.cK],encapsulation:2,changeDetection:0})}}return n})();function le(n,u){if(1&n&&e.nrm(0,"app-demon-resists",3),2&n){const t=e.XpG();e.Y8G("resistHeaders",t.compConfig.presistElems)("resists",t.demon.presists)}}function me(n,u){1&n&&e.nrm(0,"app-p1-fusion-table")}const ce=function(){return["Traits","Drops"]};let pe=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-enemy-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:11,vars:28,consts:[[3,"title","price","statHeaders","stats","fusionHeaders","inherits"],[3,"title","statHeaders","stats"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"title","hasLvl","hasTarget","elemOrder","compendium","skillLevels"],[4,"ngIf"]],template:function(o,i){1&o&&(e.j41(0,"app-demon-stats",0)(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s()(),e.nrm(5,"app-demon-stats",1),e.DNE(6,le,1,2,"app-demon-resists",2),e.nrm(7,"app-demon-resists",3)(8,"app-demon-skills",4)(9,"app-demon-skills",4),e.DNE(10,me,1,0,"app-p1-fusion-table",5)),2&o&&(e.Y8G("title","Lvl "+i.demon.lvl+" "+i.demon.race+" "+i.demon.name)("price",i.demon.price)("statHeaders",i.compConfig.enemyStats)("stats",i.demon.stats)("fusionHeaders",e.lJ4(27,ce))("inherits",i.demon.inherits),e.R7$(2),e.JRh(i.demon.trait),e.R7$(2),e.JRh(i.demon.drop),e.R7$(1),e.Y8G("title","Stats")("statHeaders",i.compConfig.baseStats)("stats",i.demon.atks),e.R7$(1),e.Y8G("ngIf",i.compConfig.presistElems.length),e.R7$(1),e.Y8G("resistHeaders",i.compConfig.mresistElems)("resists",i.demon.mresists),e.R7$(1),e.Y8G("title","Transferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",i.compConfig.elemOrder)("compendium",i.compendium)("skillLevels",i.demon.transfers),e.R7$(1),e.Y8G("title","Nontransferable Skills")("hasLvl",!1)("hasTarget",!0)("elemOrder",i.compConfig.elemOrder)("compendium",i.compendium)("skillLevels",i.demon.skills),e.R7$(1),e.Y8G("ngIf","p1"===i.compConfig.appCssClasses[0]))},dependencies:[_.bT,p.C,h.w,a.F,re],encapsulation:2,changeDetection:0})}}return n})();function he(n,u){if(1&n&&(e.j41(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),e.EFF(4,"Special Fusion Condition"),e.k0s()()(),e.j41(5,"tbody")(6,"tr")(7,"td"),e.EFF(8),e.k0s()()()()),2&n){const t=e.XpG(2);e.R7$(8),e.JRh(t.demon.prereq)}}function ue(n,u){if(1&n&&e.nrm(0,"app-fusion-entry-table",13),2&n){const t=e.XpG(2);e.Y8G("title","Mutates From")("baseUrl","..")("rowData",t.mutatesFrom)}}function de(n,u){if(1&n&&e.nrm(0,"app-fusion-entry-table",13),2&n){const t=e.XpG(2);e.Y8G("title","Mutates To")("baseUrl","..")("rowData",t.mutatesTo)}}function ge(n,u){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t)}}function fe(n,u){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t)}}function _e(n,u){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.DNE(3,fe,2,1,"td",7),e.k0s()),2&n){const t=u.$implicit,o=u.index;e.R7$(2),e.JRh(o+1),e.R7$(1),e.Y8G("ngForOf",t)}}function Ce(n,u){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t)}}function Re(n,u){if(1&n&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t)}}function ve(n,u){if(1&n&&e.nrm(0,"app-demon-resists",9),2&n){const t=e.XpG(2);e.Y8G("resistHeaders",t.compConfig.presistElems)("resists",t.demon.presists)}}function Ee(n,u){if(1&n&&e.nrm(0,"app-fusion-multi-pair-table",14),2&n){const t=e.XpG(2);e.Y8G("resultName",t.name)("leftHeader","Recipe")("rightHeader","Gem")("rowData",t.elemRecipes)}}function Fe(n,u){1&n&&e.nrm(0,"app-p1-fission-table")}const be=function(){return["Traits","Returns"]};function ke(n,u){if(1&n&&(e.qex(0),e.j41(1,"app-demon-stats",2)(2,"td"),e.EFF(3),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s()(),e.DNE(6,he,9,1,"table",3),e.DNE(7,ue,1,3,"app-fusion-entry-table",4),e.DNE(8,de,1,3,"app-fusion-entry-table",4),e.j41(9,"table",5)(10,"thead")(11,"tr")(12,"th",6),e.EFF(13,"Stat Growths"),e.k0s()(),e.j41(14,"tr")(15,"th"),e.EFF(16,"Rank"),e.k0s(),e.DNE(17,ge,2,1,"th",7),e.k0s()(),e.j41(18,"tbody"),e.DNE(19,_e,4,2,"tr",7),e.k0s()(),e.j41(20,"table",5)(21,"thead")(22,"tr")(23,"th",6),e.EFF(24,"Party Affinities"),e.k0s()(),e.j41(25,"tr"),e.DNE(26,Ce,2,1,"th",7),e.k0s()(),e.j41(27,"tbody")(28,"tr"),e.DNE(29,Re,2,1,"td",7),e.k0s()()(),e.DNE(30,ve,1,2,"app-demon-resists",8),e.nrm(31,"app-demon-resists",9)(32,"app-demon-inherits",10)(33,"app-demon-skills",11),e.DNE(34,Ee,1,4,"app-fusion-multi-pair-table",12),e.DNE(35,Fe,1,0,"app-p1-fission-table",0),e.bVm()),2&n){const t=e.XpG();e.R7$(1),e.Y8G("title","Lvl "+t.demon.lvl+" "+t.demon.race+" "+t.demon.name)("statHeaders",t.compConfig.baseAtks)("stats",t.demon.atks)("inherits",t.demon.inherits)("fusionHeaders",e.lJ4(27,be)),e.R7$(2),e.JRh(t.demon.trait),e.R7$(2),e.JRh(t.demon.drop),e.R7$(1),e.Y8G("ngIf",t.demon.prereq),e.R7$(1),e.Y8G("ngIf",t.mutatesFrom.length),e.R7$(1),e.Y8G("ngIf",t.mutatesTo.length),e.R7$(4),e.BMQ("colSpan",t.compConfig.baseStats.length+1),e.R7$(5),e.Y8G("ngForOf",t.compConfig.baseStats),e.R7$(2),e.Y8G("ngForOf",t.statGrowths),e.R7$(4),e.BMQ("colSpan",t.compConfig.party.length),e.R7$(3),e.Y8G("ngForOf",t.compConfig.party),e.R7$(3),e.Y8G("ngForOf",t.partyAffines),e.R7$(1),e.Y8G("ngIf",t.compConfig.presistElems.length),e.R7$(1),e.Y8G("resistHeaders",t.compConfig.mresistElems)("resists",t.demon.mresists),e.R7$(1),e.Y8G("inheritHeaders",t.compConfig.inheritElems)("inherits",t.demon.affinities),e.R7$(1),e.Y8G("elemOrder",t.compConfig.elemOrder)("hasTarget",!0)("compendium",t.compendium)("skillLevels",t.demon.skills),e.R7$(1),e.Y8G("ngIf",t.elemRecipes.length),e.R7$(1),e.Y8G("ngIf","p1"===t.compConfig.appCssClasses[0])}}function De(n,u){if(1&n&&e.nrm(0,"app-demon-missing",15),2&n){const t=e.XpG();e.Y8G("name",t.name)}}function Te(n,u){if(1&n&&e.nrm(0,"app-demon-entry",2),2&n){const t=e.XpG();e.Y8G("name",t.name)("demon",t.demon)("elemRecipes",t.elemRecipes)("compConfig",t.compConfig)("compendium",t.compendium)}}function $e(n,u){if(1&n&&e.nrm(0,"app-enemy-entry",3),2&n){const t=e.XpG();e.Y8G("name",t.name)("demon",t.demon)("compConfig",t.compConfig)("compendium",t.compendium)}}let Ie=(()=>{class n{constructor(){this.affinityLookup={11264:"Great",12308:"Good",13352:"Norm",14396:"Bad",14416:"Worst"}}ngOnChanges(){const t=[this.demon.stats];for(const o of this.compendium.getStatGrowths(this.demon.growth))t.push(t[t.length-1].map((i,R)=>i+o[R]));this.statGrowths=t,this.partyAffines=this.demon.party.map(o=>this.affinityLookup[o]),this.mutatesTo=this.compendium.reverseLookupSpecial(this.demon.name).map(o=>this.compendium.getDemon(o)).map(o=>({price:o.atks[0],race1:o.race,lvl1:o.lvl,name1:o.name})),this.mutatesFrom=this.compendium.getSpecialNameEntries(this.demon.name).map(o=>this.compendium.getDemon(o)).map(o=>({price:o.atks[0],race1:o.race,lvl1:o.lvl,name1:o.name}))}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",elemRecipes:"elemRecipes",compendium:"compendium",compConfig:"compConfig"},features:[e.OA$],decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","statHeaders","stats","inherits","fusionHeaders"],["class","entry-table",4,"ngIf"],[3,"title","baseUrl","rowData",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"resistHeaders","resists",4,"ngIf"],[3,"resistHeaders","resists"],[3,"inheritHeaders","inherits"],[3,"elemOrder","hasTarget","compendium","skillLevels"],[3,"resultName","leftHeader","rightHeader","rowData",4,"ngIf"],[3,"title","baseUrl","rowData"],[3,"resultName","leftHeader","rightHeader","rowData"],[3,"name"]],template:function(o,i){1&o&&(e.DNE(0,ke,36,28,"ng-container",0),e.DNE(1,De,1,1,"app-demon-missing",1)),2&o&&(e.Y8G("ngIf",i.demon),e.R7$(1),e.Y8G("ngIf",!i.demon))},dependencies:[_.Sq,_.bT,d.X,p.C,h.w,a.F,l.d,m.a,b.L,ie],encapsulation:2,changeDetection:0})}}return n})(),X=(()=>{class n{constructor(t,o,i,R,v){this.route=t,this.title=o,this.changeDetectorRef=i,this.currentDemonService=R,this.fusionDataService=v,this.subscriptions=[],this.appName="Test App",this.appName=v.appName,this.compConfig=v.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(t=>{this.compendium=t,this.getDemonEntry()})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(t=>{this.fusionChart=t,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(t=>{this.name=t,this.getDemonEntry()})),this.route.params.subscribe(t=>{this.currentDemonService.nextCurrentDemon(t.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name),this.elemRecipes=this.demon?(0,f.o4)(this.name,this.compendium,this.fusionChart):[],this.changeDetectorRef.markForCheck())}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(s.nX),e.rXU(E.hE),e.rXU(e.gRc),e.rXU(oe.i),e.rXU(C.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-demon-entry-container"]],decls:2,vars:2,consts:[[3,"name","demon","elemRecipes","compConfig","compendium",4,"ngIf"],[3,"name","demon","compConfig","compendium",4,"ngIf"],[3,"name","demon","elemRecipes","compConfig","compendium"],[3,"name","demon","compConfig","compendium"]],template:function(o,i){1&o&&(e.DNE(0,Te,1,5,"app-demon-entry",0),e.DNE(1,$e,1,4,"app-enemy-entry",1)),2&o&&(e.Y8G("ngIf",!i.demon||!i.demon.isEnemy),e.R7$(1),e.Y8G("ngIf",i.demon&&i.demon.isEnemy))},dependencies:[_.bT,Ie,pe],encapsulation:2,changeDetection:0})}}return n})();var ye=c(9454),Oe=c(2940);let Se=(()=>{class n extends ye.E{constructor(t,o,i){super(t,o,i),this.compConfig=i.compConfig,this.appName=`List of Skills - ${i.appName}`,this.defaultSortFun=(R,v)=>1e4*(this.compConfig.elemOrder[R.element]-this.compConfig.elemOrder[v.element])+R.rank-v.rank}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E.hE),e.rXU(e.gRc),e.rXU(C.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-skill-list-container"]],features:[e.Vt3],decls:2,vars:8,consts:[[3,"elemOrder","hasRank","hasTarget","isPersona","transferTitle","rowData"]],template:function(o,i){1&o&&(e.nrm(0,"app-smt-skill-list",0),e.nI1(1,"async")),2&o&&e.Y8G("elemOrder",i.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("isPersona",!0)("transferTitle","Inherit From")("rowData",e.bMT(1,6,i.skills))},dependencies:[Oe.p,_.Jj],encapsulation:2,changeDetection:0})}}return n})();function Ge(n,u){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}const A=function(n){return[n]};function We(n,u){if(1&n&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("ngClass",e.eq3(2,A,t.slice(0,8))),e.R7$(1),e.JRh(t.slice(8,12))}}function Pe(n,u){if(1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,We,2,4,"td",3),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&n){const t=u.$implicit;e.R7$(2),e.JRh(t[0]),e.R7$(1),e.Y8G("ngForOf",t.slice(1,t.length-1)),e.R7$(2),e.JRh(t[t.length-1])}}function je(n,u){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}function Me(n,u){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}function Ne(n,u){if(1&n&&(e.j41(0,"td",4),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.Y8G("ngClass",e.eq3(2,A,t.slice(0,4))),e.R7$(1),e.JRh(t.slice(4))}}function Be(n,u){if(1&n&&(e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.DNE(3,Ne,2,4,"td",3),e.j41(4,"th"),e.EFF(5),e.k0s()()),2&n){const t=u.$implicit;e.R7$(2),e.JRh(t[0]),e.R7$(1),e.Y8G("ngForOf",t.slice(1,t.length-1)),e.R7$(2),e.JRh(t[t.length-1])}}function He(n,u){if(1&n&&(e.j41(0,"th"),e.EFF(1),e.k0s()),2&n){const t=u.$implicit;e.R7$(1),e.JRh(t.slice(0,4))}}let Le=(()=>{class n{ngOnChanges(){this.normChart&&this.fillFusionChart()}getColorClass(t,o){const i=this.normChart.fuseColors[t].charAt(o);return"B"===i?"blu":"R"===i?"red":"whi"}getInheritClass(t,o){const i=this.normChart.fuseInherits[t].charAt(o);return"2"===i?"sec":"1"===i?"fir":"T"===i?"unf":"0"===i?"non":"emp"}fillFusionChart(){const t="None",i=[],R=[],v=this.normChart.races,H=this.normChart.elementDemons;i.push([""].concat(v,[""]));for(let I=0;I<v.length;I++){const P=v[I],W=[v[I]];for(let S=0;S<I;S++)W.push("Empt    -");for(let S=I;S<v.length;S++){const j=this.normChart.getRaceFusion(P,v[S])||t;W.push(`${this.getColorClass(I,S)} ${this.getInheritClass(I,S)} ${j}`)}W.push(v[I]),i.push(W)}i.push([""].concat(v,[""])),this.table=i,R.push([""].concat(M,[""]));for(const I of H){const P=[I],W=this.normChart.getElemFusions(I);for(const S of M){const j=(W[S]||t).toString(),K=j.length<2?"+"+j:j;P.push(K.replace("+","ran").replace("-","ra-")+K)}P.push(I),R.push(P)}R.push([""].concat(M,[""])),this.elemTable=R}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-p1-fusion-chart"]],inputs:{normChart:"normChart",normTitle:"normTitle",elemTitle:"elemTitle"},features:[e.OA$],decls:20,vars:10,consts:[[1,"p1-fusion-table"],[1,"title"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(o,i){1&o&&(e.j41(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),e.EFF(4),e.k0s()(),e.j41(5,"tr"),e.DNE(6,Ge,2,1,"th",2),e.k0s(),e.DNE(7,Pe,6,3,"tr",2),e.j41(8,"tr"),e.DNE(9,je,2,1,"th",2),e.k0s()()(),e.j41(10,"table",0)(11,"tbody")(12,"tr")(13,"th",1),e.EFF(14),e.k0s()(),e.j41(15,"tr"),e.DNE(16,Me,2,1,"th",2),e.k0s(),e.DNE(17,Be,6,3,"tr",2),e.j41(18,"tr"),e.DNE(19,He,2,1,"th",2),e.k0s()()()),2&o&&(e.R7$(3),e.BMQ("colspan",i.table[0].length),e.R7$(1),e.JRh(i.normTitle),e.R7$(2),e.Y8G("ngForOf",i.table[0]),e.R7$(1),e.Y8G("ngForOf",i.table.slice(1,i.table.length-1)),e.R7$(2),e.Y8G("ngForOf",i.table[i.table.length-1]),e.R7$(4),e.BMQ("colspan",i.elemTable[0].length),e.R7$(1),e.JRh(i.elemTitle),e.R7$(2),e.Y8G("ngForOf",i.elemTable[0]),e.R7$(1),e.Y8G("ngForOf",i.elemTable.slice(1,i.elemTable.length-1)),e.R7$(2),e.Y8G("ngForOf",i.elemTable[i.elemTable.length-1]))},dependencies:[_.YU,_.Sq],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto}td.ra-2[_ngcontent-%COMP%]{color:orange}td.ra-1[_ngcontent-%COMP%]{color:red}td.ran1[_ngcontent-%COMP%]{color:#0f0}td.ran2[_ngcontent-%COMP%]{color:#0ff}td.None[_ngcontent-%COMP%], td.emp[_ngcontent-%COMP%]{color:transparent}td.Empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0})}}return n})();const Ye=[{path:"",redirectTo:"personas",pathMatch:"full"},{path:"",component:$,data:{fusionTool:"chart"},children:[{path:"chart",component:(()=>{class n{constructor(t,o,i,R){this.title2=t,this.route=o,this.changeDetectorRef=i,this.fusionDataService=R,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(t=>{this.appName=t.appName,this.title2.setTitle(`Fusion Chart - ${t.appName} Fusion Calculator`)})),this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(t=>{this.changeDetectorRef.markForCheck(),this.normChart=t}))}ngOnDestroy(){for(const t of this.subscriptions)t.unsubscribe()}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(E.hE),e.rXU(s.nX),e.rXU(e.gRc),e.rXU(C.i))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-fusion-chart-container"]],decls:1,vars:3,consts:[[3,"normChart","normTitle","elemTitle"]],template:function(o,i){1&o&&e.nrm(0,"app-p1-fusion-chart",0),2&o&&e.Y8G("normChart",i.normChart)("normTitle",i.appName+" - Normal Fusions")("elemTitle",i.appName+" - Gem Fusions")},dependencies:[Le],encapsulation:2,changeDetection:0})}}return n})()}]},{path:"",component:$,children:[{path:"personas/:demonName",component:X},{path:"demons/:demonName",component:X},{path:"personas",component:g},{path:"demons",component:g,data:{showEnemies:!0}},{path:"skills",component:Se}]},{path:"**",redirectTo:"personas",pathMatch:"full"}];let Ue=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[s.iI.forChild(Ye),s.iI]})}}return n})()},6446:(G,D,c)=>{c.d(D,{i:()=>y});var s=c(4412);class e{constructor(r){this.compConfig=r,this.specialNameEntries={},this.specialNamePairs={},this.invertedSpecials={},this.initImportedData(),this.updateDerivedData()}initImportedData(){const{demons:r,enemies:g,skills:f}=this.compConfig,d={},p={},h={},a={};for(const[l,m]of Object.entries(this.compConfig.mutations)){h[l]=m;for(const b of m)d[b]||(d[b]=[]),d[b].push(l)}for(const[l,m]of Object.entries(this.compConfig.fusionPrereqs))r[l].prereq=m,"normal"===r[l].fusion&&(r[l].fusion="special"),p[l]=[{name1:l,name2:l}];for(const[l,m]of Object.entries(this.compConfig.specialRecipes))m.length>0?p[l]=[{name1:m[0],name2:m[1]}]:(r[l].prereq="Fusion Accident",r[l].fusion="accident");for(const l of this.compConfig.races)a[l]={};for(const l of Object.values(r).sort((m,b)=>m.lvl-b.lvl)){a[l.race][l.lvl]=l.name;for(const[m,b]of Object.entries(l.skills))f[m].learnedBy.push({demon:l.name,level:b})}for(const l of Object.values(g).sort((m,b)=>m.lvl-b.lvl)){a[l.race][l.lvl]=l.name;for(const[m,b]of Object.entries(l.transfers))f[m].transfer.push({demon:l.name,level:b})}for(const l of Object.values(f))if(""!==l.card)for(const m of l.card.split(", "))r[m]?l.learnedBy.push({demon:m,level:5084}):g[m]&&l.transfer.push({demon:m,level:3680});this.demons=r,this.enemies=g,this.skills=f,this.specialNameEntries=d,this.specialNamePairs=p,this.invertedSpecials=h,this.invertedDemons=a}updateDerivedData(){const r=Object.keys(this.skills).map(h=>this.skills[h]),g={},f={};for(const h of this.compConfig.races)g[h]=[],f[h]=[];for(const[h,a]of Object.entries(this.demons))"normal"===this.demons[h].fusion&&f[a.race].push(a.lvl);for(const[h,a]of Object.entries(this.enemies))g[a.race].push(a.lvl);for(const h of this.compConfig.races)g[h].sort((a,l)=>a-l),f[h].sort((a,l)=>a-l);const d=Object.keys(this.demons).map(h=>this.demons[h]),p=Object.keys(this.enemies).map(h=>this.enemies[h]);this._allDemons=p.concat(d),this._allSkills=r.filter(h=>h.rank<90),this.allIngredients=g,this.allResults=f}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return this._allDemons.filter(r=>"special"===r.fusion)}getDemon(r){return this.enemies[r]||this.demons[r]}getEnemy(r){return this.enemies[r]}getSkill(r){return this.skills[r]}getSkills(r){const g=this.compConfig.elemOrder,f=r.map(d=>this.skills[d]);return f.sort((d,p)=>1e4*(g[d.element]-g[p.element])+d.rank-p.rank),f}getStatGrowths(r){return this.compConfig.growthTypes[r]||[]}getIngredientDemonLvls(r){return this.allIngredients[r]||[]}getResultDemonLvls(r){return this.allResults[r]||[]}getSpecialNameEntries(r){return this.specialNameEntries[r]||[]}getSpecialNamePairs(r){return this.specialNamePairs[r]||[]}getInheritElems(r){return r.toString(2).padStart(this.compConfig.inheritElems.length,"0").split("").map(g=>100*parseInt(g))}reverseLookupDemon(r,g){return this.invertedDemons[r][g]}reverseLookupSpecial(r){return this.invertedSpecials[r]||[]}isElementDemon(r){return!1}updateFusionSettings(r){}}var C=c(8063),_=c(8689);const k=JSON.parse('{"hx":["Alexandrite","Diamond","Sapphire","Emerald","Ruby","Pearl","Tanzanite","Opal","Amethyst","Garnet","Aquamarine","Topaz","Moonstone","Malachite","Onyx","Turquoise"],"d4":["Magician","Priestess","Empress","Emperor","Hierophant","Lovers","Chariot","Hermit","Justice","Sun","Judgement","World","Fool"],"tp":[[1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0,1],[1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2,0],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,0,1,0],[-2,0,-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2],[1,1,0,0,-1,1,0,1,1,1,-1,1,0,-1,1,0],[1,0,-2,2,-2,0,-1,2,0,1,1,2,-1,1,0,-1],[0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1,2],[2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0,-1],[-1,2,0,1,1,2,-1,1,0,-1,1,0,-2,2,-2,0],[0,-1,1,0,1,1,1,-1,1,0,-1,1,0,1,1,0]]}');class T extends C.p{constructor(){super(),this.elementDemons=[],this.lvlModifier=2.5,this.initCharts()}initCharts(){const r=_.d4,g=_.tp,f=k.d4,d=k.tp,p=k.hx;this.races=r,this.elementDemons=p,this.fusionChart=C.p.loadFusionTableJson(r,g),this.fissionChart=C.p.loadFissionTableJson(r,p,g),this.elementChart=C.p.loadElementTableJson(f,p,d),this.fuseColors=_.Tj,this.fuseInherits=_.B}getLightDark(r){return 0}}var F=c(6947),$=c(2598);let y=(()=>{class E{constructor(g){this.fissionCalculator=F.ov,this.fusionCalculator=F.nv,this.settingsKey="p1-fusion-tool-settings",this._fusionChart=new T,this._fusionChart$=new s.t(this._fusionChart),this.fusionChart=this._fusionChart$.asObservable(),this._compendium=new e(g),this._compendium$=new s.t(this._compendium),this.compendium=this._compendium$.asObservable(),this.compConfig=g,this.appName=g.appTitle+" Fusion Calculator"}updateFusionSettings(g){}static{this.\u0275fac=function(f){return new(f||E)($.KVO(F.HI))}}static{this.\u0275prov=$.jDH({token:E,factory:E.\u0275fac})}}return E})()},3261:(G,D,c)=>{c.d(D,{n:()=>T});var s=c(177),e=c(3887),C=c(9447),_=c(1778),k=c(2598);let T=(()=>{class F{static forRoot(){return{ngModule:F}}static{this.\u0275fac=function(E){return new(E||F)}}static{this.\u0275mod=k.$C({type:F})}static{this.\u0275inj=k.G2t({imports:[s.MD,e.G,C.SharedCompendiumModule,_.S]})}}return F})()},8689:G=>{G.exports=JSON.parse('{"Tj":["-WWRBRWWWRBWRWWBBWW",".-BWWWRBRWWRWBBWWRR","..-WWWRBRWWRWBBWWRR","...-RBWWWBRWBWWRRWW","....-RWWWRBWRWWBBWW",".....-WWWBRWBWWRRWW","......-RBWWBWRRWWBB",".......-RWWRWBBWWRR","........-WWBWRRWWBB",".........-RWBWWRRWW","..........-WRWWBBWW","...........-WRRWWBB","............-WWRRWW",".............-BWWRR","..............-WWRR","...............-BWW","................-WW",".................-B","..................-"],"B":["-2200000011TTTT0000",".-200000011TTTT0000","..-00000011TTTT0000","...-20011000000TTT0","....-0011000000TTT0",".....-2TT0011110000","......-TT0011110000",".......-20000000000","........-0000000000",".........-20000000T","..........-0000000T","...........-2220000","............-220000",".............-20000","..............-0000","...............-221","................-21",".................-1","..................-"],"d4":["Night","Yoma","Fairy","Divine","Fallen","Snake","Drake","Flight","Raptor","Beast","Wilder","Femme","Brute","Jirae","Jaki","Haunt","Spirit","Grave","Foul"],"tp":[["-","Emperor","Magician","Lovers","Devil","Sun","Judgement","Magician","Justice","Hermit","Sun","Priestess","Star","Justice","Death","Lovers","Hanged","Magician","Emperor"],["-","Magician","Lovers","Lovers","Emperor","Emperor","Sun","Justice","Emperor","Temperance","Justice","Emperor","Lovers","Emperor","Temperance","Lovers","Lovers","Temperance"],["-","Priestess","Magician","Hermit","Moon","Hermit","Empress","Priestess","Hermit","Magician","Hierophant","Temperance","Chariot","Judgement","Hermit","Magician","Hanged"],["-","Judgement","Judgement","Devil","Magician","Sun","Priestess","Priestess","Hierophant","Fortune","World","Death","Hierophant","Hanged","Judgement","Priestess"],["-","Temperance","Moon","Judgement","World","Hermit","Tower","Moon","Devil","Empress","Temperance","Moon","Magician","Devil","Moon"],["-","Priestess","Chariot","Empress","World","Chariot","Empress","Hierophant","Hierophant","Justice","Tower","World","Sun","World"],["-","World","Chariot","Justice","Tower","Justice","Chariot","Strength","Hierophant","World","Chariot","World","Hierophant"],["-","Sun","Star","Hanged","Hermit","Empress","Empress","Justice","Justice","Lovers","Judgement","Lovers"],["-","Priestess","Emperor","Empress","Fortune","Emperor","Sun","Sun","Moon","Moon","Judgement"],["-","Chariot","Temperance","Strength","Chariot","Hierophant","Temperance","Chariot","Temperance","Magician"],["-","Sun","Fortune","Strength","Sun","Hermit","Emperor","Judgement","Tower"],["-","Empress","Priestess","Empress","Moon","Empress","Temperance","Priestess"],["-","Hierophant","Justice","Death","Moon","Hermit","Hierophant"],["-","Star","Hermit","World","Star","Strength"],["-","Sun","Chariot","World","Fortune"],["-","Death","Judgement","Moon"],["-","World","Lovers"],["-","Star"],["-"]]}')}}]);