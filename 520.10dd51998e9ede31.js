"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[520],{5390:(B,I,p)=>{p.d(I,{e:()=>m});var e=p(3247),O=p(3808),t=p(4769),L=p(6814),c=p(4487);const a=function(){return{exact:!0}};function i(u,h){if(1&u&&(t.TgZ(0,"th",2)(1,"a",3),t._uU(2),t.qZA()()),2&u){const v=h.$implicit,g=t.oxw().$implicit;t.Udp("width",1/g,"%"),t.Q6J("routerLink",v.link)("routerLinkActiveOptions",t.DdM(6,a)),t.xp6(1),t.Q6J("routerLink",v.link),t.xp6(1),t.hij(" ",v.title," ")}}function n(u,h){if(1&u&&(t.TgZ(0,"th",11)(1,"a",12),t._uU(2),t.qZA()()),2&u){const v=t.oxw().$implicit,g=t.oxw();t.Udp("width",1/v,"%"),t.xp6(2),t.hij(" ",g.langEn?"DLC Settings":"DLC"," ")}}const s=function(){return{marginLeft:"auto",marginRight:"auto",width:"1080px"}};function o(u,h){if(1&u&&(t.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2)(4,"a",3),t._uU(5),t.qZA()(),t.TgZ(6,"th",4)(7,"a",5),t._uU(8),t.qZA()(),t.TgZ(9,"th",6)(10,"a",7),t._uU(11),t.qZA()(),t.YNc(12,i,3,7,"th",8),t.YNc(13,n,3,3,"th",9),t.qZA(),t.TgZ(14,"tr")(15,"th",10),t._uU(16),t.qZA()()()()),2&u){const v=h.$implicit,g=t.oxw();t.Q6J("ngStyle",t.DdM(17,s)),t.xp6(3),t.Udp("width",1/v,"%"),t.Q6J("routerLink",g.mainList+"s")("routerLinkActiveOptions",t.DdM(18,a)),t.xp6(1),t.Q6J("routerLink",g.mainList+"s"),t.xp6(1),t.hij(" ",g.langEn?g.mainList.charAt(0).toUpperCase()+g.mainList.slice(1)+" List":"\u60aa\u9b54\u4e00\u89a7"," "),t.xp6(1),t.Udp("width",1/v,"%"),t.xp6(2),t.hij(" ",g.langEn?"Skill List":"\u30b9\u30ad\u30eb\u4e00\u89a7"," "),t.xp6(1),t.Udp("width",1/v,"%"),t.xp6(2),t.hij(" ",g.langEn?"Fusion Chart":"\u5408\u4f53\u8868"," "),t.xp6(1),t.Q6J("ngForOf",g.otherLinks),t.xp6(1),t.Q6J("ngIf",g.hasSettings),t.xp6(2),t.uIk("colspan",v),t.xp6(1),t.Oqu(g.appName+(g.langEn?" Fusion Calculator":" \u5408\u4f53\u30a2\u30d7\u30ea"))}}function l(u,h){if(1&u&&(t.TgZ(0,"div",3),t._UZ(1,"app-demon-compendium-header",4),t.qZA()),2&u){const v=t.oxw();t.xp6(1),t.Q6J("appName",v.appName)("mainList",v.mainList)("hasSettings",v.hasSettings)("langEn",v.langEn)("otherLinks",v.otherLinks)}}function f(u,h){if(1&u&&(t.TgZ(0,"div"),t._UZ(1,"app-demon-compendium-header",4),t.qZA()),2&u){const v=t.oxw();t.xp6(1),t.Q6J("appName",v.appName)("mainList",v.mainList)("hasSettings",v.hasSettings)("langEn",v.langEn)("otherLinks",v.otherLinks)}}const r=function(u){return{marginLeft:"auto",marginRight:"auto",width:u}};let x=(()=>{var u;class h{constructor(){this.appName="Shin Megami Tensei",this.mainList="demon",this.hasSettings=!0,this.langEn=!0,this.otherLinks=[]}}return(u=h).\u0275fac=function(g){return new(g||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-demon-compendium-header"]],inputs:{appName:"appName",mainList:"mainList",hasSettings:"hasSettings",langEn:"langEn",otherLinks:"otherLinks"},decls:1,vars:1,consts:[[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],["routerLink","skills","routerLinkActive","active",1,"nav"],["routerLink","skills"],["routerLink","chart","routerLinkActive","active",1,"nav"],["routerLink","chart"],["class","nav","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions","width",4,"ngFor","ngForOf"],["class","nav","routerLink","settings","routerLinkActive","active",3,"width",4,"ngIf"],[1,"title"],["routerLink","settings","routerLinkActive","active",1,"nav"],["routerLink","settings"]],template:function(g,E){1&g&&t.YNc(0,o,17,19,"table",0),2&g&&t.Q6J("ngIf",3+E.otherLinks.length+(E.hasSettings?1:0))},dependencies:[L.sg,L.O5,L.PC,c.rH,c.Od],encapsulation:2,changeDetection:0}),h})(),m=(()=>{var u;class h{constructor(g){this.route=g,this.subscriptions=[],this.mainList="demon",this.hasSettings=!0,this.otherLinks=[]}ngOnInit(){this.subscriptions.push(this.route.data.subscribe(g=>{this.appName=g.appName||"Shin Megami Tensei",this.isChart="chart"===g.fusionTool,this.langEn="ja"!==g.lang})),setTimeout(()=>this.stickyTable.nextEdges())}ngOnDestroy(){for(const g of this.subscriptions)g.unsubscribe()}}return(u=h).\u0275fac=function(g){return new(g||u)(t.Y36(c.gz))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-demon-compendium"]],viewQuery:function(g,E){if(1&g&&t.Gf(O.v,5),2&g){let F;t.iGM(F=t.CRH())&&(E.stickyTable=F.first)}},inputs:{mainList:"mainList",hasSettings:"hasSettings",otherLinks:"otherLinks"},features:[t._Bn([e.L])],decls:4,vars:5,consts:[[3,"ngStyle"],["appPositionSticky","",4,"ngIf"],[4,"ngIf"],["appPositionSticky",""],["appPositionSticky","",3,"appName","mainList","hasSettings","langEn","otherLinks"]],template:function(g,E){1&g&&(t.TgZ(0,"div",0),t.YNc(1,l,2,5,"div",1),t.YNc(2,f,2,5,"div",2),t._UZ(3,"router-outlet"),t.qZA()),2&g&&(t.Q6J("ngStyle",t.VKq(3,r,E.isChart?"auto":"1080px")),t.xp6(1),t.Q6J("ngIf",!E.isChart),t.xp6(1),t.Q6J("ngIf",E.isChart))},dependencies:[L.O5,L.PC,c.lC,O.v,x],encapsulation:2,changeDetection:0}),h})()},7880:(B,I,p)=>{p.d(I,{t:()=>a});var e=p(4769),O=p(6814),t=p(4487);function L(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.TgZ(2,"a",3),e._uU(3),e.qZA()()),2&i){const s=e.oxw();e.xp6(1),e.hij(" Error: Could not find entry in compendium for ",s.name,". Did you mean: "),e.xp6(1),e.MGl("routerLink","../",s.name.split("%20").join(" "),""),e.xp6(1),e.Oqu(s.name.split("%20").join(" "))}}function c(i,n){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.hij("Error: Could not find entry in compendium for ",s.name,"")}}let a=(()=>{var i;class n{}return(i=n).\u0275fac=function(o){return new(o||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-demon-missing"]],inputs:{name:"name"},decls:9,vars:3,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"routerLink"]],template:function(o,l){1&o&&(e.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),e._uU(4),e.qZA()()(),e.TgZ(5,"tbody")(6,"tr"),e.YNc(7,L,4,3,"td",2),e.YNc(8,c,2,1,"td",2),e.qZA()()()),2&o&&(e.xp6(4),e.hij("Entry for ",l.name,""),e.xp6(3),e.Q6J("ngIf",l.name&&l.name.includes("%20")),e.xp6(1),e.Q6J("ngIf",!l.name||!l.name.includes("%20")))},dependencies:[O.O5,t.rH],encapsulation:2,changeDetection:0}),n})()},1009:(B,I,p)=>{p.d(I,{I:()=>x});var e=p(4769),O=p(6814),t=p(2173);function L(m,u){if(1&m&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&m){const h=e.oxw(2);e.uIk("colSpan",h.ailmentHeaders.length),e.xp6(1),e.Oqu(h.langEn?"Ailment":"\u72b6\u614b\u7570\u5e38")}}function c(m,u){if(1&m&&(e.TgZ(0,"th")(1,"div"),e._uU(2),e.qZA()()),2&m){const h=u.$implicit,v=e.oxw(2);e.Udp("width",(v.ailmentHeaders.length?50:100)/v.resistHeaders.length,"%"),e.xp6(1),e.Gre("element-icon ",h,""),e.xp6(1),e.Oqu(h)}}function a(m,u){if(1&m&&(e.TgZ(0,"th")(1,"div"),e._uU(2),e.qZA()()),2&m){const h=u.$implicit,v=e.oxw(2);e.Udp("width",50/v.ailmentHeaders.length,"%"),e.xp6(2),e.Oqu(h)}}function i(m,u){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToString"),e.qZA()),2&m){const h=u.$implicit;e.Gre("resists ",e.lcZ(1,4,h),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,h)," ")}}function n(m,u){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToString"),e.qZA()),2&m){const h=u.$implicit;e.Gre("resists ",e.lcZ(1,4,h),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,h)," ")}}function s(m,u){if(1&m&&(e.ynx(0),e.YNc(1,i,4,8,"td",5),e.YNc(2,n,4,8,"td",5),e.BQk()),2&m){const h=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",h.resists),e.xp6(1),e.Q6J("ngForOf",h.ailments)}}function o(m,u){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToStringJa"),e.qZA()),2&m){const h=u.$implicit;e.Gre("resists ",e.lcZ(1,4,h),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,h)," ")}}function l(m,u){if(1&m&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToStringJa"),e.qZA()),2&m){const h=u.$implicit;e.Gre("resists ",e.lcZ(1,4,h),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,h)," ")}}function f(m,u){if(1&m&&(e.ynx(0),e.YNc(1,o,4,8,"td",5),e.YNc(2,l,4,8,"td",5),e.BQk()),2&m){const h=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",h.resists),e.xp6(1),e.Q6J("ngForOf",h.ailments)}}function r(m,u){if(1&m&&(e.TgZ(0,"table",1)(1,"thead")(2,"tr")(3,"th",2),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"th"),e._uU(7),e.qZA(),e.YNc(8,L,2,2,"th",3),e.qZA(),e.TgZ(9,"tr"),e.YNc(10,c,3,6,"th",4),e.YNc(11,a,3,3,"th",4),e.qZA()(),e.TgZ(12,"tbody")(13,"tr"),e.YNc(14,s,3,2,"ng-container",3),e.YNc(15,f,3,2,"ng-container",3),e.qZA()()()),2&m){const h=e.oxw();e.xp6(3),e.uIk("colspan",h.resistHeaders.length+h.ailmentHeaders.length),e.xp6(1),e.Oqu(h.langEn?h.title:"\u8010\u6027"),e.xp6(2),e.uIk("colSpan",h.resistHeaders.length),e.xp6(1),e.Oqu(h.langEn?"Element":"\u5c5e\u6027"),e.xp6(1),e.Q6J("ngIf",h.ailmentHeaders.length),e.xp6(2),e.Q6J("ngForOf",h.resistHeaders),e.xp6(1),e.Q6J("ngForOf",h.ailmentHeaders),e.xp6(3),e.Q6J("ngIf",h.langEn),e.xp6(1),e.Q6J("ngIf",!h.langEn)}}let x=(()=>{var m;class u{constructor(){this.title="Resistances",this.resistHeaders=[],this.resists=[],this.ailmentHeaders=[],this.ailments=[],this.langEn=!0}}return(m=u).\u0275fac=function(v){return new(v||m)},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-demon-resists"]],inputs:{title:"title",resistHeaders:"resistHeaders",resists:"resists",ailmentHeaders:"ailmentHeaders",ailments:"ailments",langEn:"langEn"},decls:1,vars:1,consts:[["class","entry-table",4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(v,g){1&v&&e.YNc(0,r,16,9,"table",0),2&v&&e.Q6J("ngIf",g.resistHeaders.length)},dependencies:[O.sg,O.O5,t.LG,t.Vk],encapsulation:2,changeDetection:0}),u})()},4101:(B,I,p)=>{p.d(I,{Q:()=>X});var e=p(4769),O=p(3247),t=p(9217);let L=(()=>{var _;class R extends t.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[],this.raceOrder&&this.sortFuns.push((S,d)=>200*(this.raceOrder[S.race]-this.raceOrder[d.race])+d.lvl-S.lvl,(S,d)=>200*(this.raceOrder[S.race]-this.raceOrder[d.race])+d.lvl-S.lvl,(S,d)=>d.lvl-S.lvl,(S,d)=>S.name.localeCompare(d.name)),this.inheritOrder&&this.sortFuns.push((S,d)=>S.inherits-d.inherits),this.statHeaders&&(this.sortFuns=this.sortFuns.concat(this.statHeaders.map((S,d)=>(J,j)=>j.stats[d]-J.stats[d]))),this.resistHeaders&&(this.sortFuns=this.sortFuns.concat(this.resistHeaders.map((S,d)=>(J,j)=>J.resists[d]-j.resists[d]))),this.affinityHeaders&&(this.sortFuns=this.sortFuns.concat(this.affinityHeaders.map((S,d)=>(J,j)=>j.affinities[d]-J.affinities[d])))}getSortFun(S){return this.sortFuns[S]}}return(_=R).\u0275fac=function(){let T;return function(d){return(T||(T=e.n5z(_)))(d||_)}}(),_.\u0275dir=e.lG2({type:_,inputs:{raceOrder:"raceOrder",inheritOrder:"inheritOrder",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[e.qOj]}),R})();var c=p(6814),a=p(4487),i=p(95),n=p(2173),s=p(3808),o=p(5068);const l=["class","app-demon-list-header"];function f(_,R){if(1&_&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&_){const T=e.oxw();e.uIk("colSpan",T.statColIndices.length),e.xp6(1),e.Oqu(T.langEn?"Stats":"\u30b9\u30c6\u30fc\u30bf\u30b9")}}function r(_,R){if(1&_&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&_){const T=e.oxw();e.uIk("colSpan",T.resistColIndices.length),e.xp6(1),e.Oqu(T.langEn?"Resistances":"\u8010\u6027")}}function x(_,R){if(1&_&&(e.TgZ(0,"th"),e._uU(1),e.qZA()),2&_){const T=e.oxw();e.uIk("colSpan",T.affinityColIndices.length),e.xp6(1),e.Oqu(T.langEn?"Affinities":"\u30b9\u30ad\u30eb\u9069\u6b63")}}function m(_,R){1&_&&(e.TgZ(0,"th",5),e._uU(1,"Enemy"),e.qZA())}function u(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"th",2),e.NdJ("click",function(){e.CHM(T);const d=e.oxw();return e.KtG(d.nextSortFunIndex(4))}),e._uU(1,"Inherits"),e.qZA()}if(2&_){const T=e.oxw();e.Q6J("ngClass",T.sortDirClass(4))}}function h(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"th",6),e.NdJ("click",function(){const J=e.CHM(T).$implicit,j=e.oxw();return e.KtG(j.nextSortFunIndex(J.index))}),e._uU(1),e.qZA()}if(2&_){const T=R.$implicit;e.xp6(1),e.hij(" ",T.stat," ")}}function v(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"th",6),e.NdJ("click",function(){const J=e.CHM(T).$implicit,j=e.oxw();return e.KtG(j.nextSortFunIndex(J.index))}),e._UZ(1,"div"),e.qZA()}if(2&_){const T=R.$implicit;e.xp6(1),e.Gre("element-icon ",T.elem,"")}}function g(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"th",6),e.NdJ("click",function(){const J=e.CHM(T).$implicit,j=e.oxw();return e.KtG(j.nextSortFunIndex(J.index))}),e._UZ(1,"div"),e.qZA()}if(2&_){const T=R.$implicit;e.xp6(1),e.Gre("element-icon ",T.elem,"")}}function E(_,R){1&_&&(e.TgZ(0,"th"),e._uU(1,"Drops"),e.qZA())}function F(_,R){1&_&&(e.TgZ(0,"th"),e._uU(1,"Appears"),e.qZA())}let P=(()=>{var _;class R extends t.j{constructor(){super(...arguments),this.isEnemy=!1,this.isPersona=!1,this.hasInherits=!1,this.langEn=!0,this.statHeaders=[],this.resistHeaders=[],this.affinityHeaders=[],this.statColIndices=[],this.resistColIndices=[],this.reslvlColIndices=[],this.affinityColIndices=[]}ngOnInit(){this.nextColIndices()}nextColIndices(){let S=this.hasInherits?5:4;this.statHeaders&&(this.statColIndices=this.statHeaders.map((d,J)=>({stat:d,index:J+S})),S+=this.statHeaders.length),this.resistHeaders&&(this.resistColIndices=this.resistHeaders.map((d,J)=>({elem:d,index:J+S})),S+=this.resistHeaders.length),this.affinityHeaders&&(this.affinityColIndices=this.affinityHeaders.map((d,J)=>({elem:d,index:J+S})))}}return(_=R).\u0275fac=function(){let T;return function(d){return(T||(T=e.n5z(_)))(d||_)}}(),_.\u0275cmp=e.Xpm({type:_,selectors:[["tfoot",8,"app-demon-list-header"]],inputs:{isEnemy:"isEnemy",isPersona:"isPersona",hasInherits:"hasInherits",langEn:"langEn",statHeaders:"statHeaders",resistHeaders:"resistHeaders",affinityHeaders:"affinityHeaders"},features:[e.qOj],attrs:l,decls:23,vars:17,consts:[[4,"ngIf"],["colspan","2",4,"ngIf"],[1,"sortable",3,"ngClass","click"],["class","sortable",3,"ngClass","click",4,"ngIf"],["class","sortable",3,"click",4,"ngFor","ngForOf"],["colspan","2"],[1,"sortable",3,"click"]],template:function(S,d){1&S&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.YNc(3,f,2,2,"th",0),e.YNc(4,r,2,2,"th",0),e.YNc(5,x,2,2,"th",0),e.YNc(6,m,2,0,"th",1),e.qZA(),e.TgZ(7,"tr")(8,"th",2),e.NdJ("click",function(){return d.nextSortFunIndex(1)}),e.TgZ(9,"span"),e._uU(10),e.qZA()(),e.TgZ(11,"th",2),e.NdJ("click",function(){return d.nextSortFunIndex(2)}),e.TgZ(12,"span"),e._uU(13,"Lvl"),e.qZA()(),e.TgZ(14,"th",2),e.NdJ("click",function(){return d.nextSortFunIndex(3)}),e.TgZ(15,"span"),e._uU(16),e.qZA()(),e.YNc(17,u,2,1,"th",3),e.YNc(18,h,2,1,"th",4),e.YNc(19,v,2,3,"th",4),e.YNc(20,g,2,3,"th",4),e.YNc(21,E,2,0,"th",0),e.YNc(22,F,2,0,"th",0),e.qZA()),2&S&&(e.xp6(1),e.uIk("colSpan",d.hasInherits?4:3),e.xp6(1),e.Oqu(d.langEn?d.isPersona?"Persona":"Demon":"\u60aa\u9b54"),e.xp6(1),e.Q6J("ngIf",d.statColIndices.length),e.xp6(1),e.Q6J("ngIf",d.resistColIndices.length),e.xp6(1),e.Q6J("ngIf",d.affinityColIndices.length),e.xp6(1),e.Q6J("ngIf",d.isEnemy),e.xp6(2),e.Q6J("ngClass",d.sortDirClass(1)),e.xp6(2),e.Oqu(d.langEn?"Race":"\u7a2e\u65cf"),e.xp6(1),e.Q6J("ngClass",d.sortDirClass(2)),e.xp6(3),e.Q6J("ngClass",d.sortDirClass(3)),e.xp6(2),e.Oqu(d.langEn?"Name":"\u60aa\u9b54\u540d"),e.xp6(1),e.Q6J("ngIf",d.hasInherits),e.xp6(1),e.Q6J("ngForOf",d.statColIndices),e.xp6(1),e.Q6J("ngForOf",d.resistColIndices),e.xp6(1),e.Q6J("ngForOf",d.affinityColIndices),e.xp6(1),e.Q6J("ngIf",d.isEnemy),e.xp6(1),e.Q6J("ngIf",d.isEnemy))},dependencies:[c.mk,c.sg,c.O5],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0}),R})();const w=["class","app-smt-demon-list-row"];function A(_,R){if(1&_&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"lvlToNumber"),e.qZA()),2&_){const T=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,T.data.lvl))}}function M(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"button",8),e.NdJ("click",function(){e.CHM(T);const d=e.oxw(2);return e.KtG(d.updateCurrRange())}),e._uU(1),e.qZA()}if(2&_){const T=e.oxw(2);e.xp6(1),e.Oqu(T.data.currLvl)}}function N(_,R){if(1&_&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&_){const T=R.index,S=e.oxw(3);e.Q6J("value",T+S.currOffset),e.xp6(1),e.Oqu(T+S.currOffset)}}function H(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"select",9),e.NdJ("change",function(d){e.CHM(T);const J=e.oxw(2);return e.KtG(J.emitValidLvl(d))}),e.TgZ(1,"option",10),e._uU(2),e.qZA(),e.YNc(3,N,2,2,"option",11),e.qZA()}if(2&_){const T=e.oxw(2);e.xp6(1),e.Q6J("value",T.data.currLvl),e.xp6(1),e.Oqu(T.data.currLvl),e.xp6(1),e.Q6J("ngForOf",T.currRange)}}function U(_,R){if(1&_&&(e.TgZ(0,"td",5),e.YNc(1,M,2,1,"button",6),e.YNc(2,H,4,3,"select",7),e.qZA()),2&_){const T=e.oxw();e.xp6(1),e.Q6J("ngIf",!T.currOffset),e.xp6(1),e.Q6J("ngIf",T.currOffset)}}function b(_,R){if(1&_&&(e.TgZ(0,"td")(1,"div"),e._uU(2),e.qZA()()),2&_){const T=e.oxw();e.xp6(1),e.Gre("element-icon i",T.data.inherits,""),e.xp6(1),e.Oqu(T.data.inherits)}}function Q(_,R){if(1&_&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&_){const T=R.$implicit;e.xp6(1),e.Oqu(T)}}function q(_,R){if(1&_&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToString"),e.qZA()),2&_){const T=R.$implicit;e.Gre("resists ",e.lcZ(1,4,T),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,T)," ")}}function W(_,R){if(1&_&&(e.ynx(0),e.YNc(1,q,4,8,"td",12),e.BQk()),2&_){const T=e.oxw();e.xp6(1),e.Q6J("ngForOf",T.data.resists)}}function C(_,R){if(1&_&&(e.TgZ(0,"td"),e.ALo(1,"reslvlToString"),e._uU(2),e.ALo(3,"reslvlToStringJa"),e.qZA()),2&_){const T=R.$implicit;e.Gre("resists ",e.lcZ(1,4,T),""),e.xp6(2),e.hij(" ",e.lcZ(3,6,T)," ")}}function y(_,R){if(1&_&&(e.ynx(0),e.YNc(1,C,4,8,"td",12),e.BQk()),2&_){const T=e.oxw();e.xp6(1),e.Q6J("ngForOf",T.data.resists)}}function D(_,R){if(1&_&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"affinityToString"),e.qZA()),2&_){const T=R.$implicit;e.Gre("affinity",T,""),e.xp6(1),e.hij(" ",e.lcZ(2,4,T)," ")}}function Z(_,R){if(1&_&&(e.ynx(0),e.YNc(1,D,3,6,"td",12),e.BQk()),2&_){const T=e.oxw();e.xp6(1),e.Q6J("ngForOf",T.data.affinities)}}function k(_,R){if(1&_&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&_){const T=e.oxw();e.xp6(1),e.Oqu(T.data.drop)}}function Y(_,R){if(1&_&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&_){const T=e.oxw();e.xp6(1),e.Oqu(T.data.area)}}const K=function(_){return["align",_]},G=function(_,R){return{special:_,exception:R}};function $(_,R){if(1&_){const T=e.EpF();e.TgZ(0,"tr",7),e.NdJ("currLvl",function(d){const j=e.CHM(T).$implicit,V=e.oxw();return e.KtG(V.lvlChanged.emit({demon:j.name,currLvl:d}))}),e.qZA()}if(2&_){const T=R.$implicit,S=e.oxw();e.Q6J("isEnemy",S.isEnemy)("hasCurrLvl",S.hasCurrLvl)("hasInherits",!!S.inheritOrder)("hasAffinity",!!S.affinityHeaders)("langEn",S.langEn)("ngClass",e.WLB(7,G,"special"===T.fusion,"special"!==T.fusion&&"normal"!==T.fusion))("data",T)}}let z=(()=>{var _;class R{constructor(){this.isEnemy=!1,this.hasCurrLvl=!1,this.hasInherits=!1,this.hasAffinity=!1,this.langEn=!0,this.currLvl=new e.vpe,this.currOffset=0,this.currRange=Array(0)}updateCurrRange(){0===this.currOffset&&(this.currOffset=Math.floor(this.data.lvl),this.currRange=Array(100-this.currOffset))}emitValidLvl(S){const d=parseInt(S.target.value,10);this.data.currLvl!==d&&0<d&&d<100&&Number.isInteger(d)&&(this.data.currLvl=d,this.currLvl.emit(d))}}return(_=R).\u0275fac=function(S){return new(S||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["tr",8,"app-smt-demon-list-row"]],inputs:{isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",hasInherits:"hasInherits",hasAffinity:"hasAffinity",langEn:"langEn",data:"data"},outputs:{currLvl:"currLvl"},attrs:w,decls:14,vars:15,consts:[[3,"ngClass"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"routerLink"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[3,"click",4,"ngIf"],[3,"change",4,"ngIf"],[3,"click"],[3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"class",4,"ngFor","ngForOf"]],template:function(S,d){1&S&&(e.TgZ(0,"td",0),e._uU(1),e.qZA(),e.YNc(2,A,3,3,"td",1),e.YNc(3,U,3,2,"td",2),e.TgZ(4,"td")(5,"a",3),e._uU(6),e.qZA()(),e.YNc(7,b,3,4,"td",1),e.YNc(8,Q,2,1,"td",4),e.YNc(9,W,2,1,"ng-container",1),e.YNc(10,y,2,1,"ng-container",1),e.YNc(11,Z,2,1,"ng-container",1),e.YNc(12,k,2,1,"td",1),e.YNc(13,Y,2,1,"td",1)),2&S&&(e.Q6J("ngClass",e.VKq(13,K,d.data.align?d.data.align:"none")),e.xp6(1),e.Oqu(d.data.race),e.xp6(1),e.Q6J("ngIf",!d.hasCurrLvl),e.xp6(1),e.Q6J("ngIf",d.hasCurrLvl),e.xp6(2),e.s9C("routerLink",d.data.name),e.xp6(1),e.Oqu(d.data.name),e.xp6(1),e.Q6J("ngIf",d.hasInherits),e.xp6(1),e.Q6J("ngForOf",d.data.stats),e.xp6(1),e.Q6J("ngIf",d.langEn),e.xp6(1),e.Q6J("ngIf",!d.langEn),e.xp6(1),e.Q6J("ngIf",d.hasAffinity),e.xp6(1),e.Q6J("ngIf",d.isEnemy),e.xp6(1),e.Q6J("ngIf",d.isEnemy))},dependencies:[c.mk,c.sg,c.O5,a.rH,i.YN,i.Kr,n.JZ,n.Yk,n.LG,n.Vk],encapsulation:2,changeDetection:0}),R})(),X=(()=>{var _;class R extends L{constructor(){super(...arguments),this.isPersona=!1,this.isEnemy=!1,this.hasCurrLvl=!1,this.langEn=!0,this.lvlChanged=new e.vpe}}return(_=R).\u0275fac=function(){let T;return function(d){return(T||(T=e.n5z(_)))(d||_)}}(),_.\u0275cmp=e.Xpm({type:_,selectors:[["app-smt-demon-list"]],inputs:{isPersona:"isPersona",isEnemy:"isEnemy",hasCurrLvl:"hasCurrLvl",langEn:"langEn"},outputs:{lvlChanged:"lvlChanged"},features:[e._Bn([O.L]),e.qOj],decls:8,vars:18,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-demon-list-header","sticky-header",3,"isPersona","isEnemy","langEn","hasInherits","statHeaders","resistHeaders","affinityHeaders","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-demon-list-header",3,"isPersona","isEnemy","langEn","hasInherits","statHeaders","resistHeaders","affinityHeaders"],["hiddenHeader",""],["class","app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","langEn","ngClass","data","currLvl",4,"ngFor","ngForOf"],[1,"app-smt-demon-list-row",3,"isEnemy","hasCurrLvl","hasInherits","hasAffinity","langEn","ngClass","data","currLvl"]],template:function(S,d){1&S&&(e.TgZ(0,"table",0)(1,"tfoot",1,2),e.NdJ("sortFunIndexChanged",function(j){return d.sortFunIndex=j}),e.qZA()(),e.TgZ(3,"table",3),e._UZ(4,"tfoot",4,5),e.TgZ(6,"tbody"),e.YNc(7,$,1,10,"tr",6),e.qZA()()),2&S&&(e.xp6(1),e.Q6J("isPersona",d.isPersona)("isEnemy",d.isEnemy)("langEn",d.langEn)("hasInherits",!!d.inheritOrder)("statHeaders",d.statHeaders)("resistHeaders",d.resistHeaders)("affinityHeaders",d.affinityHeaders)("sortFunIndex",d.sortFunIndex),e.xp6(3),e.Udp("visibility","collapse"),e.Q6J("isPersona",d.isPersona)("isEnemy",d.isEnemy)("langEn",d.langEn)("hasInherits",!!d.inheritOrder)("statHeaders",d.statHeaders)("resistHeaders",d.resistHeaders)("affinityHeaders",d.affinityHeaders),e.xp6(3),e.Q6J("ngForOf",d.rowData))},dependencies:[c.mk,c.sg,s.v,o.X,P,z],encapsulation:2,changeDetection:0}),R})()},3934:(B,I,p)=>{p.d(I,{J:()=>W,W:()=>q});var e=p(3247),O=p(9217),t=p(4769);let L=(()=>{var C;class y extends O.D{constructor(){super(...arguments),this.sortFuns=[]}ngOnInit(){this.nextSortFuns()}ngAfterViewChecked(){this.matchColWidths()}nextSortFuns(){this.sortFuns=[(Z,k)=>1e4*(this.elemOrder[Z.element]-this.elemOrder[k.element])+Z.rank-k.rank,(Z,k)=>1e4*(this.elemOrder[Z.element]-this.elemOrder[k.element])+Z.rank-k.rank,(Z,k)=>Z.name.localeCompare(k.name),(Z,k)=>k.cost-Z.cost,(Z,k)=>Z.rank-k.rank],this.inheritOrder&&this.sortFuns.push((Z,k)=>this.inheritOrder[Z.inherit]-this.inheritOrder[k.inherit])}getSortFun(Z){return this.sortFuns[Z]}}return(C=y).\u0275fac=function(){let D;return function(k){return(D||(D=t.n5z(C)))(k||C)}}(),C.\u0275dir=t.lG2({type:C,inputs:{elemOrder:"elemOrder",inheritOrder:"inheritOrder"},features:[t.qOj]}),y})();var c=p(6814),a=p(4487),i=p(2173),n=p(3808),s=p(5068);const o=["class","app-skill-list-header"];function l(C,y){if(1&C&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&C){const D=t.oxw();t.xp6(1),t.Oqu(D.langEn?"Target":"\u7bc4\u56f2")}}function f(C,y){if(1&C){const D=t.EpF();t.TgZ(0,"th",0),t.NdJ("click",function(){t.CHM(D);const k=t.oxw();return t.KtG(k.nextSortFunIndex(4))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&C){const D=t.oxw();t.Q6J("ngClass",D.sortDirClass(4)),t.xp6(2),t.Oqu(D.langEn?"Rank":"\u30e9\u30f3\u30af")}}function r(C,y){if(1&C){const D=t.EpF();t.TgZ(0,"th",0),t.NdJ("click",function(){t.CHM(D);const k=t.oxw();return t.KtG(k.nextSortFunIndex(5))}),t.TgZ(1,"span"),t._uU(2,"Inherit"),t.qZA()()}if(2&C){const D=t.oxw();t.Q6J("ngClass",D.sortDirClass(5))}}function x(C,y){if(1&C&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&C){const D=t.oxw();t.xp6(1),t.Oqu(D.transferTitle)}}let m=(()=>{var C;class y extends O.j{constructor(){super(...arguments),this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.langEn=!0,this.transferTitle="",this.skillHeaderLen=4,this.acquireHeaderLen=1}ngOnInit(){this.nextColIndices()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1),this.transferTitle&&(this.acquireHeaderLen+=1)}}return(C=y).\u0275fac=function(){let D;return function(k){return(D||(D=t.n5z(C)))(k||C)}}(),C.\u0275cmp=t.Xpm({type:C,selectors:[["tfoot",8,"app-skill-list-header"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",langEn:"langEn",transferTitle:"transferTitle"},features:[t.qOj],attrs:o,decls:23,vars:16,consts:[[1,"sortable",3,"ngClass","click"],[4,"ngIf"],["class","sortable",3,"ngClass","click",4,"ngIf"]],template:function(Z,k){1&Z&&(t.TgZ(0,"tr")(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA()(),t.TgZ(5,"tr")(6,"th",0),t.NdJ("click",function(){return k.nextSortFunIndex(1)}),t.TgZ(7,"span"),t._uU(8),t.qZA()(),t.TgZ(9,"th",0),t.NdJ("click",function(){return k.nextSortFunIndex(2)}),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"th",0),t.NdJ("click",function(){return k.nextSortFunIndex(3)}),t.TgZ(13,"span"),t._uU(14),t.qZA()(),t.TgZ(15,"th"),t._uU(16),t.qZA(),t.YNc(17,l,2,1,"th",1),t.YNc(18,f,3,2,"th",2),t.YNc(19,r,3,1,"th",2),t.TgZ(20,"th"),t._uU(21),t.qZA(),t.YNc(22,x,2,1,"th",1),t.qZA()),2&Z&&(t.xp6(1),t.uIk("colSpan",k.skillHeaderLen),t.xp6(1),t.Oqu(k.langEn?"Skill":"\u30b9\u30ad\u30eb"),t.xp6(1),t.uIk("colSpan",k.acquireHeaderLen),t.xp6(1),t.Oqu(k.langEn?"How To Acquire":"\u60aa\u9b54"),t.xp6(2),t.Q6J("ngClass",k.sortDirClass(1)),t.xp6(2),t.Oqu(k.langEn?"Elem":"\u5c5e\u6027"),t.xp6(1),t.Q6J("ngClass",k.sortDirClass(2)),t.xp6(2),t.Oqu(k.langEn?"Name":"\u30b9\u30ad\u30eb\u540d"),t.xp6(1),t.Q6J("ngClass",k.sortDirClass(3)),t.xp6(2),t.Oqu(k.langEn?"Cost":"\u6d88\u8cbb"),t.xp6(2),t.Oqu(k.langEn?"Effect":"\u8aac\u660e"),t.xp6(1),t.Q6J("ngIf",k.hasTarget),t.xp6(1),t.Q6J("ngIf",k.hasRank),t.xp6(1),t.Q6J("ngIf",k.hasInherit),t.xp6(2),t.Oqu(k.langEn?"Learned By":"\u7fd2\u5f97"),t.xp6(1),t.Q6J("ngIf",k.transferTitle))},dependencies:[c.mk,c.O5],styles:["th[_ngcontent-%COMP%]{white-space:nowrap}span[_ngcontent-%COMP%]{padding-right:.6em}"],changeDetection:0}),y})();const u=["class","app-smt-skill-list-row"];function h(C,y){if(1&C&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&C){const D=t.oxw();t.xp6(1),t.HOy(" ",D.data.damage," ",D.data.element," damage",D.data.hits?" x"+D.data.hits:"","",D.data.effect?", "+D.data.effect:""," ")}}function v(C,y){if(1&C&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&C){const D=t.oxw();t.xp6(1),t.Oqu(D.data.effect)}}function g(C,y){if(1&C&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()()),2&C){const D=t.oxw();t.xp6(1),t.Gre("target-icon a",D.data.target||"Self",""),t.xp6(1),t.Oqu(D.data.target||"Self")}}function E(C,y){if(1&C&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&C){const D=t.oxw();t.Udp("color",99!==D.data.rank?null:"transparent"),t.xp6(1),t.Oqu(D.data.rank)}}function F(C,y){if(1&C&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()()),2&C){const D=t.oxw();t.xp6(1),t.Gre("element-icon ",D.data.inherit.toLowerCase(),""),t.xp6(1),t.Oqu(D.data.inherit)}}function P(C,y){if(1&C&&(t.TgZ(0,"td",3),t._uU(1),t.ALo(2,"skillLevelToString"),t.qZA()),2&C){const D=t.oxw();t.Q6J("ngClass","lvl"+D.data.level.toString()),t.xp6(1),t.Oqu(t.lcZ(2,2,D.data.level))}}function w(C,y){if(1&C&&(t.TgZ(0,"li")(1,"a",6),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"skillLevelToShortString"),t.qZA()),2&C){const D=y.$implicit,Z=t.oxw(2);t.xp6(1),t.hYB("routerLink","../",Z.isPersona?"personas":"demons","/",D.demon,""),t.xp6(1),t.Oqu(D.demon),t.xp6(1),t.hij(" ",t.lcZ(4,4,D.level)," ")}}function A(C,y){if(1&C&&(t.TgZ(0,"td")(1,"ul",4),t.YNc(2,w,5,6,"li",5),t.qZA()()),2&C){const D=t.oxw();t.xp6(2),t.Q6J("ngForOf",D.data.learnedBy)}}function M(C,y){if(1&C&&(t.ynx(0),t.TgZ(1,"a",6),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"skillLevelToShortString"),t.BQk()),2&C){const D=t.oxw().$implicit,Z=t.oxw(2);t.xp6(1),t.hYB("routerLink","../",Z.hasSkillCards?"personas":"demons","/",D.demon,""),t.xp6(1),t.Oqu(D.demon),t.xp6(1),t.hij(" ",t.lcZ(4,4,D.level)," ")}}function N(C,y){if(1&C&&(t.ynx(0),t._uU(1),t.BQk()),2&C){const D=t.oxw().$implicit;t.xp6(1),t.hij("",D.demon," ")}}function H(C,y){if(1&C&&(t.TgZ(0,"li"),t.YNc(1,M,5,6,"ng-container",0),t.YNc(2,N,2,1,"ng-container",0),t.qZA()),2&C){const D=y.$implicit;t.xp6(1),t.Q6J("ngIf",D.level>=-99),t.xp6(1),t.Q6J("ngIf",D.level<-99)}}function U(C,y){if(1&C&&(t.TgZ(0,"td")(1,"ul",4),t.YNc(2,H,3,2,"li",5),t.qZA()()),2&C){const D=t.oxw();t.xp6(2),t.Q6J("ngForOf",D.data.transfer)}}const b=function(C,y){return{extra:C,unique:y}};function Q(C,y){if(1&C&&t._UZ(0,"tr",7),2&C){const D=y.$implicit,Z=t.oxw();t.Q6J("hasInherit",!!Z.inheritOrder)("hasTarget",Z.hasTarget)("hasRank",Z.hasRank)("isPersona",Z.isPersona)("hasTransferTitle",!!Z.transferTitle)("hasSkillCards",Z.transferTitle.includes("Card"))("data",D)("ngClass",t.WLB(8,b,D.rank>70&&D.rank<90,D.rank>90))}}let q=(()=>{var C;class y{constructor(){this.hasInherit=!1,this.hasTarget=!0,this.hasRank=!0,this.hasLearned=!0,this.hasLvl=!1,this.isPersona=!1,this.hasTransferTitle=!1,this.hasSkillCards=!1}}return(C=y).\u0275fac=function(Z){return new(Z||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["tr",8,"app-smt-skill-list-row"]],inputs:{hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLearned:"hasLearned",hasLvl:"hasLvl",isPersona:"isPersona",hasTransferTitle:"hasTransferTitle",hasSkillCards:"hasSkillCards",data:"data"},attrs:u,decls:16,vars:18,consts:[[4,"ngIf"],[3,"color",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"comma-list"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(Z,k){1&Z&&(t.TgZ(0,"td")(1,"div"),t._uU(2),t.qZA()(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"skillCostToString"),t.qZA(),t.YNc(8,h,2,4,"td",0),t.YNc(9,v,2,1,"td",0),t.YNc(10,g,3,4,"td",0),t.YNc(11,E,2,3,"td",1),t.YNc(12,F,3,4,"td",0),t.YNc(13,P,3,4,"td",2),t.YNc(14,A,3,1,"td",0),t.YNc(15,U,3,1,"td",0)),2&Z&&(t.xp6(1),t.Gre("element-icon ",k.data.element,""),t.xp6(1),t.Oqu(k.data.element),t.xp6(2),t.Oqu(k.data.name),t.xp6(1),t.Udp("color",k.data.cost?null:"transparent"),t.xp6(1),t.Oqu(t.lcZ(7,16,k.data.cost)),t.xp6(2),t.Q6J("ngIf",k.data.damage),t.xp6(1),t.Q6J("ngIf",!k.data.damage),t.xp6(1),t.Q6J("ngIf",k.hasTarget),t.xp6(1),t.Q6J("ngIf",k.hasRank),t.xp6(1),t.Q6J("ngIf",k.data.inherit),t.xp6(1),t.Q6J("ngIf",k.hasLvl),t.xp6(1),t.Q6J("ngIf",k.hasLearned),t.xp6(1),t.Q6J("ngIf",k.hasTransferTitle))},dependencies:[c.mk,c.sg,c.O5,a.rH,i.tq,i.Lu,i.b0],encapsulation:2,changeDetection:0}),y})(),W=(()=>{var C;class y extends L{constructor(){super(...arguments),this.hasTarget=!1,this.hasRank=!0,this.isPersona=!1,this.langEn=!0,this.transferTitle=""}}return(C=y).\u0275fac=function(){let D;return function(k){return(D||(D=t.n5z(C)))(k||C)}}(),C.\u0275cmp=t.Xpm({type:C,selectors:[["app-smt-skill-list"]],inputs:{hasTarget:"hasTarget",hasRank:"hasRank",isPersona:"isPersona",langEn:"langEn",transferTitle:"transferTitle"},features:[t._Bn([e.L]),t.qOj],decls:8,vars:14,consts:[["appPositionSticky","",1,"list-table"],["appColumnWidths","",1,"app-skill-list-header","sticky-header",3,"hasInherit","hasTarget","hasRank","langEn","transferTitle","sortFunIndex","sortFunIndexChanged"],["stickyHeader",""],[1,"list-table"],["appColumnWidths","",1,"app-skill-list-header",3,"hasInherit","hasTarget","hasRank","langEn","transferTitle"],["hiddenHeader",""],["class","app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasInherit","hasTarget","hasRank","isPersona","hasTransferTitle","hasSkillCards","data","ngClass"]],template:function(Z,k){1&Z&&(t.TgZ(0,"table",0)(1,"tfoot",1,2),t.NdJ("sortFunIndexChanged",function(K){return k.sortFunIndex=K}),t.qZA()(),t.TgZ(3,"table",3),t._UZ(4,"tfoot",4,5),t.TgZ(6,"tbody"),t.YNc(7,Q,1,11,"tr",6),t.qZA()()),2&Z&&(t.xp6(1),t.Q6J("hasInherit",!!k.inheritOrder)("hasTarget",k.hasTarget)("hasRank",k.hasRank)("langEn",k.langEn)("transferTitle",k.transferTitle)("sortFunIndex",k.sortFunIndex),t.xp6(3),t.Udp("visibility","collapse"),t.Q6J("hasInherit",!!k.inheritOrder)("hasTarget",k.hasTarget)("hasRank",k.hasRank)("langEn",k.langEn)("transferTitle",k.transferTitle),t.xp6(3),t.Q6J("ngForOf",k.rowData))},dependencies:[c.mk,c.sg,n.v,s.X,m,q],encapsulation:2,changeDetection:0}),y})()},7548:(B,I,p)=>{p.d(I,{Bz:()=>F,I7:()=>r,Ir:()=>m,Q0:()=>h,RD:()=>P,YP:()=>u,nL:()=>w,oA:()=>g,uC:()=>v,vE:()=>x,wC:()=>E});var e=p(4769),O=p(3837),t=p(1139),L=p(923),c=p(7862),a=p(2416),i=p(9015),n=p(6361),s=p(7293),o=p(6213),l=p(6071),f=p(6748);const r=new e.OlP("compendium.config"),x=new e.OlP("fusion.data.service"),m=new e.OlP("fusion.trio.service"),u=new O.N([t.ne,t.e7,t.Co],[L.Eh,L.s0,L.wy]),h=new O.N([t.ne,t.e7,t.Co,i.c],[L.Eh,L.s0,L.wy]),v=new O.N([c.Mg,c.Ii,c.Aq,c.z1],[a.Q]),g=new O.N([c.Mg,c.Ii,c.Aq,i.f],[a.Q]),E=new O.N([t.ne,n.e],[]),F=new O.N([c.Mg,s.L],[]),P=new o.e([l.jm,l.UN,l.e7],[]),w=new o.e([f.Mg,f.Ln,f._K],[]);!function A(H){const U={};for(let b=0;b<H.length;b++)U[H[b]]=b}(["wk","no","rs","st","nu","rp","dr","ab"])},1032:(B,I,p)=>{p.d(I,{l:()=>t});var e=p(5592),O=p(4769);let t=(()=>{var L;class c{constructor(i,n,s){this.title2=i,this.changeDetectorRef=n,this.fusionDataService2=s,this.subscriptions=[],this.appName="List of Demons - Megami Tensei Fusion Tools",this.initListLen=50,this.showAllies=!0,this.showEnemies=!1,this.defaultSortFun=(o,l)=>o.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const i of this.subscriptions)i.unsubscribe()}onCompendiumUpdated(i){this.changeDetectorRef.markForCheck(),this.demons=e.y.create(n=>{let s=i.allDemons;this.showAllies||(s=s.filter(o=>o.isEnemy)),this.showEnemies||(s=s.filter(o=>!o.isEnemy)),s.sort(this.defaultSortFun),n.next(s.slice(0,this.initListLen)),setTimeout(()=>n.next(s))})}}return(L=c).\u0275fac=function(i){O.$Z()},L.\u0275dir=O.lG2({type:L}),c})()},4330:(B,I,p)=>{p.d(I,{e:()=>t});var e=p(5592),O=p(4769);let t=(()=>{var L;class c{constructor(i,n,s){this.title2=i,this.changeDetectorRef2=n,this.fusionDataService2=s,this.subscriptions=[],this.initListLen=50,this.appName="List of Skills - Test App",this.defaultSortFun=(o,l)=>o.name.localeCompare(l.name)}ngOnInit(){this.title2.setTitle(this.appName),this.subscriptions.push(this.fusionDataService2.compendium.subscribe(this.onCompendiumUpdated.bind(this)))}ngOnDestroy(){for(const i of this.subscriptions)i.unsubscribe()}onCompendiumUpdated(i){this.changeDetectorRef2.markForCheck(),this.skills=e.y.create(n=>{const s=i.allSkills;s.sort(this.defaultSortFun),n.next(s.slice(0,this.initListLen)),setTimeout(()=>n.next(s))})}}return(L=c).\u0275fac=function(i){O.$Z()},L.\u0275dir=O.lG2({type:L}),c})()},7293:(B,I,p)=>{function e(O,t,L){const{race:c,lvl:a}=t.getDemon(O),i=[];if(t.getSpecialNameEntries(O).length)return i;const n=t.getResultDemonLvls(c),s=n.indexOf(a),l=2*(a-1),f=n[s+1]?2*(n[s+1]-1):200,r=n[s+2]?2*(n[s+2]-1):200,x=t.getIngredientDemonLvls(c).filter(u=>u!==a),m=f/2+1;for(const u of x)m<u&&m+u<r&&i.push({name1:t.reverseLookupDemon(c,m),name2:t.reverseLookupDemon(c,u)});for(let u=0;u<x.length;u++){const h=x[u];for(let v=u+1;v<x.length;v++){const g=x[v];l<=h+g&&h+g<f&&i.push({name1:t.reverseLookupDemon(c,h),name2:t.reverseLookupDemon(c,g)})}}return i}p.d(I,{L:()=>e})},6361:(B,I,p)=>{function e(O,t,L){const c=[],{race:a,lvl:i}=t.getDemon(O),s=t.getIngredientDemonLvls(a).filter(l=>l!==i),o=t.getResultDemonLvls(a).filter(l=>l!==i).map(l=>2*l);for(const l of s){let r=o.reduce((m,u)=>i+l+2>=u?m+1:m,-1);o[r]/2===l&&(r-=1);const x=o[r]/2;x&&c.push({name1:t.reverseLookupDemon(a,l),name2:t.reverseLookupDemon(a,x)})}return c}p.d(I,{e:()=>e})},6748:(B,I,p)=>{p.d(I,{D4:()=>i,Ln:()=>c,Mg:()=>L,_K:()=>a});var e=p(6071),O=p(7862);function t(n,s){if(!s.length)return-1;let o=0;for(const l of s)n>l&&o++;return o===s.length?-1:o}function L(n,s,o){const{normalChart:l,tripleChart:f,raceOrder:r}=o,{race:x,lvl:m}=s.getDemon(n),u=3*f.lvlModifier,h=[],v=s.getResultDemonLvls(x),g=v.indexOf(m);if(-1===g)return h;const E={};for(const[A,M]of Object.entries(f.getRaceFissions(x))){E[A]||(E[A]=[]);for(const N of M)E[N]||(E[N]=[]),A!==N&&E[A].push(N),E[N].push(A)}const F={};for(const[A,M]of Object.entries(E)){F[A]={};for(const N of M)for(const[H,U]of Object.entries(l.getRaceFissions(N)))F[A][H]||(F[A][H]=[]),F[A][H]=F[A][H].concat(U);for(const N of M)A!==N&&(F[A][N]||(F[A][N]=[]),F[A][N].push(N))}const P=v[g-1]?3*v[g-1]-u:0,w=3*m-u;for(const[A,M]of Object.entries(F))for(const N of s.getIngredientDemonLvls(A)){const H=s.reverseLookupDemon(A,N),U=s.getDemon(H).currLvl;if(H!==n){const b=P-N,Q=w-N;for(const[q,W]of Object.entries(M))for(const C of s.getIngredientDemonLvls(q)){const y=s.reverseLookupDemon(q,C),D=s.getDemon(y).currLvl;if(y!==H&&y!==n&&(U>D||U===D&&r[A]<r[q])){const Z=b-C,k=Q-C;for(const Y of W)for(const K of s.getIngredientDemonLvls(Y)){const G=s.reverseLookupDemon(Y,K),$=s.getDemon(G).currLvl;G!==y&&G!==H&&G!==n&&(q!==Y||C<K)&&(U>$||U===$&&r[A]<r[Y])&&Z<K&&K<=k&&h.push({name1:H,name2:y,name3:G})}}}}}return h}function c(n,s,o){const{tripleChart:f}=o,{race:r,lvl:x}=s.getDemon(n),m=f.lvlModifier,u=[],h=s.getIngredientDemonLvls(r).filter(g=>g!==x),v=s.getResultDemonLvls(r);for(let g=0;g<h.length;g++){const E=h[g],F=v.filter(w=>w!==E),P=s.reverseLookupDemon(r,E);for(let w=g+1;w<h.length;w++){const A=h[w],M=F.filter(H=>H!==A),N=s.reverseLookupDemon(r,A);for(let H=w+1;H<h.length;H++){const U=h[H],b=M.filter(C=>C!==U),Q=s.reverseLookupDemon(r,U),W=t((E+A+U)/3+m,b);-1!==W&&b[W]===x&&u.push({name1:P,name2:N,name3:Q})}}}return u}function a(n,s,o){const{race:l,lvl:f}=s.getDemon(n),r=s.getResultDemonLvls(l).slice();if(0<r.indexOf(f)){const x=s.reverseLookupDemon(l,r[r.indexOf(f)-1]);return[].concat((0,e.jm)(x,s,o).filter(u=>u.name3===n),(0,e.UN)(x,s,o).filter(u=>u.name3===n)).map(u=>({name1:u.name1,name2:u.name2,name3:x}))}return[]}function i(n,s,o){return(0,O.Aq)(n,s,o.tripleChart).map(l=>{const[f,r]=l.name2.split(" x ");return{name1:l.name1,name2:f,name3:r}})}},6071:(B,I,p)=>{p.d(I,{Hd:()=>a,UN:()=>L,e7:()=>c,jm:()=>t});var e=p(1139);function O(i,n){if(!n.length)return-1;let s=0;for(const o of n)i>o&&s++;return s===n.length?-1:s}function t(i,n,s){const{normalChart:o,tripleChart:l,raceOrder:f}=s,{race:r,lvl:x,currLvl:m}=n.getDemon(i),u=3*l.lvlModifier,h=[],v=l.getRaceFusions(r),g={};for(const[E,F]of Object.entries(v)){g[E]||(g[E]={}),r!==E&&(g[E][E]=F);for(const[P,w]of Object.entries(o.getRaceFissions(E))){g[P]||(g[P]={});for(const A of w)g[P][A]=F}}for(const[E,F]of Object.entries(g))for(const P of n.getIngredientDemonLvls(E)){const w=n.reverseLookupDemon(E,P),A=n.getDemon(w).currLvl;if(w!==i&&(m>A||m===A&&f[r]<f[E]))for(const[M,N]of Object.entries(F)){const H=n.getResultDemonLvls(N),U=H.map(b=>3*b-u-x-P);for(const b of n.getIngredientDemonLvls(M)){const Q=n.reverseLookupDemon(M,b),q=n.getDemon(Q).currLvl;if(Q!==w&&Q!==i&&(E!==M||P<b)&&(m>q||m===q&&f[r]<f[M]))if(n.isElementDemon(N))h.push({name1:w,name2:Q,name3:N});else{const W=O(b,U);if(-1!==W){const C=n.reverseLookupDemon(N,H[W]);C!==Q&&C!==w&&C!==i?h.push({name1:w,name2:Q,name3:C}):W+1<H.length&&h.push({name1:w,name2:Q,name3:n.reverseLookupDemon(N,H[W+1])})}}}}}return h}function L(i,n,s){const{normalChart:o,tripleChart:l,raceOrder:f}=s,{race:r,lvl:x,currLvl:m}=n.getDemon(i),u=3*l.lvlModifier,h=[],v={};v[r]=Object.assign({},l.getRaceFusions(r)),delete v[r][r];for(const[g,E]of Object.entries(o.getRaceFusions(r)))v[g]=l.getRaceFusions(E);for(const[g,E]of Object.entries(v))for(const F of n.getIngredientDemonLvls(g)){const P=n.reverseLookupDemon(g,F),w=n.getDemon(P).currLvl;if(P!==i)for(const[A,M]of Object.entries(E)){const N=n.getResultDemonLvls(M),H=N.map(U=>3*U-u-x-F);for(const U of n.getIngredientDemonLvls(A)){const b=n.reverseLookupDemon(A,U),Q=n.getDemon(b).currLvl;if(b!==P&&b!==i&&(Q>m||Q===m&&f[A]<f[r])&&(Q>w||Q===w&&f[A]<f[g]))if(n.isElementDemon(M))h.push({name1:P,name2:b,name3:M});else{const q=O(U,H);if(-1!==q){const W=n.reverseLookupDemon(M,N[q]);W!==b&&W!==P&&W!==i?h.push({name1:P,name2:b,name3:W}):q+1<N.length&&h.push({name1:P,name2:b,name3:n.reverseLookupDemon(M,N[q+1])})}}}}}return h}function c(i,n,s){const{tripleChart:l}=s,{race:f,lvl:r}=n.getDemon(i),x=l.getRaceFusions(f)[f],m=[];if(!x)return m;const u=n.getIngredientDemonLvls(f).filter(g=>g!==r),h=n.getResultDemonLvls(f).filter(g=>g!==r),v=l.lvlModifier;for(let g=0;g<u.length;g++){const E=u[g],F=h.filter(w=>w!==E),P=n.reverseLookupDemon(f,E);for(let w=g+1;w<u.length;w++){const A=u[w],M=F.filter(H=>H!==A),N=n.reverseLookupDemon(f,A);if(n.isElementDemon(x))m.push({name1:P,name2:N,name3:x});else{const U=O((E+r+A)/3+v,M);-1!==U&&m.push({name1:P,name2:N,name3:n.reverseLookupDemon(f,M[U])})}}}return m}function a(i,n,s){return(0,e.Co)(i,n,s.tripleChart).map(o=>{const[l,f]=o.name1.split(" x ");return{name1:l,name2:f,name3:o.name2}})}},2416:(B,I,p)=>{function e(O,t,L){const c=t.getSpecialNamePairs(O).slice();for(const[a,i]of Object.entries(L.getRaceFissions(O))){const n=t.getIngredientDemonLvls(a);for(let s=0;s<n.length;s++)for(let o=s+1;o<n.length;o++)c.push({name1:t.reverseLookupDemon(a,n[s]),name2:t.reverseLookupDemon(a,n[o])})}return c}p.d(I,{Q:()=>e})},923:(B,I,p)=>{function e(L,c,a){const i=[];for(const[n,s]of Object.entries(a.getElemFusions(L))){const o=c.getResultDemonLvls(n).filter(r=>r<100),l=s<0?o.slice(-1*s):o.slice(0,-1*s),f=s<0?o.slice(0,s):o.slice(s);for(let r=0;r<l.length;r++)i.push({name1:c.reverseLookupDemon(n,l[r]),name2:c.reverseLookupDemon(n,f[r])})}return i}function O(L,c,a){const i=[],n=a.getElemFusions(L);for(const{race:s,lvl:o,name:l}of c.specialDemons){const f=n[s];if(f){const r=(u,h)=>o>h?u+1:u,x=c.getResultDemonLvls(s).filter(u=>u<100),m=f+x.reduce(r,0);0<m&&m<x.length&&i.push({name1:l,name2:c.reverseLookupDemon(s,x[m])})}}return i}function t(L,c,a){return[]}p.d(I,{Eh:()=>e,s0:()=>O,wy:()=>t})},7862:(B,I,p)=>{function e(c,a,i){const n=[],s=a.getSpecialNamePairs(c);if(s.length>0)if(s[0].name1===s[0].name2)c=s[0].name1;else if(c!==s[0].name1)return s;const{race:o,lvl:l}=a.getDemon(c),f=a.getResultDemonLvls(o),r=f.indexOf(l);if(-1===r)return[];const x=f[r-1]?2*(f[r-1]-i.lvlModifier):0,m=f[r+1]?2*(l-i.lvlModifier):200;for(const[u,h]of Object.entries(i.getRaceFissions(o)))for(const v of a.getIngredientDemonLvls(u)){const g=x-v,E=m-v;for(const F of h)for(const P of a.getIngredientDemonLvls(F))g<P&&P<=E&&(u!=F||v<P)&&n.push({name1:a.reverseLookupDemon(u,v),name2:a.reverseLookupDemon(F,P)})}return n}function O(c,a,i){const n=[],{race:s,lvl:o}=a.getDemon(c),l=Object.keys(i.getRaceFissions(s)).find(v=>"2"===v.charAt(0));if(!l)return n;const f=l.substring(1),r=a.getResultDemonLvls(f),x=r.indexOf(o);if(-1===x)return n;const m=r[x-2]||0,u=r[x-1]||0,h=r[x+1]?2*o:200;for(const[v,g]of Object.entries(i.getRaceFissions(f)))for(const E of a.getIngredientDemonLvls(v).filter(F=>F!==o))for(const F of g)for(const P of a.getIngredientDemonLvls(F).filter(w=>w!==o)){const A=E+P+i.lvlModifier;2*(E===u||P===u?m:u)<A&&A<=h&&n.push({name1:a.reverseLookupDemon(v,E),name2:a.reverseLookupDemon(F,P)})}return n}function t(c,a,i){const{race:n,lvl:s}=a.getDemon(c),o=[],l=i.getElemModifiers(n),f=Object.keys(l).map(m=>parseInt(m,10));if(a.getSpecialNamePairs(c).length||!f.length)return o;const r=[0,0].concat(a.getResultDemonLvls(n),[100,100]),x=[];for(const m of a.getIngredientDemonLvls(n)){const u=r.slice();u.indexOf(m)<0&&(u.push(m),u.sort((v,g)=>v-g));const h=u.indexOf(m);for(const v of f)u[h+v]===s&&x.push({ingName:a.reverseLookupDemon(n,m),elementOffset:v})}for(const m of x)for(const u of l[m.elementOffset])o.push({name1:m.ingName,name2:u});return o}function L(c,a,i){const n=[],s=a.getSpecialNamePairs(c);if(0===s.length||c!==s[0].name1)return n;const o=a.getDemon(s[0].name2).race;for(const[l,f]of Object.entries(i.getRaceFissions(o)))for(const r of a.getIngredientDemonLvls(l))for(const x of f)for(const m of a.getIngredientDemonLvls(x))n.push({name1:a.reverseLookupDemon(l,r),name2:a.reverseLookupDemon(x,m)});return n}p.d(I,{Aq:()=>t,Ii:()=>O,Mg:()=>e,z1:()=>L})},1139:(B,I,p)=>{function e(c,a){if(!a.length)return-1;let i=0;for(const n of a)c>n&&i++;return i===a.length?i-1:i}function O(c,a,i){const n=[],{race:s,lvl:o}=a.getDemon(c);for(const[l,f]of Object.entries(i.getRaceFusions(s))){const r=a.getResultDemonLvls(f),x=r.map(m=>2*(m-i.lvlModifier)-o);for(const m of a.getIngredientDemonLvls(l)){const u=e(m,x);if(-1!==u&&100!==r[u]&&(s!=l||o!=m)){const h=a.reverseLookupDemon(f,r[u]);n.push(h===c&&u+1<r.length?{name1:a.reverseLookupDemon(l,m),name2:a.reverseLookupDemon(f,r[u+1])}:{name1:a.reverseLookupDemon(l,m),name2:h})}}}for(const l of a.reverseLookupSpecial(c)){const f=a.getSpecialNameEntries(l);if(2===f.length){const r=f[0]===c?f[1]:f[0];for(const x of n)x.name1===r&&(x.name2=l)}}return n}function t(c,a,i){const{race:n,lvl:s}=a.getDemon(c),o=i.getRaceFusions(n)[n],l=a.getIngredientDemonLvls(n).filter(r=>r!==s),f=[];if(o&&a.isElementDemon(o))for(const r of l)f.push({name1:a.reverseLookupDemon(n,r),name2:o});return f}function L(c,a,i){const n=[],{race:s,lvl:o}=a.getDemon(c),l=[0,0].concat(a.getResultDemonLvls(s),[100,100]);l.indexOf(o)<0&&(l.push(o),l.sort((m,u)=>m-u));const f=l.indexOf(o),r=i.getElemModifiers(s),x=Object.keys(r).map(m=>parseInt(m,10));for(const m of x){const u=l[f+m];if(0!==u&&100!==u){const h=a.reverseLookupDemon(s,u);for(const v of r[m])n.push({name1:v,name2:h})}}return n}p.d(I,{Co:()=>L,e7:()=>t,ne:()=>O})},9015:(B,I,p)=>{function e(t,L,c){const{race:a,lvl:i}=L.getDemon(t),n=[0,0].concat(L.getResultDemonLvls(a),[100,100]),s=n.indexOf(i),o=[];if(c.getLightDark(a)<0||-1===s)return o;const l=n[s-2],f=n[s-1],r=n[s+1],x=0!==l?L.reverseLookupDemon(a,l):"",m=0!==f?L.reverseLookupDemon(a,f):"",u=100!==r?L.reverseLookupDemon(a,r):"";for(const h of c.races)if(c.getLightDark(h)<0)for(const v of L.getIngredientDemonLvls(h)){const g=L.reverseLookupDemon(h,v);l>=v&&(l+v)%7==0&&o.push({name1:x,name2:g}),f>=v&&(f+v)%7!=0&&(f+v)%5==0&&o.push({name1:m,name2:g}),r>=v&&(r+v)%7!=0&&(r+v)%5!=0&&(r+v)%3==0&&o.push({name1:u,name2:g})}return o.filter(h=>""!==h.name1)}function O(t,L,c){const{race:a,lvl:i}=L.getDemon(t),n=[0,0].concat(L.getResultDemonLvls(a),[100,100]),s=n.indexOf(i),o=[];if(c.getLightDark(a)<0||-1===s)return o;const l=n[s+2],f=n[s+1],r=n[s-1],x=100!==l?L.reverseLookupDemon(a,l):"",m=100!==f?L.reverseLookupDemon(a,f):"",u=0!==r?L.reverseLookupDemon(a,r):"";for(const h of c.races)if(c.getLightDark(h)<0){const v=L.getIngredientDemonLvls(h);for(let g=0;g<v.length;g++){const E=v[g],F=L.reverseLookupDemon(h,E);i>=E?(i+E)%7==0?o.push({name1:F,name2:x}):(i+E)%5==0?o.push({name1:F,name2:m}):(i+E)%3==0?o.push({name1:F,name2:u}):(i+E)%2==0&&g>0&&o.push({name1:F,name2:L.reverseLookupDemon(h,v[g-1])}):(i+E)%2==0&&g<v.length-1?o.push({name1:F,name2:L.reverseLookupDemon(h,v[g+1])}):(i+E)%2==1&&o.push({name1:F,name2:"Slime"})}}return o.filter(h=>""!==h.name2)}p.d(I,{c:()=>O,f:()=>e})},6404:(B,I,p)=>{function e(a,i){const n=i.getDemon(a);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:a}}function O(a,i){const n=i.getDemon(a.name1),s=i.getDemon(a.name2);return{price:n.price+s.price,race1:n.race,lvl1:n.currLvl,name1:a.name1,race2:s.race,lvl2:s.currLvl,name2:a.name2}}function t(a,i){const n=i.getDemon(a.name1),s=i.getDemon(a.name2);return{price:n.price,race1:n.race,lvl1:n.currLvl,name1:a.name1,race2:s.race,lvl2:s.lvl,name2:a.name2}}function L(a,i){const n=i.getDemon(a.name1),s=i.getDemon(a.name2),o=i.getDemon(a.name3);return{price:n.price+s.price+o.price,d1:n,d2:s,d3:o}}function c(a,i){const n=i.getDemon(a.name1),s=i.getDemon(a.name2),o=i.getDemon(a.name3);return{price:n.price+s.price,d1:n,d2:s,d3:o}}p.d(I,{Aw:()=>L,D0:()=>t,Fk:()=>e,S6:()=>O,YL:()=>c})},3837:(B,I,p)=>{p.d(I,{N:()=>e});class e{constructor(t,L){this.fuseNonelem=t,this.fuseElement=L}getFusions(t,L,c){let a=[];const i=L.isElementDemon(t)?this.fuseElement:this.fuseNonelem;for(const n of i)a=a.concat(n(t,L,c));return a}}},6262:(B,I,p)=>{p.d(I,{g:()=>e});let e=(()=>{var O;class t{static loadFusionTableJson(c,a){const i={},n=1===a[0].length;for(const s of c)i[s]={};for(let s=0;s<a.length;s++){const o=c[s],l=a[s],f=n?0:c.length-l.length;for(let r=0;r<l.length;r++){const x=c[r+f],m=l[r];"-"!==m&&(i[o][x]=m,i[x][o]=m)}}return i}static loadFissionTableJson(c,a,i){const n={},s=1===i[0].length;for(let o=0;o<i.length;o++){const l=c[o],f=i[o],r=s?0:c.length-f.length;for(let x=0;x<f.length;x++){const m=c[x+r],u=f[x];"-"!==u&&(n[u]||(n[u]={}),n[u][l]||(n[u][l]=[]),n[u][l].push(m))}}return n}static loadElementTableJson(c,a,i){const n={};for(const s of a)n[s]={};for(let s=0;s<i.length;s++){const o=c[s],l=i[s];for(let f=0;f<l.length;f++){const x=i[s][f];x&&(n[a[f]][o]=x)}}return n}static mergeFusionTables(c,a){const i={};for(const[n,s]of Object.entries(c))i[n]=Object.assign({},s);for(const[n,s]of Object.entries(a))i[n]=Object.assign(i[n]||{},s);return i}static mergeFissionTables(c,a){const i={};for(const[n,s]of Object.entries(c)){i[n]={};for(const[o,l]of Object.entries(s))i[n][o]=l.slice()}for(const[n,s]of Object.entries(a)){i[n]=i[n]||{};for(const[o,l]of Object.entries(s))i[n][o]=l.concat(i[n][o]||[])}return i}getLightDark(c){return-1!==t.LIGHT_RACES.indexOf(c)?1:-1!==t.DARK_RACES.indexOf(c)?-1:0}getRaceFissions(c){return this.fissionChart[c]||{}}getRaceFusions(c){return this.fusionChart[c]||{}}getRaceFusion(c,a){return this.getRaceFusions(c)[a]||""}getElemModifiers(c){const a={};for(const[i,n]of Object.entries(this.elementChart)){const s=n[c];s&&(a[s]||(a[s]=[]),a[s].push(i))}return a}getElemFusions(c){return this.elementChart[c]||{}}isConvertedRace(c){return!1}}return(O=t).LIGHT_RACES=["Herald","Megami","Avian","Tree","Deity","Avatar","Holy","Genma","Fury","Lady","Dragon","Kishin","Enigma","Geist","Entity","Amatsu","Kunitsu","Godly","Chaos"],O.DARK_RACES=["Vile","Raptor","Wood","Reaper","Wilder","Jaki","Vermin","Tyrant","Drake","Spirit","Haunt","Ghost","Zealot"],t})()},6213:(B,I,p)=>{p.d(I,{e:()=>e});class e{constructor(t,L){this.fuseNonelem=t,this.fuseElement=L}getFusions(t,L,c){let a=[];const i=L.isElementDemon(t)?this.fuseElement:this.fuseNonelem;for(const n of i)a=a.concat(n(t,L,c));return a}}},2173:(B,I,p)=>{p.d(I,{DY:()=>s,JZ:()=>c,LG:()=>i,Lu:()=>t,Vk:()=>n,Yk:()=>a,b0:()=>L,tq:()=>O});var e=p(4769);let O=(()=>{var o;class l{transform(r){return 0===r?"Auto":r<=100?`${r}% HP`:r<=200?r-100+"% MP":r<=1e3?r-200+" HP":r<=2e3?r-1e3+" MP":r<=2005?r-2e3+" CC":r-2e3+" MG"}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"skillCostToString",type:o,pure:!0}),l})(),t=(()=>{var o;class l{transform(r){return r<=0?"Innate":r<120?r.toString():String.fromCharCode(Math.floor(r/100)+32)+String.fromCharCode(r%100+32)}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"skillLevelToString",type:o,pure:!0}),l})(),L=(()=>{var o;class l{transform(r){return r<=0?"":r<120?`(${r.toString()})`:"("+String.fromCharCode(Math.floor(r/100)+32)+String.fromCharCode(r%100+32)+")"}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"skillLevelToShortString",type:o,pure:!0}),l})(),c=(()=>{var o;class l{transform(r){return r>0?`+${r}`:r.toString()}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"affinityToString",type:o,pure:!0}),l})(),a=(()=>{var o;class l{transform(r){return Math.floor(r)}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"lvlToNumber",type:o,pure:!0}),l})(),i=(()=>{var o;class l{transform(r){return r<-1e3?"ab":r<0?"rp":0===r?"nu":r<100?"rs":r<1e3?"no":r<2e3?"wk":"fr"}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"reslvlToString",type:o,pure:!0}),l})(),n=(()=>{var o;class l{transform(r){return r<-1e3?"\u5438":r<0?"\u53cd":0===r?"\u7121":r<100?"\u5f37":r<1e3?"\u30fc":r<2e3?"\u5f31":"?"}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"reslvlToStringJa",type:o,pure:!0}),l})(),s=(()=>{var o;class l{transform(r){return 0===r?0:r<100?50:100===r?100:r<800?500:1e3}}return(o=l).\u0275fac=function(r){return new(r||o)},o.\u0275pipe=e.Yjl({name:"roundInheritPercent",type:o,pure:!0}),l})()},5068:(B,I,p)=>{p.d(I,{X:()=>O});var e=p(4769);let O=(()=>{var t;class L{constructor(a,i){this.elementRef=a,this.renderer=i,this.borderWidth=2}get colWidths(){const a=[],i=this.elementRef.nativeElement.children;if(i.length)for(const n of i[i.length-1].children)a.push(n.getBoundingClientRect().width-2*this.borderWidth);return a}set colWidths(a){const i=this.elementRef.nativeElement.children;if(i.length){const n=i[i.length-1].children;for(let s=0;s<n.length;s++)this.renderer.setStyle(n[s],"width",`${a[s]}px`)}}}return(t=L).\u0275fac=function(a){return new(a||t)(e.Y36(e.SBq),e.Y36(e.Qsj))},t.\u0275dir=e.lG2({type:t,selectors:[["","appColumnWidths",""]],inputs:{borderWidth:"borderWidth",colWidths:"colWidths"}}),L})()},3247:(B,I,p)=>{p.d(I,{L:()=>t});var e=p(5619),O=p(4769);let t=(()=>{var L;class c{constructor(i){this._edges$=new e.X({top:0,bottom:0,left:0,right:0,zIndex:10}),this.edges=this._edges$.asObservable(),this.parentEdges=i?i.edges:new e.X({top:0,bottom:0,left:0,right:0,zIndex:10}).asObservable()}nextEdges(i){this._edges$.next(i)}}return(L=c).\u0275fac=function(i){return new(i||L)(O.LFG(L,12))},L.\u0275prov=O.Yz7({token:L,factory:L.\u0275fac}),c})()},3808:(B,I,p)=>{p.d(I,{v:()=>t});var e=p(4769),O=p(3247);let t=(()=>{var L;class c{constructor(i,n,s){this.elementRef=i,this.renderer=n,this.edgesService=s,this.cPositionSticky=!0,this.sZIndex=0,this.subscriptions=[],this._edges={top:0,bottom:0,left:0,right:0,zIndex:10}}ngOnInit(){this.subscriptions.push(this.edgesService.parentEdges.subscribe(i=>{this.edges=i}))}ngOnDestroy(){for(const i of this.subscriptions)i.unsubscribe()}nextEdges(){setTimeout(()=>this.edgesService.nextEdges(this.edges))}get edges(){return Object.assign({},this._edges,{top:this._edges.top+this.elementRef.nativeElement.clientHeight,zIndex:this._edges.zIndex-1})}set edges(i){this._edges=i,this.sZIndex=i.zIndex,this.renderer.setStyle(this.elementRef.nativeElement,"top",`${i.top}px`),this.nextEdges()}}return(L=c).\u0275fac=function(i){return new(i||L)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(O.L))},L.\u0275dir=e.lG2({type:L,selectors:[["","appPositionSticky",""]],hostVars:4,hostBindings:function(i,n){2&i&&(e.Udp("z-index",n.sZIndex),e.ekj("position-sticky",n.cPositionSticky))},inputs:{edges:"edges"}}),c})()},9217:(B,I,p)=>{p.d(I,{D:()=>i,j:()=>a});var e=p(4769),O=p(5068),t=p(3808);const L=["stickyHeader"],c=["hiddenHeader"];let a=(()=>{var n;class s{constructor(){this.sortAsc=!0,this.sortAscIndex=1,this.sortFunIndexChanged=new e.vpe}get sortFunIndex(){return(this.sortAsc?1:-1)*this.sortAscIndex}set sortFunIndex(l){this.sortAsc=l>0,this.sortAscIndex=(this.sortAsc?1:-1)*l}sortDirClass(l){return this.sortAscIndex!==l?"none":this.sortAsc?"asc":"desc"}nextSortFunIndex(l){this.sortAsc=this.sortAscIndex!==l||!this.sortAsc,this.sortAscIndex=l,this.sortFunIndexChanged.emit(this.sortFunIndex)}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275dir=e.lG2({type:n,inputs:{sortFunIndex:"sortFunIndex"},outputs:{sortFunIndexChanged:"sortFunIndexChanged"}}),s})(),i=(()=>{var n;class s{constructor(){this._rowData=[],this._sortFunIndex=0}get rowData(){return this._rowData}set rowData(l){this._rowData=l,this.sort()}get sortFunIndex(){return this._sortFunIndex}set sortFunIndex(l){this._sortFunIndex=l,this.sort()}sort(){this.sortFunIndex>=0?this.rowData.sort(this.getSortFun(this.sortFunIndex)):this.sortFunIndex<0&&this.rowData.sort((l,f)=>this.getSortFun(-1*this.sortFunIndex)(f,l)),setTimeout(this.matchColWidths.bind(this))}matchColWidths(){this.stickyHeader&&this.hiddenHeader&&(this.stickyHeader.colWidths=this.hiddenHeader.colWidths)}}return(n=s).\u0275fac=function(l){return new(l||n)},n.\u0275dir=e.lG2({type:n,viewQuery:function(l,f){if(1&l&&(e.Gf(t.v,5),e.Gf(L,5,O.X),e.Gf(c,5,O.X)),2&l){let r;e.iGM(r=e.CRH())&&(f.stickyTable=r.first),e.iGM(r=e.CRH())&&(f.stickyHeader=r.first),e.iGM(r=e.CRH())&&(f.hiddenHeader=r.first)}},inputs:{rowData:"rowData",sortFunIndex:"sortFunIndex"}}),s})()}}]);