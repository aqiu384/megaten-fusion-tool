"use strict";(self.webpackChunkmegaten_fusion_tool=self.webpackChunkmegaten_fusion_tool||[]).push([[555],{302:(P,I,r)=>{r.d(I,{F:()=>p});var F=r(1090),t=r(2598),s=r(177),o=r(2940),L=r(4207);function O(n,e){if(1&n&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&n){const i=t.XpG();t.R7$(1),t.JRh(t.i5U(2,1,i.msgs.Target,i.lang))}}function D(n,e){if(1&n&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&n){const i=t.XpG();t.R7$(1),t.JRh(t.i5U(2,1,i.msgs.Rank,i.lang))}}function M(n,e){1&n&&(t.j41(0,"th"),t.EFF(1,"Inherit"),t.k0s())}function j(n,e){1&n&&(t.j41(0,"th"),t.EFF(1,"Lvl"),t.k0s())}const E=function(n,e){return{extra:n,unique:e}};function c(n,e){if(1&n&&t.nrm(0,"tr",4),2&n){const i=e.$implicit,l=t.XpG();t.Y8G("hasTarget",l.hasTarget)("hasRank",l.hasRank)("hasInherit",l.hasInherit)("hasLearned",!1)("hasLvl",l.hasLvl)("skillLvl",i.level)("data",i)("ngClass",t.l_i(8,E,i.rank>70&&i.rank<90,i.rank>90))}}function g(n,e){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s()()),2&n){const i=t.XpG();t.R7$(1),t.BMQ("colspan",i.skillHeaderLen),t.R7$(1),t.SpI("No ",i.title," Found")}}let p=(()=>{class n{constructor(){this.title="Learned Skills",this.hasInherit=!1,this.hasTarget=!1,this.hasRank=!1,this.hasLvl=!0,this.lang="en",this.skillHeaderLen=5,this.msgs=F.vf}ngOnInit(){this.nextColIndices()}ngOnChanges(){this.nextSkills()}nextColIndices(){this.hasInherit&&(this.skillHeaderLen+=1),this.hasTarget&&(this.skillHeaderLen+=1),this.hasRank&&(this.skillHeaderLen+=1)}nextSkills(){this.skills=Object.keys(this.skillLevels).map(i=>this.compendium.getSkill(i));for(const i of this.skills)i.level=this.skillLevels[i.name];this.elemOrder&&this.skills.sort((i,l)=>200*(i.level-l.level)+this.elemOrder[i.element]-this.elemOrder[l.element])}static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-demon-skills"]],inputs:{title:"title",hasInherit:"hasInherit",hasTarget:"hasTarget",hasRank:"hasRank",hasLvl:"hasLvl",compendium:"compendium",elemOrder:"elemOrder",skillLevels:"skillLevels",lang:"lang"},features:[t.OA$],decls:26,vars:24,consts:[[1,"entry-table"],[1,"title"],[4,"ngIf"],["class","app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass",4,"ngFor","ngForOf"],[1,"app-smt-skill-list-row",3,"hasTarget","hasRank","hasInherit","hasLearned","hasLvl","skillLvl","data","ngClass"]],template:function(l,d){1&l&&(t.j41(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t.EFF(4),t.k0s()(),t.j41(5,"tr")(6,"th"),t.EFF(7),t.nI1(8,"translateComp"),t.k0s(),t.j41(9,"th"),t.EFF(10),t.nI1(11,"translateComp"),t.k0s(),t.j41(12,"th"),t.EFF(13),t.nI1(14,"translateComp"),t.k0s(),t.j41(15,"th"),t.EFF(16),t.nI1(17,"translateComp"),t.k0s(),t.DNE(18,O,3,4,"th",2),t.DNE(19,D,3,4,"th",2),t.DNE(20,M,2,0,"th",2),t.DNE(21,j,2,0,"th",2),t.k0s()(),t.j41(22,"tbody"),t.DNE(23,c,1,11,"tr",3),t.DNE(24,g,3,2,"tr",2),t.nrm(25,"tr"),t.k0s()()),2&l&&(t.R7$(3),t.BMQ("colSpan",d.skillHeaderLen),t.R7$(1),t.JRh(d.title),t.R7$(3),t.JRh(t.i5U(8,12,d.msgs.Elem,d.lang)),t.R7$(3),t.JRh(t.i5U(11,15,d.msgs.Name,d.lang)),t.R7$(3),t.JRh(t.i5U(14,18,d.msgs.Cost,d.lang)),t.R7$(3),t.JRh(t.i5U(17,21,d.msgs.Effect,d.lang)),t.R7$(2),t.Y8G("ngIf",d.hasTarget),t.R7$(1),t.Y8G("ngIf",d.hasRank),t.R7$(1),t.Y8G("ngIf",d.hasInherit),t.R7$(1),t.Y8G("ngIf",d.hasLvl),t.R7$(2),t.Y8G("ngForOf",d.skills),t.R7$(1),t.Y8G("ngIf",!d.skills.length))},dependencies:[s.YU,s.Sq,s.bT,o.t,L.uz],encapsulation:2,changeDetection:0})}}return n})()},3679:(P,I,r)=>{r.d(I,{C:()=>n});var F=r(1090),t=r(2598),s=r(177),o=r(4207);function L(e,i){if(1&e&&(t.j41(0,"h2"),t.EFF(1),t.k0s()),2&e){const l=t.XpG();t.R7$(1),t.JRh(l.title)}}function O(e,i){if(1&e&&(t.j41(0,"th"),t.EFF(1),t.nI1(2,"translateComp"),t.k0s()),2&e){const l=t.XpG();t.R7$(1),t.JRh(t.i5U(2,1,l.msgs.Price,l.lang))}}function D(e,i){if(1&e&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&e){const l=i.$implicit;t.R7$(1),t.JRh(l)}}function M(e,i){1&e&&(t.j41(0,"th"),t.EFF(1,"Inherits"),t.k0s())}function j(e,i){if(1&e&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&e){const l=i.$implicit;t.R7$(1),t.JRh(l)}}function E(e,i){if(1&e&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&e){const l=t.XpG();t.R7$(1),t.JRh(l.price)}}function c(e,i){if(1&e&&(t.j41(0,"td"),t.EFF(1),t.k0s()),2&e){const l=i.$implicit;t.R7$(1),t.JRh(l)}}function g(e,i){if(1&e&&(t.j41(0,"td")(1,"div"),t.EFF(2),t.k0s()()),2&e){const l=t.XpG();t.R7$(1),t.ZvI("element-icon i",l.inherits,""),t.R7$(1),t.JRh(l.inherits)}}const p=["*"];let n=(()=>{class e{constructor(){this.title="Demon Entry",this.statHeaders=[],this.stats=[],this.fusionHeaders=[],this.price=0,this.lang="en",this.msgs=F.Cj}static{this.\u0275fac=function(d){return new(d||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-demon-stats"]],inputs:{title:"title",statHeaders:"statHeaders",stats:"stats",fusionHeaders:"fusionHeaders",inherits:"inherits",price:"price",lang:"lang"},ngContentSelectors:p,decls:20,vars:13,consts:[[4,"ngIf"],[1,"entry-table"],[1,"title"],[4,"ngFor","ngForOf"]],template:function(d,h){1&d&&(t.NAR(),t.qex(0),t.DNE(1,L,2,1,"h2",0),t.j41(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),t.EFF(6),t.nI1(7,"translateComp"),t.k0s()(),t.j41(8,"tr"),t.DNE(9,O,3,4,"th",0),t.DNE(10,D,2,1,"th",3),t.DNE(11,M,2,0,"th",0),t.DNE(12,j,2,1,"th",3),t.k0s()(),t.j41(13,"tbody")(14,"tr"),t.DNE(15,E,2,1,"td",0),t.DNE(16,c,2,1,"td",3),t.DNE(17,g,3,4,"td",0),t.SdG(18),t.k0s()()(),t.eu8(19),t.bVm()),2&d&&(t.R7$(1),t.Y8G("ngIf",h.title.includes("Lvl")),t.R7$(4),t.BMQ("colSpan",h.stats.length+h.fusionHeaders.length+(h.inherits?1:0)+(h.price?1:0)),t.R7$(1),t.SpI(" ",h.title.includes("Lvl")?t.i5U(7,10,h.msgs.Stats,h.lang):h.title," "),t.R7$(3),t.Y8G("ngIf",h.price),t.R7$(1),t.Y8G("ngForOf",h.statHeaders),t.R7$(1),t.Y8G("ngIf",h.inherits),t.R7$(1),t.Y8G("ngForOf",h.fusionHeaders),t.R7$(3),t.Y8G("ngIf",h.price),t.R7$(1),t.Y8G("ngForOf",h.stats),t.R7$(1),t.Y8G("ngIf",h.inherits))},dependencies:[s.Sq,s.bT,o.uz],encapsulation:2,changeDetection:0})}}return e})()},9023:(P,I,r)=>{r.d(I,{q:()=>g});var F=r(2755),t=r(1090),s=r(2598),o=r(345),L=r(8935),O=r(177);function D(p,n){if(1&p&&(s.j41(0,"th"),s.EFF(1),s.k0s()),2&p){const e=n.$implicit,i=s.XpG();s.R7$(1),s.JRh(e.slice(0,i.nameCut))}}function M(p,n){if(1&p&&(s.j41(0,"td",4),s.EFF(1),s.k0s()),2&p){const e=n.$implicit,i=s.XpG(2);s.Y8G("ngClass",e.slice(0,4)),s.R7$(1),s.JRh(e.slice(4,i.nameCut+4))}}function j(p,n){if(1&p&&(s.j41(0,"tr")(1,"th"),s.EFF(2),s.k0s(),s.DNE(3,M,2,2,"td",3),s.j41(4,"th"),s.EFF(5),s.k0s()()),2&p){const e=n.$implicit;s.R7$(2),s.JRh(e[0]),s.R7$(1),s.Y8G("ngForOf",e.slice(1,e.length-1)),s.R7$(2),s.JRh(e[e.length-1])}}function E(p,n){if(1&p&&(s.j41(0,"th"),s.EFF(1),s.k0s()),2&p){const e=n.$implicit,i=s.XpG();s.R7$(1),s.JRh(e.slice(0,i.nameCut))}}function c(p,n){if(1&p&&(s.j41(0,"tr")(1,"th",0),s.EFF(2),s.k0s()()),2&p){const e=s.XpG();s.R7$(1),s.BMQ("colspan",e.table[0].length),s.R7$(1),s.Lme("",e.appName," ",e.tripTitle,"")}}class g{static{this.RESULT_COLORS=Object.entries({oran:["-2","Erthys","Gnome","Saki","Saki Mitama","Random","\u30a2\u30fc\u30b7\u30fc\u30ba","\u30ce\u30fc\u30e0","\u30b5\u30ad\u30df\u30bf\u30de"],redd:["-1","Flaemis","Salamander","Ara ","Ara Mitama","Fiend","\u30d5\u30ec\u30a4\u30df\u30fc\u30ba","\u30b5\u30e9\u30de\u30f3\u30c0\u30fc","\u30a2\u30e9\u30df\u30bf\u30de"],gree:["1","Aeros","Sylph","Kusi","Kusi Mitama","UMA","\u30a8\u30a2\u30ed\u30b9","\u30b7\u30eb\u30ad\u30fc","\u30af\u30b7\u30df\u30bf\u30de"],blue:["2","Aquans","Undine","Nigi","Nigi Mitama","Enigma","\u30a2\u30af\u30a2\u30f3\u30ba","\u30a6\u30f3\u30c7\u30a3\u30fc\u30cd","\u30cb\u30ae\u30df\u30bf\u30de"]})}constructor(n,e){this.title2=n,this.route=e,this.normTitle="Normal Fusions",this.tripTitle="",this.isPersona=!1,this.filterDarks=!0,this.lang="en",this.msgs=t.qh,this.subscriptions=[],this.table=[],this.nameCut=4}ngOnInit(){this.subscriptions.push(this.route.parent.data.subscribe(n=>{this.appName=n.appName||"Shin Megami Tensei",this.nameCut=parseInt((0,F.oO)(this.msgs.NameCut,n.lang)),this.title2.setTitle((0,F.oO)(this.msgs.AppTitle,n.lang).replace("$APP",this.appName))}))}ngOnChanges(){this.normChart&&this.fillFusionChart()}ngOnDestroy(){for(const n of this.subscriptions)n.unsubscribe()}fillFusionChart(){const n="noneNone",i=g.RESULT_COLORS.reduce((_,[v,T])=>T.reduce((b,U)=>(b[U]=v,b),_),{}),l=this.normChart.elementDemons;let d=[],h=this.normChart.races,k=[];this.filterDarks&&(d=this.normChart.races.filter(_=>this.normChart.getLightDark(_)>0),h=this.normChart.races.filter(_=>0===this.normChart.getLightDark(_)),k=this.normChart.races.filter(_=>-1===this.normChart.getLightDark(_)),0===k.length&&d.length>0&&(d=this.normChart.races.filter(_=>this.normChart.getLightDark(_)>-1),h=[],k=this.normChart.races.filter(_=>this.normChart.getLightDark(_)<-1)));const C=d.length-k.length,y=d.concat(h,l),G=k.length?k.concat(Array(y.length-k.length).fill("")):y,N=this.mitaTable?y:d.concat(h,Array(l.length).fill("")),A=this.mitaTable||k.length?Array(C).fill("").concat(k,h,l):y;this.table=[[""].concat(y,[""])];for(let _=0;_<A.length;_++){const v=Array(y.length+2).fill("empt-"),T=A[_],b=N[_],U=-1!==l.indexOf(T),u=-1!==l.indexOf(b);this.table.push(v),v[0]=T,v[v.length-1]=b;for(let R=_;R<y.length;R++){const a=y[R],m=-1!==l.indexOf(a);if(m&&u){const f=l.indexOf(b),S=l.indexOf(a),$=this.mitaTable[S][f].replace("-","");v[R+1]=$?(i[$]||"norm")+$:n}else if(m&&b){const f=this.normChart.getElemFusions(a)[b];v[R+1]=f?(i[f]||"rank")+(f>0?"+":"")+f.toString():n}else if(a&&b){const f=this.isPersona&&a===b?a:this.normChart.getRaceFusion(a,b);v[R+1]=f?(i[f]||(a===b?"elem":"norm"))+f:n}}if(this.tripChart)for(let R=0;R<=_-C;R++){const a=G[R];if(a&&U){const m=this.tripChart.getElemFusions(T)[a];v[R+1]=m?(i[m]||"rank")+(m>0?"+":"")+m.toString():n}else if(a&&T){const m=this.tripChart.getRaceFusion(a,T);v[R+1]=m?(i[m]||(a===T?"elem":"trip"))+m:n}}if(-1!==T.indexOf(" x ")){const[R,a]=T.split(" x "),m=R.slice(0,3)+"x"+a.slice(0,3);v[0]=m,v[v.length-1]=m}else if(-1!==T.indexOf(" ")){const R=T.split(" ")[0];v[0]=R,v[v.length-1]=R}}for(let _=0;_<this.table[0].length;_++){const v=this.table[0][_];if(-1!==v.indexOf(" x ")){const[T,b]=v.split(" x ");this.table[0][_]=T.slice(0,2)+b.slice(0,2)}}this.table.push([""].concat(G,[""]))}static{this.\u0275fac=function(e){return new(e||g)(s.rXU(o.hE),s.rXU(L.nX))}}static{this.\u0275cmp=s.VBU({type:g,selectors:[["app-fusion-chart"]],inputs:{normChart:"normChart",tripChart:"tripChart",mitaTable:"mitaTable",normTitle:"normTitle",tripTitle:"tripTitle",isPersona:"isPersona",filterDarks:"filterDarks",lang:"lang",counter:"counter"},features:[s.OA$],decls:12,vars:7,consts:[[1,"title"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(e,i){1&e&&(s.j41(0,"table")(1,"tbody")(2,"tr")(3,"th",0),s.EFF(4),s.k0s()(),s.j41(5,"tr"),s.DNE(6,D,2,1,"th",1),s.k0s(),s.DNE(7,j,6,3,"tr",1),s.j41(8,"tr"),s.DNE(9,E,2,1,"th",1),s.k0s(),s.DNE(10,c,3,3,"tr",2),s.k0s(),s.nrm(11,"tbody"),s.k0s()),2&e&&(s.R7$(3),s.BMQ("colspan",i.table[0].length),s.R7$(1),s.Lme("",i.appName," ",i.normTitle,""),s.R7$(2),s.Y8G("ngForOf",i.table[0]),s.R7$(1),s.Y8G("ngForOf",i.table.slice(1,i.table.length-1)),s.R7$(2),s.Y8G("ngForOf",i.table[i.table.length-1]),s.R7$(1),s.Y8G("ngIf",i.tripTitle))},dependencies:[O.YU,O.Sq,O.bT],styles:["table[_ngcontent-%COMP%]{width:auto;margin:0 auto;white-space:nowrap}td.elem[_ngcontent-%COMP%]{color:#0f0}td.trip[_ngcontent-%COMP%]{color:#d3d3d3}td.oran[_ngcontent-%COMP%]{color:orange}td.redd[_ngcontent-%COMP%]{color:red}td.gree[_ngcontent-%COMP%]{color:#0f0}td.blue[_ngcontent-%COMP%]{color:#0ff}td.none[_ngcontent-%COMP%]{color:transparent}td.empt[_ngcontent-%COMP%]{background-color:transparent;color:transparent}"],changeDetection:0})}}},6122:(P,I,r)=>{r.d(I,{L:()=>p});var F=r(3885),t=r(9108),s=r(1090),o=r(2598),L=r(177),O=r(8935),D=r(4207);const M=function(){return{exact:!0}};function j(n,e){if(1&n&&(o.j41(0,"th",4)(1,"a",5),o.EFF(2),o.nI1(3,"translateComp"),o.k0s()()),2&n){const i=e.$implicit,l=o.XpG();o.xc7("width",100/l.fusionOptions.length,"%"),o.Y8G("routerLink",i.link)("routerLinkActiveOptions",o.lJ4(9,M)),o.R7$(1),o.Y8G("routerLink",i.link),o.R7$(1),o.JRh(o.i5U(3,6,i.title,l.lang))}}function E(n,e){if(1&n&&(o.j41(0,"tr")(1,"th",6),o.EFF(2),o.nI1(3,"translateComp"),o.k0s()()),2&n){const i=o.XpG();o.R7$(1),o.BMQ("colspan",i.fusionOptions.length),o.R7$(1),o.SpI(" ",o.i5U(3,2,i.msgs.DlcExcluded,i.lang)," ")}}function c(n,e){if(1&n&&(o.j41(0,"tr")(1,"th",6),o.SdG(2),o.k0s()()),2&n){const i=o.XpG();o.R7$(1),o.BMQ("colspan",i.fusionOptions.length)}}const g=["*"];let p=(()=>{class n{constructor(){this.hasTripleFusion=!1,this.showFusionAlert=!1,this.excludedDlc=!1,this.lang="en",this.msgs=s.Lq,this.fusionOptions=[{title:this.msgs.NormalFissions,link:"fissions"},{title:this.msgs.NormalFusions,link:"fusions"}]}ngOnInit(){this.hasTripleFusion&&(this.fusionOptions=[{title:this.msgs.DoubleFissions,link:"fissions"},{title:this.msgs.TripleFissions,link:"fissions/triple"},{title:this.msgs.TripleFusions,link:"fusions/triple"},{title:this.msgs.DoubleFusions,link:"fusions"}])}ngOnChanges(){setTimeout(()=>this.stickyTable.nextEdges())}static{this.\u0275fac=function(l){return new(l||n)}}static{this.\u0275cmp=o.VBU({type:n,selectors:[["app-smt-fusions"]],viewQuery:function(l,d){if(1&l&&o.GBs(t.a,5),2&l){let h;o.mGM(h=o.lsd())&&(d.stickyTable=h.first)}},inputs:{hasTripleFusion:"hasTripleFusion",showFusionAlert:"showFusionAlert",excludedDlc:"excludedDlc",lang:"lang"},features:[o.Jv_([F.P]),o.OA$],ngContentSelectors:g,decls:11,vars:3,consts:[["appPositionSticky","",1,"list-table"],["stickyTable",""],["class","nav","routerLinkActive","active",3,"routerLink","width","routerLinkActiveOptions",4,"ngFor","ngForOf"],[4,"ngIf"],["routerLinkActive","active",1,"nav",3,"routerLink","routerLinkActiveOptions"],[3,"routerLink"],[1,"title"]],template:function(l,d){1&l&&(o.NAR(),o.j41(0,"div")(1,"table",0,1)(3,"thead")(4,"tr"),o.DNE(5,j,4,10,"th",2),o.k0s(),o.DNE(6,E,4,5,"tr",3),o.nrm(7,"tr"),o.DNE(8,c,3,1,"tr",3),o.nrm(9,"tr"),o.k0s()(),o.nrm(10,"router-outlet"),o.k0s()),2&l&&(o.R7$(5),o.Y8G("ngForOf",d.fusionOptions),o.R7$(1),o.Y8G("ngIf",d.excludedDlc),o.R7$(2),o.Y8G("ngIf",d.showFusionAlert))},dependencies:[L.Sq,L.bT,O.n3,O.Wk,O.wQ,t.a,D.uz],encapsulation:2,changeDetection:0})}}return n})()},232:(P,I,r)=>{r.d(I,{S:()=>U});var F=r(8935),t=r(2598),s=r(5320),o=r(177),L=r(5583);let O=(()=>{class u{constructor(a){this.appCssClasses=a.compConfig.appCssClasses}static{this.\u0275fac=function(m){return new(m||u)(t.rXU(s.i))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-smt1-compendium"]],decls:1,vars:2,consts:[[3,"ngClass","hasSettings"]],template:function(m,f){1&m&&t.nrm(0,"app-demon-compendium",0),2&m&&t.Y8G("ngClass",f.appCssClasses)("hasSettings",!1)},dependencies:[o.YU,L.f],styles:[".kuzu div.element-icon{height:12px;background-size:12px;background-repeat:no-repeat;background-position:center;color:transparent}.kuzu div.element-icon.phy{background-image:url(/assets/images/smtsj/phy.png)}.kuzu div.element-icon.gun{background-image:url(/assets/images/smtsj/gun.png)}.kuzu div.element-icon.fir{background-image:url(/assets/images/smtsj/fir.png)}.kuzu div.element-icon.ice{background-image:url(/assets/images/smtsj/ice.png)}.kuzu div.element-icon.ele{background-image:url(/assets/images/smtsj/ele.png)}.kuzu div.element-icon.for{background-image:url(/assets/images/smtsj/win.png)}.kuzu div.element-icon.dea{background-image:url(/assets/images/smtsj/cur.png)}.kuzu div.element-icon.min{background-image:url(/assets/images/smt4f/panic.png)}.kuzu div.element-icon.alm{background-image:url(/assets/images/smtsj/alm.png)}.kuzu div.element-icon.rec{background-image:url(/assets/images/smtsj/rec.png)}.kuzu div.element-icon.sup{background-image:url(/assets/images/smtsj/sup.png)}.kuzu div.element-icon.pas{background-image:url(/assets/images/smtsj/pas.png)}.kuzu div.element-icon.inv{background-image:url(/assets/images/smtsj/spe.png)}.kuzu div.element-icon.bos{background-image:url(/assets/images/smtsj/spe.png)}.kuzu div.element-icon.mys{background-image:url(/assets/images/smt4f/curse.png)}.kuzu div.element-icon.aut{background-image:url(/assets/images/smtsj/spe.png)}.kuzu div.element-icon.rac{background-image:url(/assets/images/smtsj/spe.png)}.kuzu div.element-icon.non{background-image:url(/assets/images/smtsj/spe.png)}.krch th.title,.krch th.nav.active,.krch th.nav.active a{color:#000;background-color:#856363}.krao th.title,.krao th.nav.active,.krao th.nav.active a{color:#fff;background-color:#8e283d}.mjn1 th.title,.mjn1 th.nav.active,.mjn1 th.nav.active a{color:#fff;background-color:#004381}.ds1 th.title,.ds1 th.nav.active,.ds1 th.nav.active a{color:#fff;background-color:#e83145}.ds2 th.title,.ds2 th.nav.active,.ds2 th.nav.active a{color:#fff;background-color:#0078e8}\n"],encapsulation:2,changeDetection:0})}}return u})();var D=r(9404),M=r(345),j=r(9629);let E=(()=>{class u extends D.M{constructor(a,m,f){super(a,m,f),this.appName=`List of Demons - ${f.appName}`,this.compConfig=f.compConfig,this.defaultSortFun=(S,$)=>200*(this.compConfig.raceOrder[S.race]-this.compConfig.raceOrder[$.race])+$.lvl-S.lvl}static{this.\u0275fac=function(m){return new(m||u)(t.rXU(M.hE),t.rXU(t.gRc),t.rXU(s.i))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-demon-list-container"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"raceOrder","statHeaders","resistHeaders","rowData"]],template:function(m,f){1&m&&(t.nrm(0,"app-smt-demon-list",0),t.nI1(1,"async")),2&m&&t.Y8G("raceOrder",f.compConfig.raceOrder)("statHeaders",f.compConfig.baseStats)("resistHeaders",f.compConfig.resistElems)("rowData",t.bMT(1,4,f.demons))},dependencies:[j.F,o.Jj],encapsulation:2,changeDetection:0})}}return u})();var c=r(9454),g=r(2940);let p=(()=>{class u extends c.E{constructor(a,m,f){super(a,m,f),this.appName=`List of Skills - ${f.appName}`,this.compConfig=f.compConfig,this.defaultSortFun=(S,$)=>1e4*(this.compConfig.elemOrder[S.element]-this.compConfig.elemOrder[$.element])+S.rank-$.rank}static{this.\u0275fac=function(m){return new(m||u)(t.rXU(M.hE),t.rXU(t.gRc),t.rXU(s.i))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-skill-list-container"]],features:[t.Vt3],decls:2,vars:6,consts:[[3,"elemOrder","hasRank","hasTarget","rowData"]],template:function(m,f){1&m&&(t.nrm(0,"app-smt-skill-list",0),t.nI1(1,"async")),2&m&&t.Y8G("elemOrder",f.compConfig.elemOrder)("hasRank",!1)("hasTarget",!0)("rowData",t.bMT(1,4,f.skills))},dependencies:[g.p,o.Jj],encapsulation:2,changeDetection:0})}}return u})();var n=r(9023);let e=(()=>{class u{constructor(a){this.fusionDataService=a,this.subscriptions=[]}ngOnInit(){const a=this.fusionDataService.compConfig;this.appName=a.appTitle,this.mitamaTable=a.elementTable.pairs||null,this.subscriptions.push(this.fusionDataService.fusionChart.subscribe(m=>{this.normChart=m}))}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}static{this.\u0275fac=function(m){return new(m||u)(t.rXU(s.i))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-fusion-chart-container"]],decls:1,vars:2,consts:[[3,"normChart","mitaTable"]],template:function(m,f){1&m&&t.nrm(0,"app-fusion-chart",0),2&m&&t.Y8G("normChart",f.normChart)("mitaTable",f.mitamaTable)},dependencies:[n.q],encapsulation:2,changeDetection:0})}}return u})();var i=r(5692),l=r(3679),d=r(2223),h=r(302),k=r(6122),C=r(8696);const y=function(){return["Personality"]};function G(u,R){if(1&u&&(t.qex(0),t.j41(1,"app-demon-stats",2)(2,"td"),t.EFF(3),t.k0s()(),t.nrm(4,"app-demon-resists",3)(5,"app-demon-skills",4)(6,"app-smt-fusions"),t.bVm()),2&u){const a=t.XpG();t.R7$(1),t.Y8G("title","Lvl "+a.demon.lvl+" "+a.demon.race+" "+a.demon.name)("price",a.demon.price)("statHeaders",a.compConfig.baseStats)("fusionHeaders",t.lJ4(13,y))("stats",a.demon.stats),t.R7$(2),t.JRh(a.demon.person),t.R7$(1),t.Y8G("resistHeaders",a.compConfig.resistElems)("resists",a.demon.resists),t.R7$(1),t.Y8G("title","Innate Skills")("hasTarget",!0)("elemOrder",a.compConfig.elemOrder)("compendium",a.compendium)("skillLevels",a.demon.skills)}}function N(u,R){if(1&u&&t.nrm(0,"app-demon-missing",5),2&u){const a=t.XpG();t.Y8G("name",a.name)}}let A=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-demon-entry"]],inputs:{name:"name",demon:"demon",compendium:"compendium",compConfig:"compConfig"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"name",4,"ngIf"],[3,"title","price","statHeaders","fusionHeaders","stats"],[3,"resistHeaders","resists"],[3,"title","hasTarget","elemOrder","compendium","skillLevels"],[3,"name"]],template:function(m,f){1&m&&(t.DNE(0,G,7,14,"ng-container",0),t.DNE(1,N,1,1,"app-demon-missing",1)),2&m&&(t.Y8G("ngIf",f.demon),t.R7$(1),t.Y8G("ngIf",!f.demon))},dependencies:[o.bT,i.X,l.C,d.w,h.F,k.L],encapsulation:2,changeDetection:0})}}return u})(),_=(()=>{class u{constructor(a,m,f,S){this.route=a,this.title=m,this.currentDemonService=f,this.fusionDataService=S,this.subscriptions=[],this.appName="Test App",this.appName=S.appName,this.compConfig=S.compConfig}ngOnInit(){this.subscribeAll()}ngOnDestroy(){for(const a of this.subscriptions)a.unsubscribe()}subscribeAll(){this.subscriptions.push(this.fusionDataService.compendium.subscribe(a=>{this.compendium=a,this.getDemonEntry()})),this.subscriptions.push(this.currentDemonService.currentDemon.subscribe(a=>{this.name=a,this.getDemonEntry()})),this.route.params.subscribe(a=>{this.currentDemonService.nextCurrentDemon(a.demonName)})}getDemonEntry(){this.compendium&&this.name&&(this.title.setTitle(`${this.name} - ${this.appName}`),this.demon=this.compendium.getDemon(this.name))}static{this.\u0275fac=function(m){return new(m||u)(t.rXU(F.nX),t.rXU(M.hE),t.rXU(C.i),t.rXU(s.i))}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-demon-entry-container"]],decls:1,vars:4,consts:[[3,"name","demon","compConfig","compendium"]],template:function(m,f){1&m&&t.nrm(0,"app-demon-entry",0),2&m&&t.Y8G("name",f.name)("demon",f.demon)("compConfig",f.compConfig)("compendium",f.compendium)},dependencies:[A],encapsulation:2,changeDetection:0})}}return u})();var v=r(2649),T=r(3452);const b=[{path:"",redirectTo:"demons",pathMatch:"full"},{path:"",component:O,data:{fusionTool:"chart"},children:[{path:"chart",component:e}]},{path:"",component:O,children:[{path:"demons/:demonName",component:_,children:[{path:"fissions",component:v.J},{path:"fusions",component:T.y},{path:"**",redirectTo:"fissions",pathMatch:"full"}]},{path:"demons",component:E},{path:"skills",component:p}]},{path:"**",redirectTo:"demons",pathMatch:"full"}];let U=(()=>{class u{static{this.\u0275fac=function(m){return new(m||u)}}static{this.\u0275mod=t.$C({type:u})}static{this.\u0275inj=t.G2t({imports:[F.iI.forChild(b),F.iI]})}}return u})()},5320:(P,I,r)=>{r.d(I,{i:()=>j});var F=r(4412),t=r(4660);class s{constructor(c){this.compConfig=c,this.pairRecipes={},this.entryRecipes={},this.initImportedData(),this.updateDerivedData()}estimateKuzuPrice(c){return Math.floor(Math.pow(c.slice(c.length-4).reduce((g,p)=>p+g,0),2)/20)}estimateDesuPrice(c){const g=c.slice(c.length-4).reduce((p,n)=>n+p,0);return Math.floor(((-.01171*g+5.0625)*g-129)*g)+1115}initImportedData(){const c={},g={},p={},n={},e={},i=this.compConfig.isDesu,l={};for(const[h,k]of Object.entries(this.compConfig.resistCodes))l[h]=((k/1e3|0)<<10)+(k%1e3/2.5|0);for(const h of this.compConfig.demonData)for(const[k,C]of Object.entries(h))c[k]={name:k,race:C.race,lvl:C.lvl,currLvl:C.lvl,price:i?this.estimateDesuPrice(C.stats):100*(this.estimateKuzuPrice(C.stats)+C.lvl),inherits:0,stats:C.stats,resists:(C.nresists||C.resists).split("").map(y=>l[y]),skills:C.nskills||C.skills,person:C.person||"",fusion:"normal",prereq:C.prereq||""};for(const h of this.compConfig.skillData)for(const[k,C]of Object.entries(h))g[k]={name:k,rank:C.rank||(1023&C.cost)/10||0,cost:C.cost||0,effect:C.effect||"",target:C.prereq||C.target||"Self",element:C.elem,learnedBy:[],level:0};for(const h of this.compConfig.races)e[h]={};for(const h of Object.values(c).sort((k,C)=>k.lvl-C.lvl)){e[h.race][h.lvl]=h.name;for(const[k,C]of Object.entries(h.skills))g[k].learnedBy.push({demon:h.name,level:C})}const d=this.compConfig.elementTable;for(const[h,k]of Object.entries((0,t.Jc)(d.elems,d.pairs)))p[h]=k,c[h].fusion="special";for(const[h,k]of Object.entries(this.compConfig.specialRecipes))n[h]=k,c[h].fusion=k.length>0?"special":"accident";this.demons=c,this.skills=g,this.pairRecipes=p,this.entryRecipes=n,this.invertedDemons=e}updateDerivedData(){const c=Object.assign({},this.demons),g=Object.keys(this.skills).map(e=>this.skills[e]),p={},n={};for(const e of this.compConfig.races)p[e]=[],n[e]=[];for(const[e,i]of Object.entries(this.demons))this.isElementDemon(e)||p[i.race].push(i.lvl),!this.pairRecipes[e]&&!this.entryRecipes[e]&&n[i.race].push(i.lvl);for(const e of this.compConfig.races)p[e].sort((i,l)=>i-l),n[e].sort((i,l)=>i-l);this._allDemons=Object.keys(c).map(e=>c[e]),this._allSkills=g,this.allIngredients=p,this.allResults=n}get allDemons(){return this._allDemons}get allSkills(){return this._allSkills}get specialDemons(){return[]}getDemon(c){return this.demons[c]}getSkill(c){return this.skills[c]}getSkills(c){const g=c.map(p=>this.skills[p]);return g.sort((p,n)=>1e4*(this.compConfig.elemOrder[p.element]-this.compConfig.elemOrder[n.element])+p.rank-n.rank),g}getIngredientDemonLvls(c){return this.allIngredients[c]||[]}getResultDemonLvls(c){return this.allResults[c]||[]}getSpecialNameEntries(c){return this.entryRecipes[c]||[]}getSpecialNamePairs(c){return this.pairRecipes[c]||[]}reverseLookupDemon(c,g){return this.invertedDemons[c][g]}reverseLookupSpecial(c){return[]}isElementDemon(c){return-1!==this.compConfig.elementTable.elems.indexOf(c)}updateFusionSettings(c){}}var o=r(8063);class L extends o.p{constructor(c){super(),this.initCharts(c)}initCharts(c){const g=c.normalTable.races,p=c.normalTable.table,n=c.elementTable.elems,e=c.elementTable.races,i=c.elementTable.table;this.races=g,this.elementDemons=n,this.lvlModifier=c.fusionLvlMod,this.fusionChart=o.p.loadFusionTableJson(g,p),this.fissionChart=o.p.loadFissionTableJson(g,[],p),this.elementChart={},this.elementChart=n.length?o.p.loadElementTableJson(e,n,i):g.reduce((l,d)=>(l[d]=[],l),{})}getLightDark(c){return 0}getRaceFusions(c){return Object.assign({},super.getRaceFusions(c))}}var O=r(6947),D=r(2598),M=r(8935);let j=(()=>{class E{constructor(g,p){const n=p.url.split("/")[1];this.compConfig=g.configs[g.configs[n]?n:"krch"],this.appName=this.compConfig.appTitle+" Fusion Calculator",this.fissionCalculator=this.compConfig.fissionCalculator,this.fusionCalculator=this.compConfig.fusionCalculator,this.compendium=new F.t(new s(this.compConfig)).asObservable(),this.fusionChart=new F.t(new L(this.compConfig)).asObservable()}updateFusionSettings(g){return{}}static{this.\u0275fac=function(p){return new(p||E)(D.KVO(O.HI),D.KVO(M.Ix))}}static{this.\u0275prov=D.jDH({token:E,factory:E.\u0275fac})}}return E})()},1555:(P,I,r)=>{r.d(I,{T:()=>O});var F=r(177),t=r(3887),s=r(9447),o=r(232),L=r(2598);let O=(()=>{class D{static forRoot(){return{ngModule:D}}static{this.\u0275fac=function(E){return new(E||D)}}static{this.\u0275mod=L.$C({type:D})}static{this.\u0275inj=L.G2t({imports:[F.MD,t.G,s.SharedCompendiumModule,o.S]})}}return D})()}}]);